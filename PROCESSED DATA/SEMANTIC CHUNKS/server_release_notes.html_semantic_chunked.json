{
    "file_name": "server_release_notes.html",
    "file_path": "./owncloud_docs\\server_release_notes.html",
    "chunks": [
        {
            "cluster": 3,
            "chunk_content": "Documentation for ownCloud (A Kiteworks Company)\nownCloud Main Page\nOverview\nServer Releases\nInfinite Scale Releases\nInfinite Scale Release Notes\nownCloud Server Releases\nownCloud Server Release Notes\nApp Releases\nDesktop App Release Notes\niOS App Release Notes\nAndroid App Release Notes\nHow to Contribute\nServer\nInfinite Scale\nownCloud Server\nApps and User Interfaces\nWeb Infinite Scale\nWeb ownCloud Server\nDesktop App\nMobile App for Android\nMobile App for iOS\nownCloud Main Page\nDesktop App\nnext\n5.3\n5.2\nInfinite Scale Documentation\nnext\n7.1\n7.0\nMobile App for Android\nnext\n4.5\n4.4\nMobile App for iOS\nnext\n12.4\n12.3\nownCloud Main Page\nownCloud Server\nnext\n10.15\n10.14\nownCloud Web User Interfaces\nnext\nownCloud Main Page\nOverview\nServer Releases\nownCloud Server Release Notes\nEdit this Page\nRelease Notes\nDear ownCloud Server administrator, find below the changes and known issues in ownCloud Server that need your attention. You can also read the\nfull ownCloud Server changelog\nfor further details on what has changed. Security Fix\nDisable phar stream wrapper:\n#41358\nChanges in 10.15.1\nDear ownCloud administrator, find below the changes and known issues in ownCloud Server 10.15.1 that need your attention. You can also read the\nfull ownCloud Server changelog\nfor further details on what has changed. Bugfix\nPrevent access to internal app config data:\n#41338\nChanges in 10.15.0\nDear ownCloud administrator, find below the changes and known issues in ownCloud Server 10.15.0 that need your attention. You can also read the\nfull ownCloud Server changelog\nfor further details on what has changed. #41247\nNo Update Check If Not Connected to the Internet\nIf an ownCloud instance is not connected to the internet there is no need for polling for updates in the update notification app. https://github.com/owncloud/core/pull/41250\nUpdated App Versions\nFind below a list of updated apps in comparison with the 10.14.0 complete bundle. More information on the changes can be found in the respective changelogs on ownCloud Marketplace. Config Report: 0.3.0\nCustom Groups\n: 0.9.1\nDiagnostics\n: 0.2.1\nDocument Classification\n: 1.5.2\nExternal Storage: Dropbox\n: 2.0.2\nMarket\n: 0.9.0\nOpenID Connect\n: 2.3.0\nUpdater: 1.1.1\nExternal Storage: Windows Network Drives\n: 2.4.1\nKnown Issues\nCurrently there are no known issues with ownCloud Server 10.15.0. Changes in 10.14.0\nDear ownCloud administrator, find below the changes and known issues in ownCloud Server 10.14.0 that need your attention. You can also read the\nfull ownCloud Server changelog\nfor further details on what has changed. Migrations\nWhen upgrading from ownCloud Server 10.14.0, the following migrations will run as part of the upgrade procedure:\nA migration step takes care of disabling the Template Editor app, if enabled (see below). More information on the changes can be found in the respective changelogs on ownCloud Marketplace. Custom Groups\n: 0.9.0\nDocument Classification\n: 1.5.1\nFile Lifecycle Management\n: 1.3.5\nPDF Viewer\n: 1.0.2\nGuests\n: 0.12.4\nImpersonate\n: 0.6.0\nMail Template Editor\n: 0.5.0\nLDAP Integration\n: 0.19.0\nExternal Storage: Windows Network Drives\n: 2.4.0\nKnown Issues\nCurrently there are no known issues with ownCloud Server 10.14.0. Changes in 10.13.4\nDear ownCloud administrator, find below the changes and known issues in ownCloud Server 10.13.4 that need your attention. You can also read the\nfull ownCloud Server changelog\nfor further details on what has changed. The tool analyzes your ownCloud 10 deployments and determines whether they have possibly been compromised via the known vulnerabilities. Please note, the tool has to be run on ALL ownCloud servers in case of a clustered setup! Changes in 10.13.3\nDear ownCloud administrator, find below the changes and known issues in ownCloud Server 10.13.3 that need your attention. You can also read the\nfull ownCloud Server changelog\nfor further details on what has changed. More information on the changes can be found in the respective changelogs on ownCloud Marketplace. Changes in 10.13.2\nDear ownCloud administrator, find below the changes and known issues in ownCloud Server 10.13.2 that need your attention. You can also read the\nfull ownCloud Server changelog\nfor further details on what has changed. More information on the changes can be found in the respective changelogs on ownCloud Marketplace. Microsoft Office Online\n: 1.8.1\nKnown Issues\nThere is a performance impact related to certain external storage mounts in ownCloud Server 10.13.2. Possible workaround:\nRevert via diff\nChanges in 10.13.1\nDear ownCloud administrator, find below the changes and known issues in ownCloud Server 10.13.1 that need your attention. You can also read the\nfull ownCloud Server changelog\nfor further details on what has changed. More information on the changes can be found in the respective changelogs on ownCloud Marketplace. https://marketplace.owncloud.com/apps/graphapi\n[Graph API]: v0.3.1\nhttps://marketplace.owncloud.com/apps/guests\n[Guests]: 0.12.3\nhttps://marketplace.owncloud.com/apps/oauth2\n[OAuth2]: v0.6.1\nKnown Issues\nTwo cron jobs related to cleaning up left over thumbnails were not properly enabled in the past (\nPreviewCleanupJob\n). Changes in 10.13.0\nDear ownCloud administrator, find below the changes and known issues in ownCloud Server 10.13.0 that need your attention. You can also read the\nfull ownCloud Server changelog\nfor further details on what has changed. If you are operating an ownCloud installation with user key encryption enabled, please get in contact with ownCloud support to plan a migration to master key encryption. Previously, when a storage has been removed from ownCloud, metadata remained in the DB. #40796\nImplement App Registry\nBy using a new option\nOpen in..\nin the iOS (version 12.0.3+) or Desktop client (version 4.0+) it is now possible to directly open a file in the Office Suite being installed on the ownCloud server. #40901\nNew Default Minimum Supported Desktop Client Version\nTo ensure clean and reliable operation of the ownCloud platform it is important to stay up-to-date with the latest releases of the server as well as the clients. More information on the changes can be found in the respective changelogs on ownCloud Marketplace. https://marketplace.owncloud.com/apps/activity\n[Activity] 2.7.2\nhttps://marketplace.owncloud.com/apps/admin_audit\n[Auditing] 2.1.4\nhttps://github.com/owncloud/configreport/releases\n[ConfigReport] 0.2.2\nhttps://marketplace.owncloud.com/apps/customgroups\n[Custom Groups] 0.7.2\nhttps://marketplace.owncloud.com/apps/diagnostics\n[Diagnostics] 0.2.0\nhttps://marketplace.owncloud.com/apps/drawio\n[Drawio] 1.0.1\nhttps://github.com/owncloud/encryption/releases\n[Default encryption module] 1.6.1\nhttps://marketplace.owncloud.com/apps/files_antivirus\n[Anti-Virus] 1.2.2\nhttps://marketplace.owncloud.com/apps/files_classifier\n[Document Classification] 1.4.0\nhttps://marketplace.owncloud.com/apps/files_lifecycle\n[File Lifecycle Management] 1.3.4\nhttps://marketplace.owncloud.com/apps/files_primary_s3\n[S3 Primary Object Storage] 1.5.0\nhttps://marketplace.owncloud.com/apps/files_texteditor\n[Text Editor] 2.6.0\nhttps://github.com/owncloud/firstrunwizard/releases\n[First run wizard] 1.3.0\nhttps://marketplace.owncloud.com/apps/impersonate\n[Impersonate] 0.5.3\nhttps://marketplace.owncloud.com/apps/kerberos\n[Kerberos Integration] 1.0.0\nhttps://marketplace.owncloud.com/apps/market\n[Market] 0.8.0\nhttps://marketplace.owncloud.com/apps/metrics\n[Metrics] 1.4.0\nhttps://github.com/owncloud/notifications/releases\n[Notifications] 0.6.0\nhttps://marketplace.owncloud.com/apps/oauth2\n[OAuth2] 0.6.0\nhttps://marketplace.owncloud.com/apps/password_policy\n[Password Policy] 2.2.0\nhttps://marketplace.owncloud.com/apps/ransomware_protection\n[Ransomware Protection] 1.7.0\nhttps://github.com/owncloud/updater/releases\n[Updater] 1.1.0\nhttps://marketplace.owncloud.com/apps/user_ldap\n[LDAP Integration] 0.18.0\nhttps://marketplace.owncloud.com/apps/user_shibboleth\n[SAML/SSO Integration] 3.6.0\nhttps://marketplace.owncloud.com/apps/web\n[Web] 7.0.3\nhttps://marketplace.owncloud.com/apps/windows_network_drive\n[External Storage: Windows Network Drives] 2.3.1\nhttps://marketplace.owncloud.com/apps/wopi\n[Microsoft Office Online] 1.7.0\nhttps://marketplace.owncloud.com/apps/workflow\n[Workflows] 0.6.0\nKnown Issues\nCurrently there are no known issues with ownCloud Server 10.13.0. Changes in 10.12.2\nDear ownCloud administrator, find below the changes and known issues in ownCloud Server 10.12.2 that need your attention. You can also read the\nfull ownCloud Server changelog\nfor further details on what has changed. #40792\nChanges in 10.12.1\nDear ownCloud administrator, find below the changes and known issues in ownCloud Server 10.12.1 that need your attention. You can also read the\nfull ownCloud Server changelog\nfor further details on what has changed. #40701\nPrevent 507 Insufficient Storage on 32-Bit Systems\nWith the introduction of\nhttps://github.com/owncloud/core/pull/40567\ncompatibility with 32-bit systems broke as we are now casting $freeSpace to int and this caused an integer overflow on such systems when the free space was above the max supported value. https://github.com/owncloud/core/pull/40693\n[#40693]\n#40719\nUpdated App Versions\nFind below a list of updated apps in comparison with the 10.12.0 complete bundle. More information on the changes can be found in the respective changelogs on ownCloud Marketplace. This will be fixed in core version 10.13.0, please refer to\nhttps://github.com/owncloud/core/pull/40783\nfor more details. Changes in 10.12.0\nDear ownCloud administrator, find below the changes and known issues in ownCloud Server 10.12 that need your attention. You can also read the\nfull ownCloud Server changelog\nfor further details on what has changed. Migrations\nWhen upgrading from ownCloud Server 10.11.0, the following migrations will run as part of the upgrade procedure:\nA migration step takes care of setting the length of the \"oc_calendars.components\" column to 255 (see below). #40633\nDrop PHP 7.3 Support Across the Platform\nSupport for security fixes for PHP 7.3 ended in December 2021. ownCloud Server no longer supports PHP 7.3 therefore ensure that you are using PHP 7.4. #40394\nBefore upgrading to ownCloud Server 10.12, you MUST upgrade to PHP 7.4. ownCloud Server 10.12 will not start when using PHP 7.3. Persistent Major File Versions Workflow\nTo save space, old versions of files are usually deleted over time according to ownCloud’s retention policy. #40513\nFixed the dav:cleanup-chunks Command to Work With a Configured Folder\nownCloud’s file system was initialized partially to prevent contacting the LDAP server if it was configured. Now, ownCloud’s file system will be fully initialized instead, so that the mount point will be present and we check the right location. #40499\nUse Correct Themed l10n App Folder When the App Lives outside of Server Root\nWhen an app_path is pointing outside of the ownCloud server root or uses a symlink, under certain conditions the l10n folder points to an invalid location and results in a crash of the server. #40348\nWithout this change, server-side Apache Auth (e.g., Shibboleth) resulted in a redirect to the default ownCloud page instead of the last visited page. In such cases it may be desirable for an ownCloud admin to have a config option for removing the sender display name from the \"From\" address. More information on the changes can be found in the respective changelogs on ownCloud Marketplace. Anti-Virus\n1.2.1\nDocument Classification\n1.3.2\nExternal Storage: Dropbox\n2.0.1\nGuests\n0.12.2\nOpenID Connect\n2.2.0\nRansomware Protection\n1.6.0\nLDAP Integration\n0.17.0\nWeb\n6.0.0\nMicrosoft Office Online\n1.6.1\nText Editor\n2.5.0\nKnown Issues\nownCloud Inaccessibility\nIf you have installed ownCloud 10.12.0 in the\ncombination\nof:\nindex.php-less setup\nURL via subfolder\nthe files view in the web UI will be empty. Note that owncloud Server 10.11.0 and earlier are not affected. Changes in 10.11.0\nDear ownCloud administrator, find below the changes and known issues in ownCloud Server 10.11 that need your attention. You can also read\nthe full ownCloud Server changelog\nfor further details on what has changed. Migrations\nWhen upgrading from ownCloud Server 10.10, there will be no migration steps impacting the upgrade duration. Edit Permission for Public Links on Single Files\nIn previous versions of ownCloud Server, public links on single files could only be created with read-only permissions (\nDownload / View\n). Especially when using ownCloud in combination with web office solutions like ONLYOFFICE, Collabora Online or Microsoft Office Online, users can now quickly and conveniently collaborate on documents with external parties. Based on the inputs, ownCloud will decide how to create the shares (e.g., share with an internal user, invite a new guest, create a federated share). The ownCloud user manual PDF has been removed as it becomes outdated quickly and will not be updated for existing users when a server upgrade is done. New users will further find a folder called \"Learn more about ownCloud\" that contains information about the product. ownCloud use this to remember which UI (Classic UI or ownCloud Web) the user has used during their last session. #39600\nownCloud Web will now respect the user’s language setting. More information on the changes can be found in the respective changelogs on ownCloud Marketplace. Changes in 10.10.0\nDear ownCloud administrator, find below the changes and known issues in ownCloud Server 10.10 that need your attention. You can also read\nthe full ownCloud Server changelog\nfor further details on what has changed. Migrations\nWhen upgrading from ownCloud Server 10.9, the following migrations will run as part of the upgrade procedure:\nA migration step takes care of converting external storage parameters to the new format (see below). #39935\nSession Lifetime and Expiration Improvements\nownCloud Server 10.10 comes with a couple of stability and security improvements around session lifetime and expiration in the Classic web interface\n#39916\n:\nThe configured session lifetime (\nsession_lifetime\nin\nconfig.php\n) will now be reset each time a page is loaded or when a \"heartbeat\" request is sent. For advanced security, this option can be used to expire user sessions a configurable amount of seconds after they close the ownCloud browser tab or the whole browser, respectively, forcing the user to log in again when they access ownCloud the next time. #39752\nownCloud Server 10.9 introduced a new feature to\nimprove initial sync and discovery performance\nwhich has been enabled by default. #39900\nownCloud Web: Guest users will now be explicitly listed as \"Guests\" (instead of \"User\")\n#40013\nThe config report now provides a\ndedicated guest user count\nUpdated App Versions\nFind below a list of updated apps in comparison with the 10.9.1 complete bundle. More information on the changes can be found in the respective changelogs on ownCloud Marketplace. [#39851]\nhttps://github.com/owncloud/core/pull/39851\nThe OCS Share API now also exposes the user type (e.g., guest) [#40013](\nhttps://github.com/owncloud/core/pull/40013\n)\nKnown Issues\nCurrently there are no known issues with ownCloud Server 10.10.0. Changes in 10.9.1\nownCloud Server 10.9.1 is a follow-up bugfix release that takes care of 10.9 known issues. You can read\nthe full ownCloud Server changelog\nfor further details on what has changed. More information on the changes can be found in the respective changelogs on ownCloud Marketplace. Web\n4.9.0\nMarket\n0.6.2\nChanges in 10.9.0\nDear ownCloud administrator, find below the changes and known issues in ownCloud Server 10.9 that need your attention. You can also read\nthe full ownCloud Server changelog\nfor further details on what has changed. #39288\nPHP 7.2 Support Discontinued\nAs\nannounced\nin the previous minor releases of ownCloud Server, from version 10.9 onward ownCloud Server\nno longer supports PHP 7.2\n. If you’re planning a database update to a MariaDB version > 10.5, it is\nvery important to prepare the ownCloud installation first\n. Highly Improved Initial Sync and Discovery Performance\nServer 10.9 comes with the means to drastically reduce the time needed by the ownCloud clients for the initial discovery of the contents in user accounts, especially for those with many files and huge directory structures. Practically, this means when a user account is initially set up, e.g., in the ownCloud Desktop Client or when larger directory structures are added to an existing account (e.g., via sharing or external storage mounts like Windows Network Drives), the client no longer needs to check every individual folder. This new server-side capability needs changes in the ownCloud clients to work. At the time of the ownCloud Server 10.9 release, client implementations for iOS, Android and Desktop are in the making but not yet available. If you use the currently existing versions of the ownCloud clients, you will not yet experience performance gains. Manual File Locking: Ability to Define User Groups That Can Unlock Files\nSince version 10.5,\nownCloud supports Manual File Locking\nto prevent concurrent changes of files by different users. For more information, refer to the\nownCloud documentation\n. Restrict Public Link Sharing to Certain Groups\nIn certain scenarios it is not desired that all users of an ownCloud installation can create public links and share data publicly. Therefore, ownCloud Server 10.9 provides a new configuration option for administrators that allows restricting the creation of public links to users in certain groups (\n#38980\n). For more information, refer to the\nownCloud documentation about occ\nand\nabout user management\n. More information on the changes can be found in the respective changelogs on ownCloud Marketplace. Bugfix: Avoid potential open_basedir errors after upgrade to PHP 7.4.21\n#39034\nKnown Issues\nWhen updating an existing instance to ownCloud 10.9, you may experience that the marketplace is not accessible via ownCloud and content is not shown. If you use encryption, we recommend\nnot to update\nto ownCloud 10.9.0 but wait until 10.9.1 will be released in early January 2022. Changes in 10.8.0\nDear ownCloud administrator, please find below the changes and known issues in ownCloud Server 10.8 that need your attention. You can also read\nthe full ownCloud Server changelog\nfor further details on what has changed. ownCloud Web supplements the Classic Web Interface - Try it! The all-new web interface for ownCloud, ownCloud Web, has come a long way since its initial release at the end of 2020. It is available as an app on the\nownCloud Marketplace\nand ownCloud Server has been\nprepared to work with it since version 10.6\n. ownCloud Web\ncan be deployed as a supplement to the classic web interface\nand meanwhile it is in use at quite a number of installations. This has brought up good feedback around the integration with ownCloud 10 that has been addressed for 10.8. Additionally, lots of improvements have made their way into ownCloud Web. For an overview you can have a look at the\nownCloud Infinite Scale release notes\nand for a full list of changes, please see the\nownCloud Web changelog\n. The most prominent recent improvements are\nAccessibility: Compliance with WCAG 2.1 / BITV 2.0 (currently in the certification process)\nTheming: Ability to change name, logos, colors and more via config file (see the\ndocumentation\nfor more information)\nPerformance improvements in many areas\nWith all these improvements we want to motivate ownCloud service providers to make ownCloud Web available to users, to experience the new technology as well as to provide feedback to further improve it. The ownCloud Web integration app comes as part of the 10.8 complete bundle. Furthermore, ownCloud Web has a release cycle of 3 weeks that is independent of ownCloud Server. This allows new versions with features, fixes and improvements to be made available regularly via the ownCloud Marketplace and to deploy them with minimal effort. ownCloud Web is currently in the status of a Technology Preview. After careful testing, ownCloud Web can be used on production systems. Features are still being added to ownCloud Web and users will need to use the Classic web interface to do certain actions. Fixed Known Issues\nBoth\nknown issues from ownCloud Server 10.7\nhave been fixed. The deployment of ownCloud Web is now more robust and administrators can optionally decide whether ownCloud Links (public and private links) should be provided by the Classic web interface or by ownCloud Web using a\nnew option in config.php\n. Feedback\nAs mentioned, features are still being added to ownCloud Web and the new web interface can’t yet cover every use case of the Classic interface. We’re very grateful for any hints or feedback that you supply via the following channels\nChat: talk.owncloud.com / #web\nImproved Usability for \"Add to ownCloud\" on Public Links\nThe usability of the \"Add to ownCloud\" feature on public link pages has been improved (\n#38712\n). Research on the feature has shown that most users use the feature to add links to the same ownCloud installation they originate from instead of creating federated shares with other ownCloud installations. For this reason there is a new default behavior which allows adding a link to a user account on the ownCloud installation the public link originates from with just a click and without requiring any further input. Advanced users can use a dropdown menu to add a link to a user account on another ownCloud installation. In this context, also the ownCloud Enterprise Theme has received improvements that are shipped with Server 10.8. #38728\nThe external storage settings UI has been improved to prevent accidentally exposing mount points to all users\n#38795\nRe-sending User Invitation Emails\nInvitation links for new users in the local ownCloud user management expire after 12 hours for security reasons. To be effective, this requires the latest versions of the Workflow and Activity app versions which are shipped with ownCloud Server 10.8. #38605\n#38631\nMigrations\nUpgrading from ownCloud Server 10.7 to 10.8 does not involve database migrations. Updated App Versions\nSince ownCloud Server 10.5, all supported apps are being shipped as part of the complete bundle for ownCloud Server. More information on the changes can be found in the respective changelogs on ownCloud Marketplace. #38704\nLicense keys can now be removed with a button in the admin settings\n#38843\nVideo playback in ownCloud relies on browser capabilities. #38858\nFor developers\nApp developers can now exclude default file actions like \"Rename\" when their app adds a new file view to ownCloud. Changes in 10.7.0\nDear ownCloud administrator, please find below the changes and known issues in ownCloud Server 10.7 that need your attention. You can also read\nthe full ownCloud Server changelog\nfor further details on what has changed. Migrations\nUpgrading from ownCloud Server 10.6 to 10.7 does not involve database migrations. Previously the classic ownCloud Web interface would just make the decision for the user on click or require the user to use the respective entry in the file’s dropdown menu. Deprecation Note for User-key Storage Encryption\nStorage encryption in ownCloud offers two options, master-key and user-key encryption. For these reasons, user-key storage encryption is now marked as deprecated and will not be maintained anymore for future versions of ownCloud Server. If you are operating an ownCloud installation with user-key storage encryption enabled, please get in contact with ownCloud support to plan a migration to master-key storage encryption. #38386\nFor strong security, ownCloud Server uses strict same-site cookie handling. ownCloud Web now also allows proper downloading from public links. In case you have already upgraded to Server 10.7, please get in touch with ownCloud Support to fix the issue. #392\nWhen having ownCloud Web enabled, all public links will open in ownCloud Web instead of the classic UI. This behavior will be made configurable in a follow-up release of ownCloud Server. When setting up ownCloud Web, it is necessary to be careful with the\nweb.baseUrl\nparameter as trailing slashes currently do not work as expected. For example,\nhttps://cloud.example.com/apps/web/\nshould not be used while\nhttps://cloud.example.com/apps/web\nwill work properly. Changes in 10.6.0\nDear ownCloud administrator, please find below the changes and known issues in ownCloud Server 10.6 that\nneed your attention. You can also read\nthe full ownCloud Server changelog\nfor further details on what has changed. ownCloud Server will, therefore, drop support in one of the next minor versions as well. ownCloud Web - The New Web Frontend for ownCloud\nownCloud Server 10.6 comes with the prerequisites to run the new ownCloud Web frontend as an optional\ncomponent on top of it. It will be available\nto users in the apps menu if the address of ownCloud Web is specified in config.php. Pre-signed URLs\nallow proper downloading and streaming of\nfiles in ownCloud Web. A\ncapability for the Favorites feature\nmakes it available\nin ownCloud Web. There are different ways to deploy ownCloud Web with ownCloud Server. For this, there is the new app for\nWeb\non the ownCloud Marketplace. It can be installed on ownCloud 10 servers with\nthe regular tools. Deploying ownCloud Web via the Marketplace app is the currently recommended approach. Requirements for deploying ownCloud Web as an app for ownCloud Server 10\nownCloud Server 10.6\nOAuth2\nor\nOpenID Connect\nis used for client authorization. ownCloud Web\nis installed and enabled. ownCloud Server and ownCloud Web are configured as outlined in the\ndocumentation\n. The following changes have been made to the bundle for Server 10.6:\nAdded\nOpenID Connect\nAdded\nFile Lifecycle Management\nAdded\nGraph API\nRemoved\nTwo-factor Authentication\nKnown issues\nThere is an issue around when using ownCloud Web with ownCloud Server 10.6. By default when ownCloud Web is enabled, all public links will open in the new ownCloud Web view. Downloading files from ownCloud Web in public links currently lacks some capabilities which make it appear strangely to a user. Changes in 10.5.0\nDear ownCloud administrator, please find below the changes and known issues in ownCloud Server 10.5 that need your attention. You can also read\nthe full ownCloud Server changelog\nfor further details on what has changed. PHP 7.1 Support Discontinued\nAs\nannounced\n, in the previous minor release of ownCloud Server, from version 10.5 onward, ownCloud Server\nno longer supports PHP 7.1\n. Official PHP 7.4 Support\nownCloud Server 10.5 officially supports PHP 7.4. The Server Core and all apps maintained by ownCloud have received a full QA cycle and are proven to work reliably with PHP 7.4. If you are still running a PHP version < 7.2, you must upgrade PHP before upgrading ownCloud Server as lower versions are not supported anymore. Summarizing, ownCloud Server 10.5 supports the PHP versions\n7.2, 7.3 and 7.4\n. See the\nsystem requirements in the ownCloud Documentation\nfor the recommended PHP version and for more information. Upgrade PHP to 7.2 or 7.3 then upgrade ownCloud Server to 10.5, then upgrade PHP to 7.4\nThe official ownCloud Docker containers have been updated to Ubuntu 20.04 and are using PHP 7.4. File Locking in the Web Interface\nownCloud Server 10.5 comes with great enhancements for content collaboration. The feature builds on the\nWebDAV Locks backend\nwhich has been introduced with Server 10.1 and is now available in the ownCloud Web Interface. When using the ownCloud clients, file locks will also be respected, meaning local changes can’t be checked-in to locked files and users will see an error message. Administrators can enable the feature by executing the following\nocc\ncommand:\nocc config:app:set files enable_lock_file_action --value yes\nChanges to the ownCloud Marketplace\nThe ownCloud Marketplace is opening up. With the release of Server 10.5, all apps available on the Marketplace (including ownCloud Enterprise apps) are now also available for download and installation via the Market app. This change facilitates the process of getting started with ownCloud Server and of evaluating Enterprise functionality. Additionally, it allows updates for all apps to be obtained from the ownCloud Marketplace and ensures running up-to-date versions. Changes in Delivery\nIn line with the changes to the Marketplace the deliverables for ownCloud Server have been unified. Starting with Server 10.5 there are the following bundles which are shipped via tarball, Docker images and Linux packages:\n- minimal bundle for the Server and required components, semantically versioned (\nownCloud-10.5.0\n)\n- complete bundle for the Server and all supported apps, including the Enterprise features, not semantically versioned as it always contains the latest versions of all supported apps (\nownCloud-complete-<date>\n)\nThe availability of Enterprise features now only depends on the license key. New Enterprise Trial Mechanism\nTo facilitate the evaluation of ownCloud Enterprise functionality, Server 10.5 comes with a new trial mechanism. If desired, the location of the landing page can be customized using the\nconfig.php\noption\n'grace_period.demo_key.link' ⇒ 'https://owncloud.com/try-enterprise/'\n. New Background Job for Change Detection in Federated Shares\nWith ownCloud Server 10.2.0 a\nbackground job for change detection of nested federated shares\nwas added (\nocc incoming-shares:poll\n) to allow ownCloud Server to discover changes in federated shares in order to make them available for synchronization with the ownCloud Clients. If enabled, it will be executed as part of the regular ownCloud background job queue and therefore does not need to be added to crontab. Other Notable Changes\nThe\nAdd to your ownCloud\nfeature on public link pages is now hidden if an instance has outgoing federated shares disabled (specifically, if\nAllow users on this server to send shares to other servers\nis disabled in\nSettings\nAdmin\nSharing\nsettings)\n#37232\nImprovements for Oracle DB support\n#37314\nFolder download (as ZIP/TAR archive) now preserves the modification times of the contained files\n#37222\nUsers with certain special names (UIDs) reserved by the system can’t be created anymore\n#37268\nPerformance improvements for SMB external storages\n#37451\nStrict LDAP login only using LDAP user name and password (instead of e.g., email and password) can now be enforced using\nocc config:system:set --type boolean --value true strict_login_enforced\n#37569\nServer 10.5 comes with a new background image on the login page and colors have been adapted to ownCloud CI\n#37650\nSolved Known Issues\nThe\nknown issue\naround sharing with numeric UIDs in 10.4.0 and 10.4.1 has been fixed. #37336\nKnown Issues\nCurrently there are no known issues with ownCloud Server 10.5.0. Changes in 10.4.1\nownCloud Server 10.4.1 is a bug fix and maintenance release. You can read\nthe full ownCloud Server changelog\nfor further details on what has changed. It checks if a target file can be read from the storage and cleans up stored information in ownCloud’s filecache, in case a file disappears from the primary storage. #37324\nApart from this patch release, please consider the ownCloud Server 10.4.0 release notes, below. Changes in 10.4.0\nDear ownCloud administrator, please find below the changes and known issues in ownCloud Server 10.4 that need your attention. You can also read\nthe full ownCloud Server changelog\nfor further details on what has changed. Migrations\nUpgrading from ownCloud Server 10.3.x to 10.4.0 does not involve database migrations. PHP 7.0 Support Discontinued\nAs\nannounced\n, in the previous release of ownCloud Server, from version 10.4 onward, ownCloud\nno longer supports PHP 7.0\n. ownCloud Server will, therefore, drop support in one of the next minor versions as well. Sharing Information in Subfolders\nownCloud Server 10.4 puts the focus on user awareness for shared areas to prevent accidentally sharing data or changing other users' data, as well as to make it easier for users to recognize who has access to shared areas. #36489\nTwo new config.php options (\nblacklisted_files_regex\nand\nexcluded_directories_regex\n) have been added to allow excluding files and folders from ownCloud using regular expressions (e.g., to prevent creating/renaming/scanning certain file types like \".pst\"). This allows external user provisioning systems to push new users to ownCloud on demand and removes the necessity to do full user sync. If you have already upgraded to ownCloud 10.4.0, please disable this option until the fix is available and deployed on your system. #287\nThis issue has been resolved with ownCloud Server 10.4.1. #37324\nChanges in 10.3.2\nownCloud Server 10.3.2 is a bug fix and maintenance release. You can read\nthe full ownCloud Server changelog\nfor further details on what has changed. Changes in 10.3.1\nownCloud Server 10.3.1 is a bug fix and maintenance follow-up release. You can read\nthe full ownCloud Server changelog\nfor further details on what has changed. Apart from this patch release, please consider the ownCloud Server 10.3.0 release notes, below. Changes in 10.3.0\nDear ownCloud administrator, please find, below, the changes and known issues in ownCloud Server 10.3 that need your attention. You can also read\nthe full ownCloud Server changelog\nfor further details on what has changed. Migrations\nFor improved compliance with the OpenCloudMesh protocol specification (Federation) a\nmigration step\nwill convert the fields of the\nremoteId\ncolumn of the\nfederated_reshares\nand\nshare_external\ntables from\nint\nto\nstring\n. Official PHP 7.3 support\nownCloud Server 10.3 officially supports PHP 7.3. The Server Core and all apps maintained by ownCloud have received a full QA cycle and are proven to work reliably with PHP 7.3. If you are still using version 5.6, you must upgrade PHP before upgrading ownCloud Server\nas it’s not supported anymore since ownCloud Server 10.2\n. See the\nsystem requirements in the ownCloud Documentation\nfor more information. PHP 7.0 Deprecation Note\nAs announced with ownCloud Server\n10.0.8\nand\n10.2.0\n, support for PHP 7.0 is discontinued. The next minor version of ownCloud Server (around the end of 2019)\nno longer supports PHP 7.0\n. Instead of executing\ncron.php\n(e.g.,\n/usr/bin/php -f /path/to/your/owncloud/cron.php\n), cron should use\nocc system:cron\n(e.g.,\nsudo -u www-data ./occ system:cron\n). In a later version of ownCloud Server,\ncron.php\nwill be removed. If your ownCloud deployment is based on the official Docker images or the Univention appliance, these changes have already been applied for you. The Media Viewer is the next generation image and video file viewer for ownCloud. ownCloud Server 10.3 does not bundle\ngallery\nand\nfiles_videoplayer\nanymore. However, if you want to do so, you can copy over the\nfiles_videoplayer\ndirectory from the\napps/\nfolder of the previous ownCloud Server directory and obtain\ngallery\nfrom the\nownCloud Marketplace\n. For more information on the Media Viewer app, visit the\nownCloud Documentation\n. These are designed to cope with issues encountered around duplicate session tokens, which make the ownCloud Clients lose their OAuth2 authorization from time to time, and force users to re-authenticate. The session handling in ownCloud 10.3.0 has been generally improved, making user and client sessions more stable. You can find out if Redis session handling is configured in your web server if you generate an ownCloud Configreport in the web interface. If your ownCloud deployment is based on the official Docker images or the Univention appliance, you do not have to apply changes as Redis is not used for session handling (unless you configured it differently using ENV variables). Other ownCloud clients will align with this behavior with the next releases. SWIFT object storage as primary & secondary storage removed\nFollowing the\ndeprecation announcement\nwith ownCloud Server 10.0.9, support for primary and secondary storage via the OpenStack SWIFT protocol has been removed. Please get in contact with ownCloud Support if you’re still using OpenStack SWIFT and want to upgrade. S3 object storage as secondary storage is now a separate app\nThe extension to integrate S3 object storages as secondary storages (\nfiles_external_s3\n) has been updated, unbundled from ownCloud Server (was previously part of\nfiles_external\n) and released to the\nownCloud Marketplace\n. If you’re using S3 external storage mounts, you have to conduct some steps to ensure continuous operation after upgrading to Server 10.3:\nAfter the upgrade to Server 10.3 has finished successfully, keep the maintenance mode activated and install/enable\nfiles_external_s3\n(either manually or via the Market app) as the app is not bundled with ownCloud Server anymore. New HTTP APIs\nownCloud Server is being prepared for\nPhoenix\n, the upcoming web frontend for ownCloud. See\nconfig.sample.php\nand the\nFederated Cloud Sharing Configuration documentation\nfor more information. #36124\n[PHOENIX] Support for redirecting links to ownCloud Phoenix frontend has been added by introducing a new\nconfig.php\noption which stores the address where Phoenix is reachable (e.g.,\n'phoenix.baseUrl' ⇒ 'http://phoenix.example.tld:port'\n). Please check\nthe changes to owncloud/theme-example\nif you are interested in making use of this in your theme. A new, improved version of the \"\nAdvanced Sharing Permissions\n\" JavaScript API (v2) has been added to allow ownCloud apps to register additional permissions/restrictions in user/group sharing. Please find, below, the changes in ownCloud Server 10.2.1 that need your attention. You can also read\nthe full ownCloud Server changelog\nfor further details on what has changed. Improved Performance For Storage Encryption With Master Key\nownCloud Server offers two ways for key management with storage encryption. Fixed issue with Sharing API and enforced public link expiration dates\nAn issue in the Sharing API caused the ownCloud clients to prevent users from creating public links when the option \"Enforce expiration date\" for public links is in use. Fixed an issue with loading JS files when multiple apps folders are in use\nPreviously ownCloud would have taken the files from the\napps/\nfolder even though there might be newer versions in e.g. This has been changed so that ownCloud will always take the files from the most recent app version. Apart from this patch release, please consider\nthe ownCloud Server 10.2.0 release notes\n. Changes in 10.2.0\nDear ownCloud administrator, please find, below, the changes and known issues in ownCloud Server 10.2 that need your attention. You can also read\nthe full ownCloud Server changelog\nfor further details on what has changed. The time the upgrade takes for this change depends on the number of shares in your ownCloud installation. PHP 5.6 Deprecation\nFollowing up the\nPHP 5.6/7.0 deprecation notice in the ownCloud Server 10.0.8 releases\nownCloud Server 10.2\ndoes not support PHP 5.6\nand some apps no longer support older PHP versions. If you’re still running PHP 5.6,\nyou must upgrade to PHP 7 before upgrading to ownCloud Server 10.2\n. See the\nsystem requirements in the ownCloud documentation\n. However, support for PHP 7.0 will be discontinued in an upcoming version of ownCloud 10, to enhance both security and performance. More Granular Permissions for Public Links on Folders\nWith ownCloud Server 10.2, the former \"Download / View / Upload\" permission has been renamed to \"Download / View / Edit\", as this better reflects its behavior (full permissions). Storage Encryption with Master Key in HSM\nWith version 10.2, ownCloud Server officially supports storage encryption with master keys stored in hardware security modules (HSM). In contrast to regular master key-based storage encryption, which stores the keys on the storage, storage encryption with keys in an HSM allows administrators to completely prevent anyone with access to the storage from accessing the data stored in ownCloud. As a result, the bundled\nencryption\napp has been updated to support HSM, and a standalone service (\nhsmdaemon\n) that connects ownCloud Server and the HSM device is now available within ownCloud Enterprise Edition. For more information around the different encryption types ownCloud offers, consider\nthis whitepaper\n. Background Job for Change Detection of Nested Federated Shares\nWhen using federation to share data across ownCloud instances, deeply nested folders (e.g., folders with many sub-items)\nare not discovered automatically for performance reasons\n. This leads to several issues such as the ownCloud Desktop Client not being able to synchronize newly added or changed content unless the user navigates down the hierarchy using the web interface, which manually triggers content discovery. New Option to Automatically Accept Federated Shares from Trusted Servers\nownCloud Server 10.0.9\nintroduced the\nPending Shares\nfeature\nwhich allows users to decide whether or not they want to accept local user shares instead of just making the decision for them, giving more control thereby. ownCloud Server 10.2 introduces a global option to automatically accept\nfederated shares originating from trusted servers\n. New Privacy and Self-Service Options for Users\nIn the spirit of self-service, ownCloud Server 10.2 introduces new options for users that previously were reserved for global admin settings:\nAs discussed in the section above, there are global options for\nPending Shares\nregarding federated as well as regular user/group shares. The\nocc files:scan\ncommand is used to scan resources on the storage and make them available in ownCloud. In former versions, functionality has been introduced to preserve quota values either imported via LDAP attributes against manual changes by the administrator in ownCloud user management, or via the provisioning API. Apart from this patch release, please consider the ownCloud Server 10.1.0 release notes. Changes in 10.1.0\nDear ownCloud administrator, please find below the changes and known issues in ownCloud Server 10.1 that need your attention. You can also read\nthe full ownCloud Server changelog\nfor further details on what has changed. Semantic Versioning\nStarting with this release, ownCloud Server and the app ecosystem will follow the principles of\nSemantic Versioning\n. Change Management for Server Updates\nocc upgrade\npulls app updates from the ownCloud Marketplace to make sure that not only the Server itself but also the installed apps are kept up-to-date. This enables providers to integrate ownCloud Server with Microsoft’s Office Online Server which brings users the benefits of working on Office documents in the browser as well as collaboratively with other users. WebDAV Locks\nownCloud Server 10.1 introduces WebDAV Locks that allow clients to lock and unlock resources to prevent other users from making changes. This is the first time ownCloud implements foreign keys. Federation: Compliance with proposed OpenCloudMesh 1.0 specification\nFederation enables instances of ownCloud and other supporting platforms to exchange information. Together with the other vendors the underlying OpenCloudMesh API specification has been shifted to a new level to clean up the interface, improve its stability and to set the foundation for future feature improvements. ownCloud Server 10.1 is compliant with the new specification proposal. If not, see\nhttps://github.com/owncloud/core/pull/32718/files\nfor the required change. Solved Known Issues\nLDAP users can upload avatars again\n#33369\nVersions list performance improvements\n#33291\nImproved compatibility with third party WebDAV applications (fixed PROPFIND with depth infinity requests through Sabre update)\n#28341\nFixed\nocc encrypt-all\ncommand to not attempt re-encrypting already encrypted files\n#33206\nKnown issues\nWebDAV Locks: When a file in a folder is locked, exclusively locking the parent folder currently still works (\"conflicting lock\"; divergent from\nRFC 4918\n)\nFor Developers\nAdded \"getBucket\" method to HomeObjectStore to fix S3 issue\n#33513\nPublic JS utility function for email validation\n#33699\nIf only the patch level of an app’s version changes no migrations will run when updating\n#33218\nDeprecated Sharing 1.0 PHP APIs which will be removed in ownCloud 11\n#33220\nAdd \"uid\" argument to Symfony login events for consistency\n#33470\nChanges in 10.0.10\nDear ownCloud administrator, please find below the changes and known issues in ownCloud Server 10.0.10\nthat need your attention. You can also read\nthe full ownCloud Server changelog\nfor further details on what has changed. Official PHP 7.2 Support\nAfter announcing the future deprecation of PHP 5.6 and 7.0 with the\n10.0.8 release\n,\nownCloud Server now follows up by officially adding PHP 7.2 support. The Server Core and all apps maintained by ownCloud have received a full QA cycle and are\nproven to work reliably with PHP 7.2. ownCloud Server is also being prepared for PHP 7.3,\nwhich is\nscheduled to become available by the end of 2018\n. See the\nsystem requirements in the ownCloud Documentation\n. HTTP API for Search\nownCloud Server 10.0.10 introduces an HTTP API for search functionality. In upcoming releases, ownCloud clients will make use of it to search content on the server, without the need\nto have them available locally. In combination with the Full-Text Search integration, which is soon to be released as an ownCloud Server extension\n(Community Edition), HTTP API for Search will boost usability and productivity for users. While in the past similar functionality was only achievable via third party applications, such as\nFail2Ban\n,\nthis extension provides the functionality natively, configurable by ownCloud administrators on the Security\nsettings section. The new extension supersedes the former\nSecurity\nextension together with the new\nPassword Policy\nextension, which\nhas been released\nwith ownCloud Server 10.0.9\n. This community-contributed extension is well-tested, but out of ownCloud’s\ngeneral support scope. Improved Reliability for Uploads Via Web Interface on Unreliable Connections\nThe reliability of the file upload feature in the ownCloud web interface has been improved. On top of ownCloud’s chunking mechanism, which splits large files into pieces and uploads them separately, there’s new logic that takes care of retrying stalled chunks. New Option to Prevent Sharing With Specific System Groups\nSystem groups in ownCloud can have many purposes. See the ownCloud Documentation and the\n--help\noption for more information. New Default Minimum Supported Desktop Client Version\nTo ensure clean and reliable operation of the ownCloud platform it is important to stay up-to-date with the latest releases for the server as well as the clients. New Option to Configure the Language of Mail Notifications for Public Links\nUsually ownCloud renders mail notifications in the language of the recipients, when they are known. ownCloud therefore uses the language of the user who sent the notification, which can have the drawback that recipients can’t understand them. The default templates shipped with ownCloud Server 10.0.10 have been modified to accommodate these changes. Solved Known Issues\nownCloud Server 10.0.10 takes care of\n10.0.9 known issues\nand provides remedies for several others:\nThe Password Policy extension now works with two- or multi-factor authentication extensions. Known Issues\nCurrently there are no known issues with ownCloud Server 10.0.10. It is still bundled with\nownCloud Server releases and can be used normally. Changes in 10.0.9\nDear ownCloud administrator, please find below the changes and known issues in ownCloud Server 10.0.9 that need your attention. You can also read\nthe full ownCloud Server changelog\nfor further details on what has changed. New Features\nPending Shares\nownCloud Server 10.0.9 introduces new features to close usability gaps and to give users more control over incoming shares. The bell icon in the web interface and the ownCloud Desktop Client can additionally be used to take action. For this reason, ownCloud will send notification emails\ndirectly when initiating shares between users. Overview of pending & rejected shares\nIn addition to the \"\nPending Shares\n\" feature, ownCloud Server now\nprovides the means to view \"\naccepted\n\", \"\npending\n\" and\n\"rejected\n\" incoming shares. Password history and expiration\nTo prepare ownCloud Server for new capabilities in the authentication process, we have introduced an authentication middleware,\nand a new major version of the\nPassword Policy extension\nis now available. Although the above two password practices\nare discouraged by NIST\n,\nownCloud is now fully compliant with common password guidelines in enterprise scenarios. Please consult `the ownCloud documentation`_ for guidance. Technology preview for new S3 Objectstore implementation\nownCloud Server 10.0.9 comes with the prerequisites to be ready for the new S3 Objectstore implementation\n\"\nfiles_primary_s3\n\", which will massively improve performance, reliability and protocol-related capabilities. The new extension is available as a technology preview via the\nownCloud Marketplace\nand will supersede the current\nObjectstore\nextension. Due to changes to the Versioning API, the\nownCloud Ransomware Protection\nis not yet compatible with\nfiles_primary_s3\n. SWIFT Objectstore Deprecation\nAs the markets are moving in the direction of\nthe S3 protocol\nto\ncommunicate with object storages, ownCloud will follow this path with a\nclear focus. The extension will still be available as part of ownCloud Server, but it\nwill neither be maintained nor developed any further by ownCloud, and\nsupport will be discontinued. Please make sure to move to the S3\nprotocol to use object storage as primary storage with future ownCloud\nServer versions. New options to display Imprint and Privacy Policy\nTo enable GDPR and legal compliance in various jurisdictions for\nownCloud providers, it is now possible to specify links to Imprint and\nPrivacy Policy:\nIn the \"\nGeneral\n\" Administration settings section\nVia the following OCC commands:\nsudo -u www-data ./occ config:app:set core legal.imprint_url <link>\nsudo -u www-data ./occ config:app:set core legal.privacy_policy_url <link>\nThese links can be displayed on all pages of the ownCloud web interface\nand in the footer of mail notifications. When using one of the default\nthemes provided by ownCloud, as well as the default mail templates,\nconfigured links will be automatically included. With ownCloud Server 10.0.9,\nit will apply to all users who are members of at least one of the\nexcluded groups. Changes to the sharing autocomplete mechanism\nIn ownCloud Server 10.0.8, the value for\nminimum characters to trigger the sharing autocomplete mechanism <min-chars-for-sharing-autocomplete-label>\nhas been made configurable and set to 4 by default. The mail notifications framework, introduced with ownCloud Server 10.0.8 <new-mail-notifications-feature-label>, has been extended to provide a basic framework and notification structure, which can be used by ownCloud features and third party extensions. The default templates shipped with ownCloud Server 10.0.9 contain the respective references. To do so:\nAdd the following at the end of each HTML template: :\n<?php print_unescaped($this->inc('html.mail.footer', ['app' => 'core'])); ?>\nAdd the following at the end of each plain text template: :\n<?php print_unescaped($this->inc('plain.mail.footer', ['app' => 'core'])); ?>\nThe ownCloud example theme (\ntheme-example\n), which can be used as a solid base to create custom themes,\nis no longer bundled with ownCloud Server. Solved Known Issues\nownCloud Server 10.0.9 takes care of\n10.0.8 known issues\n,\nand provides remedy for several others:\nIssues with multiple theme apps and the Mail Template Editor\n#31478\nOCC command to transfer data between users (\nocc transfer:ownership\n) works as expected again. This issue will be solved with the next ownCloud Server release. For Developers\nThe symfony event for logging has been extended to include the original exception when applicable:\n#31623\nAdded Symfony event for whenever user settings are changed\n#31266\nAdded Symfony event for whenever a public link share is sent by email\n#31632\nAdded Symfony event for whenever local shares are accepted or rejected\n#31702\nAdded public WebDAV API for versions using a new\nmeta\nDAV endpoint\n#31729\n#29637\nAdded support for retrieving file previews using WebDAV endpoint\n#29319\n#30192\nChanges in 10.0.8\nDear ownCloud administrator, please find below the changes and known\nissues in ownCloud Server 10.0.8 that need your attention. You can also\nread\nthe full ownCloud Server changelog\nfor further details on what has changed. Many libraries used by ownCloud (including the QA-Suite\nPHPUnit\n) will therefore not be maintained\nactively anymore which forces ownCloud to drop support in one of the next minor server versions\nas well. See the\nsystem requirements in the ownCloud documentation\n. Personal note for public link mail notification\nOne of the usability enhancements of ownCloud Server 10.0.8 is the\npossibility for users to add a personal note when sending public links\nvia mail. New mail notifications feature\nownCloud Server 10.0.8 introduces a new extensible notification\nframework. LDAP-related improvements\nWhen disabling or deleting user accounts in LDAP, the administrator\ncan choose to either\ndelete\nor\ndisable\nrespective accounts in\nownCloud when executing\nocc user:sync\n(\n-m, --missing-account-action=MISSING-ACCOUNT-ACTION\n). User accounts\nthat are disabled in ownCloud can now be re-enabled automatically when\nrunning\nocc user:sync\nif they are enabled in LDAP. New command to verify and repair file checksums\nWith ownCloud 10 file integrity checking by computing and matching\nchecksums has been introduced to ensure that transferred files arrive at\ntheir target in the exact state as their origin. New option to granularly configure public link password enforcement\nWith ownCloud 10 the\nFile Drop\nfeature has been merged with public\nlink permissions. New option to exclude apps from integrity check\nBy verifying signature files the\nintegrity check\nensures that the code\nrunning in an ownCloud instance has not been altered by third parties. Naturally this check can only be successful for code that has been\nobtained from official ownCloud sources. New config option to enable fallback to HTTP for federated shares\nFor security reasons federated sharing (sharing between different\nownCloud instances) strictly requires HTTPS (SSL/TLS). As public links are not\nintended for sharing between ownCloud users (local/federated), those\nhave been removed. Global option for CORS domains\nFor security reasons ownCloud has a\nSame-Origin-Policy\nthat prevents\nrequests to ownCloud resources from other domains than the domain the\nbackend server is hosted on. If ownCloud resources should be accessible\nfrom other domains, e.g., for a separate web frontend operated on a\ndifferent domain, administrators can now globally specify policy\nexceptions via\nCORS (Cross-Origin Resource Sharing)\nusing\n'cors.allowed-domains'\nin\nconfig.php\n. When upgrading ownCloud will try to automatically\ninstall the latest version from the ownCloud Marketplace\nin case the app was installed before. Solved Known Issues\nBogus\nLogin failed\nlog entries have been removed (see\n10.0.7 known issues\n)\nThe\nProvisioning API\ncan now properly set default or zero quota\nUser quota settings can be queried through\nProvisioning API\nA regression preventing a user from setting their e-mail address in the settings page has been fixed\nFile deletion as a guest user works correctly (trash bin permissions are checked correctly)\nKnown issues\nIssues with multiple theme apps and Mail Template Editor\nAs of ownCloud Server 10.0.5 it is only possible to have one theme app\nenabled simultaneously. Changes in 10.0.7\nownCloud Server 10.0.7 is a hotfix follow-up release that takes care of\nan\nissue regarding OAuth authentication\n. Please consider the ownCloud Server 10.0.5 release notes. Changes in 10.0.6\nownCloud Server 10.0.6 is a hotfix follow-up release that takes care of\nan issue during the build process\n(\nhttps://github.com/owncloud/core/pull/30265\n). Please consider the ownCloud Server 10.0.5 release notes. Changes in 10.0.5\nDear ownCloud administrator, please find below the changes and known\nissues in ownCloud Server 10.0.5 that need your attention. You can also\nread\nthe full ownCloud Server changelog\nfor further details on what has changed. Technology preview for PHP 7.2 support\nownCloud catches up with new web technologies. ownCloud is going to fully support PHP 7.2 with the next major release. Fixed: Only set CORS headers on WebDAV endpoint when Origin header is specified\nownCloud Server 10.0.4 known issue is resolved. Mail Template Editor is still bundled with ownCloud Server but will\nsoon be released as a separate app to ownCloud Marketplace. Changelog:\nhttps://github.com/owncloud/templateeditor/blob/master/CHANGELOG.md#02---2018-02-28\nKnown Issues\nWhen using application passwords,\nlog entries related to\nLogin Failed\nwill appear\n, please upgrade to 10.0.7 and check the fix mentionned in its release notes. Changes in 10.0.4\nDear ownCloud administrator, please find below the changes and known\nissues in ownCloud Server 10.0.4 that need your attention. You can also\nread\nthe full ownCloud Server 10.0.4 changelog\nfor further details on what has changed. Configurable solution for indistinguishable user display names\nThe ownCloud sharing dialog displays users according to their display\nname. Added mode of operations to differentiate between single-instance or clustered setup\nAs ownCloud needs to behave differently when operating in a clustered setup versus a single instance setup, the new\nconfig.php\noption\noperation.mode\nhas been added. Currently the Market App (ownCloud Marketplace integration) does not support clustered setups and can do harm when used for installing or updating apps. It is not included in the regular ownCloud background jobs so that the administrators have more flexibility in scheduling it. Administrators can now exclude files from integrity check in config.php\nWhen administrators did intentional changes to the ownCloud code they\nnow have the ability to exclude certain files from the integrity\nchecker. Impersonate app 0.1.1 does not work with ownCloud Server 10.0.4. Please update to\nImpersonate 0.1.2\nto be able to use the feature with ownCloud 10.0.4. Mounting ownCloud storage via davfs does not work\n10.0.3 Resolved Known Issues\nSFTP external storages with key pair mode work again\nAdded support for MariaDB 10.2.7+\nEncryption panel in admin settings fixed to\nproperly detect current mode after upgrade to ownCloud 10\nRemoved double quotes from boolean values in status.php output\nChanges in 10.0.3\nDear ownCloud administrator, please find below the changes and known\nissues of ownCloud Server 10.0.3 that need your attention:\nThe full ownCloud Server 10.0.3 changelog can be found here:\nhttps://github.com/owncloud/core/blob/stable10/CHANGELOG.md\nIt is now possible to directly upgrade from 8.2.11 to 10.0.3 in a single upgrade process. Reenabled medial search by default::\nEnables partial search in sharing dialog autocompletion (e.g., a\nuser wants to share with the user \"Peter\": Entering \"pe\" will find\nthe user, entering \"ter\" will only find the user if the option is enabled)\nNew default is set to enabled as there is no performance impact\nanymore due to the introduction of the user account table in ownCloud Server 10.0.1. https://github.com/owncloud/core/issues/28669\nIf you have storage encryption enabled, the web UI for encryption will\nask again what mode you want to operate with even if you already had a\nmode selected before. https://github.com/owncloud/core/issues/28985\nUploading a folder in Chrome in a way that would overwrite an existing\nfolder can randomly fail (race conditions). We expect this bug to be fixed in ownCloud 10.0.4. When updating from ownCloud < 9.0 the CLI output may hang for some\ntime (potentially up to 20 minutes for big instances) whilst sharing is\nupdated. Changes in 10.0.1\nHello ownCloud administrator, please read carefully to be prepared for\nupdates and operations of your ownCloud setup. A new update path:\nownCloud 10.0.1 contains migration logic to allow\nupgrading directly from 9.0 to 10.0.1. Access to\noptional ownCloud extensions and enterprise apps will be provided by the\nmarketplace from now on. If\nduring an update, sources for some apps are missing, and the ownCloud\ninstance has no access to the marketplace, the administrator needs to\ndisable these apps or manually download and provide the apps before\nupdating. Logfiles:\nApp logs, e.g., auditing and owncloud.log, can now be split, see:\nConfiguring Logging\n. See\nhttps://github.com/owncloud/core/issues/27075\nfor more info. Please be aware that when upgrading an existing ownCloud installation\nthat already has\nuser_ldap\nthis error will not occur. It was fixed by\nhttps://github.com/owncloud/core/pull/27982\n. Moving files around in external storages outside of ownCloud will invalidate the metadata\nAll shares, comments, and tags on the moved files will be lost. Existing LDAP users only show up in the user management page and the share dialog after being synced\nThe account table introduced in ownCloud 10.0.0 significantly reduces\nLDAP communication overhead. CRON job for syncing with e.g., LDAP needs to be configured\n(see\nSyncing User Accounts\nfor more information)\nLDAP app is not released with ownCloud 10.0.0 and will be released on\nthe marketplace after some more QA\nfiles_drop app is not shipped anymore as it’s integrated with core\nnow. Order of owncloud.log entries changed a bit, please review any\napplication (e.g. fail2ban rules) relying on this file\nExternal storages::\nFTP external storage moved to a separate app\n(\nhttps://marketplace.owncloud.com/apps/files_external_ftp\n)\n\"Local\" storage type can now be disabled by sysadmin in\nconfig.php (to prevent users mounting the local file system)\nFull changelog:\nhttps://github.com/owncloud/core/wiki/ownCloud-10.0-Features\nChanges in 9.1\nGeneral\nBackground jobs (cron) can now run in parallel\nUpdate notifications in client via API - You can now be notified in\nyour desktop client about available updates for core and apps. Users planning to upgrade from ownCloud 9.0 or below\nto ownCloud 9.1 needs to make sure that their calendars and address\nbooks are correctly migrated\nbefore\ncontinuing to upgrade to 9.1. Home folder rule is enforced in the user_ldap application in new\nownCloud installations; see configuration/user/user_auth_ldap. This\naffects ownCloud 8.0.10, 8.1.5 and 8.2.0 and up. The Calendar and Contacts apps have been rewritten and the CalDAV and\nCardDAV backends of these apps were merged into ownCloud core. As a fallback for\nfailed upgrades, when using the\nIMAP user backend\nor as an option to\ntest a migration\ndav:migrate-calendars\nand/or\ndav:migrate-addressbooks\nscripts are available (\nonly in ownCloud\n9.0\n) via the\nocc\ncommand. After upgrading to ownCloud 9.0 and\nbefore\ncontinuing to upgrade to 9.1 make sure that all of your\nand your users Calendars and Addressbooks are migrated correctly. Updates on systems with large datasets will take longer, due to the\naddition of checksums to the ownCloud database. owncloud\ninstalls\nownCloud plus dependencies, including Apache and PHP. owncloud-files\ninstalls only ownCloud. This is useful for custom LAMP stacks, and\nallows you to install your own LAMP apps and versions without packaging\nconflicts with ownCloud. New option for the ownCloud admin to enable or disable sharing on individual external mountpoints (see\nExternal Storage GUI Mount Options\n). Enterprise 9.0\nowncloud-enterprise packages are no longer available for CentOS 6,\nRHEL6, Debian 7, or any version of Fedora. A new package,\nowncloud-enterprise-files, is available for all supported platforms,\nincluding the above. Changes in 8.2\nNew location for Linux package repositories; ownCloud admins must\nmanually change to the new repos. If you are\nusing external storage mounts such as NFS on a remote storage server,\nset this to 1 so that ownCloud will detect remote file changes. XSendFile\nsupport has been removed, so there is no longer support for\nserving static files from your ownCloud server. If this is not\nactivated on your LDAP server your user groups will not be detected, and\nyou will see this message in your ownCloud log:\nError PHP Array to string  conversion at /var/www/html/owncloud/lib/private/template/functions.php#36\n. Fix this by disabling the\nmemberof\nattribute on your ownCloud server\nwith the\nocc\ncommand, like this example on Ubuntu Linux:\nsudo -u www-data ./occ ldap:set-config \"s01\" useMemberOfToDetectMembership 0\nRun\nsudo -u www-data ./occ ldap:show-config\nto find the correct\nsNN\nvalue; if there is not one then use empty quotes,\n\"\"\n. If you install\nan older version, you will see a\nAPCu below version 4.0.6 is installed, for stability and performance reasons we recommend to update to a\nnewer APCu version\nwarning on your ownCloud admin page. SMB external storage now based on\nphp5-libsmbclient\n, which must be downloaded from the ownCloud software repositories\n(\ninstallation instructions\n). Using ownCloud without a\ntrusted_domain\nconfiguration will not work\nanymore. A default set of security and privacy HTTP headers have been added to\nthe ownCloud\n.htaccess\nfile, and ownCloud administrators may now\ncustomize which headers are sent. Memory cache\nconfiguration for the ownCloud server is no longer automatic, requiring\ninstallation of your desired cache backend and configuration in\nconfig.php\n(see configuration/server/caching_configuration.) ownCloud ships now with its own root certificate bundle derived from\nMozilla’s root certificates file. When you upgrade from ownCloud 8.0, with encryption enabled, to 8.1, you must enable the new encryption backend and\nmigrate your encryption keys\n. Encryption can no longer be disabled in ownCloud 8.1. It is not recommended to upgrade encryption-enabled systems from\nownCloud Server 8.0 to version 8.1.0 as there is a chance the migration\nwill break. We recommend migrating to the first bugfix release, ownCloud\nServer 8.1.1. Due to various technical issues, by default desktop sync clients older\nthan 1.7 are not allowed to connect and sync with the ownCloud server. The ownCloud 8 server is not supported on any version of Windows. WebDAV file locking was removed in ownCloud 8.1 which causes Finder on macOS to mount WebDAV read-only. Enterprise 8.1\nThe SharePoint Drive application does not verify the SSL certificate of\nthe SharePoint server or the ownCloud server, as it is expected that\nboth devices are in the same trusted environment. Changes in 8.0\nManual LDAP Port Configuration\nWhen you are configuring the LDAP user and group backend application,\nownCloud may not auto-detect the LDAP server’s port number, so you will\nneed to enter it manually. Remote Federated Cloud Share Cannot be Reshared With Local Users\nWhen you mount a Federated Cloud share from a remote ownCloud server,\nyou cannot re-share it with your local ownCloud users. (See\nFederated Cloud Sharing Configuration\nto learn more about federated cloud sharing)\nManually Migrate Encryption Keys after Upgrade\nIf you are using the Encryption application and upgrading from older versions of ownCloud to ownCloud 8.0, you must\nmanually migrate your encryption keys\n. Windows Server Not Supported\nWindows Server is not supported in ownCloud 8. PHP 5.3 Support Dropped\nPHP 5.3 is not supported in ownCloud 8, and PHP 5.4 or better is\nrequired. Look for lines like this:\n<Directory /var/www/owncloud>\nOptions Indexes FollowSymLinks Multiviews\nDelete\nMultiviews\nand restart Apache. ownCloud Does Not Follow Symlinks\nownCloud’s file scanner does not follow symlinks, which could lead to\ninfinite loops. To avoid this do not use soft or hard links in your\nownCloud data directory. No Commas in Group Names\nCreating an ownCloud group with a comma in the group name causes\nownCloud to treat the group as two groups. It is best to activate encryption at installation, before\naccumulating large numbers of files on your ownCloud server. Enterprise 8.0\nSharepoint Drive SSL Not Verified\nThe SharePoint Drive application does not verify the SSL certificate of\nthe SharePoint server or the ownCloud server, as it is expected that\nboth devices are in the same trusted environment. Direct Uploads to SWIFT do not Appear in ownCloud\nWhen files are uploaded directly to a SWIFT share mounted as external\nstorage in ownCloud, the files do not appear in ownCloud. However, files\nuploaded to the SWIFT mount through ownCloud are listed correctly in\nboth locations. SWIFT Objectstore Incompatible with Encryption App\nThe current SWIFT implementation is incompatible with any application\nthat uses direct file I/O and circumvents the ownCloud virtual\nfilesystem. Application Store is Back\nThe ownCloud application Store has been re-enabled in ownCloud 8. Changes in 7.0\nManual LDAP Port Configuration\nWhen you are configuring the LDAP user and group backend application,\nownCloud may not auto-detect the LDAP server’s port number, so you will\nneed to enter it manually. Protecting ownCloud on IIS from Data Loss\nUnder certain circumstances, running your ownCloud server on IIS could\nbe at risk of data loss. In your ownCloud server configuration file,\nowncloud\\config\\config.php\n, set\nconfig_is_read_only\nto true. Enable Only for Specific Groups\nFails\nSome ownCloud applications have the option to be enabled only for\ncertain groups. Not Enough Space Available\non File Upload\nSetting user quotas to\nunlimited\non an ownCloud installation that has\nunreliable free disk space reporting– for example, on a shared hosting\nprovider– may cause file uploads to fail with a\nNot Enough Space\nAvailable\nerror. No More Expiration Date On Local Shares\nIn older versions of ownCloud, you could set an expiration date on both\nlocal and public link shares. Sharepoint Drive SSL\nThe SharePoint Drive application does not verify the SSL certificate of\nthe SharePoint server or the ownCloud server, as it is expected that\nboth devices are in the same trusted environment. Shibboleth and WebDAV Incompatible\nShibboleth and standard WebDAV are incompatible, and cannot be used\ntogether in ownCloud. If Shibboleth is enabled, the ownCloud client uses\nan extended WebDAV protocol\nNo SQLite\nSQLite is no longer an installation option for ownCloud Enterprise\nEdition, as it not suitable for multiple-user installations or managing\nlarge numbers of files. ownCloud Server Releases\nApp Releases\nAbout ownCloud\nThe Secure Collaboration Platform\nNews\nPrivacy statement\nImprint\nResources\nFAQ\nHelp\nSecurity\nChangelog\nGet started\nInteract\nRocket.Chat\nForum\nContribute\nCustomer support\n© Copyright 2011-2025, The ownCloud developers."
        },
        {
            "cluster": 1,
            "chunk_content": "Releases\nChanges in 10.15.2\nChanges in 10.15.1\nChanges in 10.15.0\nChanges in 10.14.0\nMigrations\nChanges in 10.13.4\nKnown Issues\nChanges in 10.13.3\nKnown Issues\nSolved Known Issues\nKnown Issues\nChanges in 10.13.1\nChanges in 10.13.0\nChanges in 10.12.2\nChanges in 10.12.1\nSolved Known Issues\nKnown Issues\nChanges in 10.12.0\nMigrations\nDrop PHP 7.3 Support Across the Platform\nKnown Issues\nChanges in 10.11.0\nMigrations\nKnown Issues\nChanges in 10.10.0\nMigrations\nKnown Issues\nChanges in 10.9.1\nSolved Known Issues\nChanges in 10.9.0\nMigrations\nPHP 7.3 Deprecation Note\nSolved Known Issues\nKnown Issues\nChanges in 10.8.0\nFixed Known Issues\nPHP Minimum Version 7.2.5\nPHP 7.2 Deprecation Note\nSolved Known Issues\nKnown Issues\nChanges in 10.7.0\nDeprecation Note for User-key Storage Encryption\nPHP 7.2 Deprecation Note\nSolved Known Issues\nKnown Issues\nChanges in 10.6.0\nMigrations\nPHP 7.2 Deprecation Note\nKnown issues\nChanges in 10.5.0\nMigrations\nPHP 7.1 Support Discontinued\nOfficial PHP 7.4 Support\nSolved Known Issues\nChanges in 10.4.1\nKnown issues\nChanges in 10.4.0\nPHP 7.0 Support Discontinued\nPHP 7.1 Deprecation Note\nSolved Known Issues\nKnown Issues\nChanges in 10.3.2\nChanges in 10.3.1\nChanges in 10.3.0\nMigrations\nOfficial PHP 7.3 support\nPHP 7.0 Deprecation Note\nSolved Known Issues\nKnown Issues\nChanges in 10.2.1\nSolved Known Issues\nChanges in 10.2.0\nMigrations\nPHP 5.6 Deprecation\nSolved Known Issues\nKnown Issues\nChanges in 10.1.1\nChanges in 10.1.0\nSolved Known Issues\nKnown issues\nChanges in 10.0.10\nOfficial PHP 7.2 Support\nSolved Known Issues\nChanges in 10.0.9\nSolved Known Issues\nKnown Issues\nChanges in 10.0.8\nPHP 5.6 deprecation\nSolved Known Issues\nKnown issues\nChanges in 10.0.7\nKnown issues\nChanges in 10.0.6\nChanges in 10.0.5\nKnown Issues\nChanges in 10.0.4\nKnown Issues\n10.0.3 Resolved Known Issues\nChanges in 10.0.3\nKnown Issues\nChanges in 10.0.1\nKnown Issues\nChanges in 10.0.0\nChanges in 9.1\nChanges in 9.0\nChanges in 8.2\nChanges in 8.1\nChanges in 8.0\nPHP 5.3 Support Dropped\nChanges in 7.0\nChanges in 10.15.2\nDear ownCloud administrator, find below the changes and known issues in ownCloud Server 10.15.2 that need your attention. #41234\nRemove IoC Scanner Instructions\nIoC scanner instructions, firstly introduced in 10.13.4 and which were displayed during upgrade (console as well as Web Updater) and in the admin settings, have been now completely removed. Additionally, the checks for reachability now include the port number. #41262\nRemove Logic for Internet Explorer 11 Compatibility\nInternet Explorer 11 deprecation was already announced in version 10.13.0. Now JavaScript Internet Explorer 11-compatible logic has been completely removed. This allows processing of 4K portrait images by default. This step is expected to be quick and should not impact upgrade duration significantly. This step is expected to be quick and should not impact upgrade duration significantly. Browser capabilities are not needed. #41161\nDecommission of Template Editor App\nApp has been deprecated and themes should be rather used to change mail templates. Default is 6016x4000, which corresponds to 24 MP. #41166\nUpdated App Versions\nFind below a list of updated apps in comparison with the 10.13.4 complete bundle. Show Alert about IoC Scanner to All Customers on Upgrade\nWe now display IoC scanner instructions to all customers (a valid license key needs to be present) during upgrade (console as well as Web Updater) and in the admin settings. #41109\nUpdated App Versions\nFind below a list of updated apps in comparison with the 10.13.2 complete bundle. As a result, the background job responsible for this task will have significant performance improvements. #40974\nUpdated App Versions\nFind below a list of updated apps in comparison with the 10.13.1 complete bundle. This is e.g., used by the iOS 12.0.3 client. We now ship the icons embedded in core. oauth2#349\nUpdated App Versions\nFind below a list of updated apps in comparison with the 10.13.0 complete bundle. However, in certain cases with an exceptionally high number of potential cleanups, these jobs can now take up a substantial amount of database resources. Internet Explorer 11 Deprecation Note\nInternet Explorer 11 support will be dropped in the next server release. Update Symfony from 4.4. *\nSymfony framework has been updated to LTS major version 5.4. This also affected a number of apps which required a new release and have been now included in the complete bundle. First time installations are not affected as their jobs are correctly added. #40801\nAutomatically Disable Online Updater for Enterprise\nOnline updater is not recommended for Enterprise installations and is now automatically disabled in such cases. #40770\nRequire firebase/php-jwt in Core\nfirebase/php-jwt version 6 is now part of core and all apps can rely on it. To take care of compatibility between the server and desktop clients, the minimum version the server will accept connections from has been raised to version\n3.2.1\n. While it’s recommended to keep up with later versions, this is the new default value. #40873\nUpdated App Versions\nFind below a list of updated apps in comparison with the 10.12.2 complete bundle. This step is expected to be quick and should not impact upgrade duration significantly. Users are now able to mark the current version as \"published\". This increases the major version tag and prevents deletion. The old noncurrent version is no longer removed upon restore and the current version no longer receives mtime of that version. The current version of the file is now shown in the Versions Tab, highlighted with \"gray\" background. Versions now persist additional extended metadata on versioning tags, that allow easier identification of the versions. Each update increases the minor version for the file. Migrate from deprecated save_version_author to save_version_metadata. Those versions were left in both the database and the file system, taking up space and degrading the performance. This is now being handled properly, so no resources are consumed due to the versions being left stranded. There is an automatic migration in place, so for upgrades, the \"cn\" attribute will be set as group name in order to keep the old behavior. Large installations might end up with too many of these empty directories. #40427\nUnused Google SDK services are removed to reduce package size. See the diffs of PHP docs in the linked PR for examples. #40671\nUpdated App Versions\nFind below a list of updated apps in comparison with the 10.11.0 complete bundle. The desktop app will not be able to sync and an error 405 (Method not allowed) will be thrown. Therefore the upgrade is expected to finish quickly. #40148\nUpdated App Versions\nFind below a list of updated apps in comparison with the 10.10.0 complete bundle. Activity\n2.7.1\nCustom Groups\n0.7.1\nGuests\n0.12.0\nAnti-Virus\n1.1.0\nFile Lifecycle Management\n1.3.3\nGraph API\n0.3.0\nMarket\n0.7.0\nWeb\n5.7.0\nKnown Issues\nPHP guzzle dependencies\nThis release uses guzzle 7. The complete bundle contains several app updates that were migrated from guzzle 5 to guzzle 7. When using the minimum bundle, those apps can be downloaded from the marketplace. Please check any non-standard apps for guzzle 7 compatibility. If in doubt, disable these apps before upgrading. Currently known incompatible apps include:\n* richdocuments 2.7.0\n* onlyoffice 7.5.3\nGuests App Whitelist Feature\nThe\nGuests App Whitelist feature\nevaluates the app whitelist stricter starting with release 0.12.0. To overcome any issues related to this strict handling, an upgrade to Guests 0.12.1 is highly recommended as this release has a much wider range of apps whitelisted by default. This step is expected to be quick and should not impact upgrade duration significantly. As there have been performance issues in certain environments, 10.10 disables the feature by default. It is recommended to enable the feature based on evaluations with test systems. #39856\nGeneral performance and stability improvements have been made. Activity\n2.7.0\nMarket\n0.6.3\nMetrics\n1.1.0\nOpenID Connect\n2.1.1\nPassword Policy\n2.1.4\nRansomware Protection\n1.4.0\nownCloud Web\n5.4.0\nMicrosoft Office Online\n1.6.0\nWorkflow\n0.5.4\nExternal Storage: Windows Network Drive\n2.1.1\nFor Developers\nThe Capabilities API now exposes the product name. The impact on upgrade duration depends on the number of known federated users. The impact on upgrade duration is insignificant. If you’re running on PHP 7.2 or below, it is necessary to upgrade PHP\nprior\nto conducting the upgrade to Server 10.9. See the\nsystem requirements\nfor more information. If you’re using the official Docker containers or the Univention appliance, this has been taken care of already. PHP 7.3 Deprecation Note\nPHP 7.3 support will be dropped in one of the next server releases. Support is still available with 10.9 but it will be necessary to plan an upgrade soon if PHP < 7.4 is in use. Support for MariaDB 10.6\nVersion 10.9 adds support for MariaDB 10.6 (\n#39286\n). Please read the\ndocumentation\non this matter carefully before upgrading to MariaDB 10.6. The implementations will follow soon with the next client releases. Updated App Versions\nFind below a list of updated apps in comparison with the 10.8 complete bundle. #39228\nWhen 'upgrade.disable-web' is set to\ntrue\nin\nconfig.php\n, the web updater section in admin settings will now be completely hidden. See the\ndocumentation\nfor more information. More information can be found in the\ndeveloper documentation\n. This means that the latest changes will be lost. See the following link for\nmore technical details\n. Please evaluate according to your use case how well the new web interface suits your needs and let us know any feedback that you encounter. To further shape the new product and to determine the development priorities it is of utmost importance to consider user feedback. New icons have been introduced for this feature. If you’re using a custom theme, it is recommended to check whether the icons have a good contrast. The upgrade duration is, therefore, expected to be short. Find below a list of updated apps in comparison with the 10.7 complete bundle. Web\n3.4.1 (new addition to the bundle)\nAnti-Virus\n1.0.0 (with\nICAP support\n)\nLDAP\n0.15.4\nActivity\n2.6.1\nWorkflow\n0.5.2\nAnnouncement Center\n1.5.2\nCustom Groups\n0.6.2\nFile Lifecycle Management\nFile Firewall\n2.10.3\nMarket\n0.6.1\nAuditing\n2.1.3\nDocument Classification\n1.3.1\nPDF Viewer\n0.12.1\nText Editor\n2.3.1\nGuests\n0.9.1\nMicrosoft Office Online\n1.5.0\nownCloud Enterprise Theme\n2.3.0\nPHP Minimum Version 7.2.5\nThe minimum supported PHP version has been increased from 7.2 to 7.2.5. If you are still running PHP 7.2,\nensure that you are running a recent patch release before upgrading to 10.8. PHP 7.2 Deprecation Note\nAs announced with the\nrelease notes of version 10.6\n, PHP 7.2 support will be dropped in one of the next minor releases. Support is still available with 10.8 but it will be necessary to plan an upgrade soon if PHP < 7.4 is in use. * releases if\nopen_basedir\nis used with PHP 7.4.21. The upgrade duration is, therefore, expected to be short. From version 10.7 onwards, tags will be displayed as a read-only list at the top of the right sidebar. Starting with version 10.7, the user will be prompted on click to decide which application they want to use. PHP 7.2 Deprecation Note\nAs announced with the\nrelease notes of version 10.6\n, PHP 7.2 support will be dropped in one of the next minor releases. Support is still available with 10.7 but it will be necessary to plan an upgrade soon if PHP < 7.3 is in use. Other Notable Changes\nRedis can now be connected with TLS support for improved security. See the\ndocumentation\nfor more information. #38161\nThe right scrollbar in the web interface is more visible now. If you are using this feature combination, please skip the 10.7 upgrade and wait for the next release. The impact on upgrade duration depends on the number of federated shares. #37835\nPHP 7.2 Deprecation Note\nPHP 7.2 recently reached its\nend of life\nand is not maintained anymore. If you’re running on PHP lower than 7.3, please make sure to schedule an upgrade to PHP 7.4 as soon as\npossible. See the\nsystem requirements\nfor more information. The new server version comes with a switcher to the new frontend (\"New Design\"). Likewise, the new\nfrontend comes with a switcher back to the classic frontend (\"Classic Design\") to allow users to navigate\nback and forth. The app will make the new frontend available as described above when\ndeployed and configured correctly\n. There is no status indication and progress information until the download has finished in the background. The impact on upgrade duration can be high depending on the number of rows of the mentioned columns. The impact on upgrade duration depends on the number of rows in\noc_share_external\n. The impact on upgrade duration depends on the number of rows in\noc_properties\nand\noc_dav_properties\n. To facilitate the transition to the new licensing mechanism (\nsee below\n) a\nmigration step\nwill disable the\nenterprise_key\napp during the upgrade. This step does not have an impact on upgrade duration. If you’re running on PHP 7.1 or below, it is necessary to upgrade PHP\nprior\nto conducting the upgrade to Server 10.5. See the\nsystem requirements\nfor more information. If you’re using the official Docker containers or the Univention appliance, this has been taken care of already. The user-facing components in the web interface are disabled by default. Previously there were different Tarball bundles, Docker images and Linux packages for the Community (bare minimum) and Enterprise (all supported apps) Editions. As part of this process, the former\nenterprise_key\napp has been deprecated and is not used anymore. New versions for all Enterprise apps have been released and included in the Server 10.5 complete bundle. These are needed to work with PHP 7.4 and the new licensing mechanism (see below). When upgrading to Server 10.5 it is mandatory to upgrade all apps to the latest versions as well to ensure compatibility with the supported PHP versions and the new licensing mechanism. Using the Server 10.5 complete bundle for upgrading you will get the latest versions of all apps. It is mandatory to disable the deprecated\nenterprise_key\napp when upgrading. A migration step will do this automatically during the upgrade procedure. Additionally, to prevent some corner cases when accidentally using old versions of the\nenterprise_key\napp with the new server version, the deliverables contain a non-functional\nenterprise_key\napp (new version without any business logic) to avoid such scenarios. This app will be removed completely in a future release. Practically, for existing installations the change does not make a big difference. Community installations will get all supported Community and Enterprise apps in addition but they are disabled. For Enterprise installations the bundles stay equal. After upgrading it is recommended to check whether the desired apps are enabled/disabled. Previously, the process to upgrade from a Community installation to an Enterprise trial was not that easy. With Server 10.5 this process has been changed and made easier: Along with the changes to the Marketplace and in delivery, Enterprise functionality is available in every installation after upgrading or installing, respectively. The apps can be enabled like other apps which will start a grace period if no valid license key is present. During this time the functionality can be fully used and the admin has some time to start a trial. To start 30 days of Enterprise trial, a demo license key can be obtained from a\nnew landing page\n. As usual, if you do not have a valid license key after the grace period or the 30-day trial, all Enterprise apps will become disabled again. The administrator will be informed and guided to obtain the demo license and can enter it in the web interface. New Admin UI to Supply License Keys\nAs mentioned above, Server 10.5 adds new UI elements to set license keys in the\nSettings\nAdmin\nGeneral\nsettings. Still, there is legacy support taking into account when keys have been stored in\nconfig.php\nor\nlicense.config.php\n. Based on feedback a new, improved background job with more configuration options was added to Server 10.5. #36921\nImprovements have been added to make long-running downloads more stable. This is mainly important for object stores and should only be utilized in rare cases. The upgrade duration is, therefore, expected to be short. If you’re running on PHP 7.0, it is necessary to upgrade PHP\nprior\nto conducting the upgrade to Server 10.4. We strongly recommend upgrading to PHP 7.2 or 7.3. See the\nsystem requirements\nfor more information. If you’re using the official Docker containers or the Univention appliance, this has been taken care of already. PHP 7.1 Deprecation Note\nPHP 7.1 recently reached its\nend of life\nand is not maintained anymore. If you’re running on PHP < 7.2, please make sure to schedule an upgrade to PHP 7.2 or 7.3 as soon as possible. See the\nsystem requirements\nfor more information. MariaDB 10.4 and PostgreSQL 10 Support\nThe discontinuation of PHP 7.0 enables support for MariaDB up to version 10.4 and PostgreSQL 10. Server 10.4 is thoroughly tested against these database versions and proven to work stably. #36397\nFilter options (\n--enabled\nand\n--disabled\n) have been added to the\nocc app:list\ncommand to only show enabled or disabled apps, respectively. See config.sample.php for more information. They are considered stable and are enabled by default. The config.php option to enable/disable tech preview APIs (\n'dav.enable.tech_preview' ⇒ true\n) has been removed as it’s obsolete. It is recommended to schedule an upgrade to this version soon. This migration might increase the upgrade duration depending on the number of federated shares. This migration is not expected to increase the upgrade duration significantly. This repair step is not expected to increase the upgrade duration significantly. If you are still running PHP 7.0 or 7.1, please plan an upgrade soon as these versions\nare or will soon be unsupported\n, respectively. If you are still running on PHP 7.0, please make sure to plan an upgrade to PHP >= 7.2 to stay compatible. Changes to background job execution\nFor code cleanup reasons, the execution of background jobs (e.g., for public link expiration, trash bin emptying, cleanup of old file versions) has been changed. As a fallback,\ncron.php\nwill continue to work with Server 10.3 but will be removed in a later version. As a fallback,\n../cron.php\nwill continue to work with Server 10.3 but will be removed in a later version. Media Viewer replaces Gallery and Video Player\nThe\nMedia Viewer\napp has recently been released. It provides a foundation based on new technologies and officially supersedes the former\ngallery\nand\nfiles_videoplayer\napps. More details on the Media Viewer can be found in the\nrelease blog post\n. For a clean transition to Media Viewer, it is necessary to\ndisable both deprecated apps before the upgrade\nusing either the admin \"Apps\" panel in the web interface or via\nocc\n(e.g.,\nocc app:disable gallery\nfollowed by\nocc app:disable files_videoplayer\n). It is not recommended to continue with the deprecated apps. It is recommended to use Redis Session Locking if Redis is used for session handling (minimum required version for\nphp-redis\nis\n4.1.0\n)\nEnable Redis Session Locking by setting\nredis.session.locking_enabled = 1\nin\nphp.ini\nIf Redis is just used as a memory cache or not in use at all, you do not have to apply changes. The available information is now distributed vertically to improve space usage and user experience. Screenshots are available in the\npull request\n. As Phoenix is separated from the backend and communicates only via HTTP APIs, it is necessary to complete the API coverage. All new endpoints are currently in tech preview state and are mainly used for Phoenix development. For this reason, they are disabled by default and have to be explicitly enabled using the new config.php option:\n'dav.enable.tech_preview' ⇒ true,\n. #35193\nThe WebUI experience on mobile devices has been improved. #35324\nA new\nconfig.php\noption (\ndav.enable.tech_preview\n) has been added to disable tech preview APIs by default. Version 1 of the API is still available in parallel. It is recommended to schedule an upgrade to this version soon, especially if you’re running 10.2.0 already. No occ upgrade is required when upgrading from 10.2.0. 10.2.1 restores the earlier behavior and provides a repair step to move back the avatar images uploaded with 10.2.0 to the right location. As it is not necessary nor possible to run\nocc upgrade\nwhen upgrading from 10.2.0 to this patch release, if you are already running 10.2.0 then after installing 10.2.1\nyou need to run\nocc maintenance:repair -s 'OC\\Repair\\MoveAvatarIntoSubFolder'\nmanually to trigger the repair step\n. Migrations\nPlease note that this minor release contains database migrations which impact the upgrade duration. The time the upgrade takes for this change depends on the number of recently logged in users, and the number of app passwords that have been created. Additionally, PHP 7.3 support will be available in an upcoming version. Please be aware that apps that do not support outdated PHP versions will not upgrade. To allow for additional upgrade time, version 10.2 still supports PHP 7.0, because some of the major Linux distributions continue to support it. To prepare for this change, we strongly encourage you to begin planning an upgrade as soon as possible. Repair steps are employed to clean up and resolve issues from former versions. Usually, they run during upgrades, but some scenarios make it necessary to rerun them. By default, the \"apps-external\" directory is included in config.php during installation. For new installations, there will be two apps directories so that the bundled apps are distinguishable from the apps that were installed or updated by the administrator. Existing installations will not change but, generally,\nthis separation is recommended\nin all scenarios, as it makes upgrading easier and less error-prone. See\nconfig.sample.php\nfor more information. If you have already upgraded to 10.1.0, we strongly recommend upgrading to 10.1.1. You can expect minimal downtime for the upgrade to this patch release. This step was taken to benefit operators by clearly indicating the contents and upgrade procedures of new releases via version numbers. Practically, the versioning scheme will follow the \"Major.Minor.Patch\" (or \"Breaking.Feature.Fix\") format. App developers need to re-release their apps to make them compatible with the new version. For details, please refer to\nthis blog post\n. In line with the new versioning principles\nocc upgrade\nas well as the\nMarket App\nnow make a difference between major and minor app updates. Practically, this means that during a minor Server upgrade only new minor app versions will be installed. This is to make sure that apps with breaking changes will not be automatically installed when upgrading the Server. The\n--major\noption for\nocc upgrade\nand\nocc market:install\nprovides the means for administrators to force installing new major app versions. Additionally, the\nMarket App\nnow includes a version picker to enable administrators to choose which version of an app they want to install or upgrade to. MS Office Online Server Compatibility\nVersion 10.1 delivers all the prerequisites to be compatible with the Microsoft Office Online Server Integration (WOPI) that is about to become available. The integration will work with MS Office Online Server (on-premise) out-of-the-box. We kindly ask you to get in touch with us if you want to make use of the Office 365 (cloud) version of Office Online. How Does This Affect Each Database\nMySQL\nMySQL supports foreign keys. They are enabled by default. MariaDB\nMariaDB supports foreign keys. They are enabled by default. PostgreSQL\nPostgreSQL supports foreign keys. They are enabled by default. Here is what\nthe current documentation\nsays about enabling foreign key support:\nTo enable foreign key support, the library must be compiled with neither\nSQLITE_OMIT_FOREIGN_KEY\nor\nSQLITE_OMIT_TRIGGER\ndefined. If\nSQLITE_OMIT_TRIGGER\nis defined but\nSQLITE_OMIT_FOREIGN_KEY\nis not, then SQLite behaves as it did prior to version 3.6.19 (2009-10-14) - foreign key definitions are parsed and may be queried using PRAGMA foreign_key_list, but foreign key constraints are not enforced. — Enabling Foreign Key Support\nSQLite is not recommended for production deployments. Oracle\nOracle supports foreign keys. They are enabled by default. The introduction of the new specification does not involve changes in functionality for users. New Collaborative Tags Scope: Static Tags\nVersion 10.1 comes with a new scope for Collaborative Tags called \"Static Tags\". If you are still using versions 5.6 or 7.0, please plan an upgrade to 7.2 soon. With PHP 7.2 some extensions have changed. If you have not yet upgraded, you need to install\nphp-openssl\n. To take care of compatibility between the server and desktop clients, the minimum version the server will accept connections from has been raised to version\n2.3.3\n. While it’s recommended to keep up with later versions, this is the new default value. It can be changed by altering the config.php parameter\n'minimum.supported.desktop.version' ⇒ '2.3.3',\nif absolutely necessary. The app for embedding external sites to the app launcher (\n\"external\"\n) now supports icons that originate from theme apps. The\nVersions\nfeature now works also when the\nComments\napp is disabled. Fixed update issue related to oc_jobs when automatically enabling market app to assist for update in OC 10. The app for embedding external sites to the app launcher (\"\nexternal\n\") has been moved\nto a\nseparate repository\n. We anticipate that this will provide a better user experience. When operating installations with large groups, it is,\ntherefore, not yet recommended to enable the feature. For now the\nObjectstore\nextension will continue to work as usual. Once the new implementation leaves the technology preview state and migrations have been taken care of,\nthe current implementation will be deprecated. This change has mainly been introduced to facilitate\nautomation tasks. The latest version of\nthe Auditing extension (\nadmin_audit\n) is required. This is important in case a custom theme is used and it needs manual adjustments. Mail templates can now include a footer for HTML (\ncore/templates/html.mail.footer.php\n) and plain text mails (\ncore/templates/plain.mail.footer.php\n). It now lives in its own\nrepository on GitHub\n. PHP 5.6 deprecation\nPHP 5.6/7.0 active support has ended on January 19th 2017 / December 3rd 2017 and security support\nwill be dropped by the end of 2018\n. Please make sure to upgrade to PHP 7.1 as soon as possible. The latest version of the Auditing\nextension (\nadmin_audit\n) is required. When providing custom apps\n(like theme apps) that do not have a signature, the integrity check will\nfail and notify the administrator. These apps can now be excluded from\nthe\nintegrity check\nby using the\nconfig.php\noption\n'integrity.ignore.missing.app.signature' ⇒ ['app_id1', 'app_id2', 'app_id3'],\n. See\nconfig.sample.php\nfor more information. Migration related to auth_tokens (app passwords)\nUpgrading to 10.0.8 includes migrations related to\nauth_tokens\n(\napp\npasswords\n). When users have created\napp passwords\nas separate\npasswords for their clients the upgrade duration will increase depending\non user count. Please consider this when planning the upgrade. Please check\nconfig.sample.php\nfor more information. Mail Template Editor is now unbundled\nThe Mail Template Editor has been unbundled from the default apps and is not shipped with the Server anymore. no internet connection or clustered setup) you will either need to disable the app\n(\nocc app:disable templateeditor\n) or\ndownload and install it manually\n. When a theme app is enabled and the\nadministrator attempts to enable a second one this will result in an\nerror. As a remedy administrators can either uninstall the second theme app or disable the Mail Template Editor app. This has mainly been\nintroduced for the open-source community to test and give feedback. PHP\n7.2 is not yet supported nor recommended for production scenarios. php-intl now is a hard requirement\nPlease make sure to have the PHP extension installed before upgrading. Changed: Only allow a single active theme app\nThe theming behavior has been changed so that only a single theme can be\nactive concurrently. This change ensures that themes cannot interfere\nin any way (e.g., override default theming in an arbitrary order). Please make sure to have the desired theme enabled after upgrading. Please check\nthe config_sample_php_parameters documentation\nfor more information. Updated minimum supported browser versions\nUsers with outdated browsers might get warnings. See\nthe list of supported browser versions\n. occ upgrade\nis now verbose by default. Administrators may need to adjust scripts for automated\nsetup/upgrade procedures that rely on `occ upgrade' outputs. For large instances it is therefore highly recommended to upgrade in order to avoid reaching limits. Upgrade and Market app information::\nRemoved\nappstoreenabled\nsetting from config.php. If you want to\ndisable the app store / Marketplace integration, please disable the Market app. Added setting `upgrade.automatic-app-update' to config.php to\ndisable automatic app updates with `occ upgrade' when Market app is   enabled\nOn upgrade from OC < 10 the Market app won’t be enabled if\nappstoreenabled\nwas false in config.php. Clustering: Better support of read only config file and apps folder\nDefault minimum desktop client version in config.php is now 2.2.4. Marketplace:\nPlease create an account for `the new marketplace`_. Currently some apps are still shipped with the\ntarballs / packages and will be moved to the marketplace in the near\nfuture. Apps:\nLDAP\n,\ngallery\n,\nactivity\n,\nPDF viewer\n, and\ntext editor\nwere moved to the marketplace. Updates with marketplace:\nDuring the upgrade, enabled apps are also\nupdated by fetching new versions directly from the marketplace. App updates:\nThird party apps are not disabled anymore when\nupgrading. Upgrade migration test:\nThe upgrade migration test,\n--skip-migration-tests\n, has been removed. The template editor app is not included in the 10.0.1 release due to technical reasons, but will be distributed via the marketplace. However,\nyou can still\nedit template files manually\n. Infrastructure\nClient:\nYou need to update to\nthe latest desktop client version\n. And the app can be used after enabling it. However, this could happen\nfor other apps as well that use\ndatabase.xml\n. The web UI prevents uninstalling apps marked as shipped, e.g.,\nuser_ldap\nTo uninstall, disable the app with occ and rm the app directory. Error pages will not use the configured theme but will instead fall back to the community default\nChanges in 10.0.0\nPHP 7.1 support added (supported PHP versions are 5.6 and 7.0+)\nThe upgrade migration test has been removed; (Option\n\"--skip-migration-tests\"\nremoved from update command)\nRequires to use the latest desktop client version 2.3\nThird party apps are not disabled anymore when upgrading\nUser account table has been reworked. For security reasons status.php can now be configured in config.php to\nnot return server version information anymore (`version.hide'; default\n`false'). As clients still depend on version information this is not yet\nrecommended. The default will change to `true' with 10.0.2 once clients\nare ready. Minor additions\nSupport for print style sheets\nCommand line based update will now be suggested if the instance is\nbigger to avoid potential timeouts\nWeb updater will be disabled if LDAP or shibboleth are installed\nDB/application update process now shows better progress information\nAdded\nocc files:scan --unscanned\nto only scan folders that haven’t\nyet been explored on external storages\nChunk cache TTL can now be configured\nAdded warning for wrongly configured database transactions, helps\nprevent\ndatabase is locked\nissues\nUse a capped memory cache to reduce memory usage especially in\nbackground jobs and the file scanner\nAllow login by email\nRespect CLASS property in calendar events\nAllow addressbook export using VCFExportPlugin\nBirthdays are also generated based on shared addressbooks\nFor developers\nNew DAV endpoint with a new chunking protocol aiming to solve many\nissues like timeouts (not used by clients yet)\nNew webdav property for share permissions\nBackground repair steps can be specified info.xml\nBackground jobs (cron) can now be declared in info.xml\nApps can now define repair steps to run at install/uninstall time\nExport contact images via Sabre DAV plugin\nSabre DAV’s browser plugin is available in debug mode to allow easier\ndevelopment around webdav\nTechnical debt\nPSR-4 autoloading forced for\nOC\\\nand\nOCP\\\n, optional for\nOCA\\\ndocs at\nxref:next@server:developer_manual:app/fundamentals/classloader.adoc\nMore cleanup of the sharing code (ongoing)\nChanges in 9.0\n9.0 requires .ico files for favicons. See\nChanging favicon\nin the Developer Manual. During\nthe upgrade existing Calendars and Addressbooks are automatically\nmigrated (except when using the\nIMAP user backend\n). Linux packages are available from our\nofficial download site\n. New in 9.0: split packages. This new package comes without dependencies, and is\ninstallable on a larger number of platforms. System administrators must\ninstall their own LAMP stacks and databases. This\nprevents unnecessary update checks and improves performance. Users of the Linux Package need to update their repository setup. Changes in 8.1\nUse APCu only if available in version 4.0.6 and higher. The system root certificate bundle\nwill not be used anymore for most requests. This is configurable via the\nminimum.supported.desktop.version\nswitch\nin\nconfig.php\n. This\nis configurable via the\npreview_max_x\nand\npreview_max_y\nswitches in\nconfig.php\n. The 8.1.0 release has a minor bug which makes application updates fail\nat first try. Reload the apps page and try again, and the update will\nsucceed. Note\nthat third-party apps are not supported. This provides better performance and a better user experience. When you make server updates\nconfig.php\nmust be made writeable. When\nyour updates are completed re-set it to read-only. Antivirus Application Modes\nThe Antivirus application offers three modes for running the ClamAV\nanti-virus scanner: as a daemon on the ownCloud server, a daemon on a\nremote server, or an executable mode that calls\nclamscan\non the local\nserver. No Application Store\nThe application Store is disabled for the Enterprise Edition."
        },
        {
            "cluster": 4,
            "chunk_content": "New Feature Telemetry Reporting for Enterprise Customers\nServers with a license key installed will send daily telemetry reports unless opted out. See direct customer communication,\nthe telemetry brief\nand our general\nprivacy policy\nfor details. The code handled this as 'yes' until the admin once selected and unselected the checkbox. #41225\nVerify Link in Public Link Notification OCS Share API\nThe frontend is generating the URL to the public link share and submitting it to the server via the OCS Share API. Via the pure usage of this API any URL could be sent out to any email address (as long as being logged in). #41056\nLDAP Groups Will be Properly Applied to External Storages\nThe admin can setup external storages to be used by specific users and groups. When a LDAP group was setup, there were some issues so users belonging to that group weren’t able to access the external storage even though they should. Now, users belonging to LDAP groups can access external storages configured to be accessed by those groups. #41158\nStore User Information in Explicit Variable\nBefore user information was stored in the browser global object. #41193\nReplace the isAdmin Implementation\nInstead of asking the backends for the groups a user belongs to, we now get the admin group and list the members to detect if user is admin or not. #41137\nBackground: The Indicators of Compromise (IoC) tool plays a vital role in identifying potential security threats or breaches. It collects information from the Apache logs and identifies the signatures of potential exploits. 2FA Check on Controllers Which Are Annotated as @PublicPage and Also Authenticated\nSome controllers define methods which are publicly accessible and accessible for authenticated users at the same time. We now check 2FA on controllers which are publicly accessible and authenticated. #41092\nUpdate config.apps.sample.php\nComments describing the configuration variables related to the Kerberos and Windows Network Drive app are now updated and in sync with published online documentation. Drop Setup of User Key Encryption\nUser key encryption has already been deprecated in core versions later than 10.7. For this reason, the command line interface and web UI to enable user key encryption are no longer available. encryption#389\nUser Key Encryption Is No Longer Auto-Enabled\nExecuting the\nencryption:encrypt-all\nocc command will no longer auto-enable user key encryption. #40779\nEnforce 2-Factor Authentication\n2-factor authentication can be enforced now. The feature requires at least one app implementing 2-factor authentication, otherwise no enforcement will be done. If 2-factor authentication is enforced, all users will be required to use a 2-factor authentication app. Some specific groups selected by the admin can be excluded to let those users bypass 2-factor authentication. #40830\nSetting up Federation Sharing over the Web UI Can Use Trusted Servers Again\nAfter an update of the guzzle library in previous core versions, it was no longer possible to set up new trusted server relations for federated sharing over the Web UI because of the wrong format used during the token exchange phase. #40815\nAdd Commands to Handle Trusted Servers from the Command Line\nNew occ commands have been added to handle the trusted servers for federation from the command line. These commands will allow the admin to add, list and remove trusted servers. #40843\nSkip\nshare_folder\nfor Guest Users\nWhen the\nshare_folder\nconfig.php option was set, guest users could no longer see their received shares. We now skip the\nshare_folder\nconfig.php option for guest users and default to root. #40864\nApply Same Restrictions for All the Shares\nRemote shares will have the same restrictions as user and group shares. This means that, in order for a remote user to show up as sharee, the search term length must be greater than the minimum configured otherwise only exact matches will be shown. However, in version 2.13.0 the accounts.google.com authorization URI has been updated. #40846\nRely on Server to Sort the User List\nPreviously, the user list was sorted in the browser. #40840\nRemove the\nadd group\nButton from the Dropdowns in the Users Page\nThe\nadd group\nbutton has been removed from the dropdowns because the behavior was confusing. You can still create new groups in the users page by using the\nadd group\nbutton in the top left corner of the users page. The dropdowns will only select existing groups, but they won’t add new groups. If\nnone\nor\nnoindex\nand\nnofollow\nare missing, a security warning is raised. #40715\nThe\nLast Login\ncolumn on the Users page is now correctly hidden if the setting is initially unchecked. This prevents connecting to an invalid server, and thus prevents problems for users. When the\nsciencemesh\napp is installed, it will be used instead of the federatedfilesharing app to find sharee matches for OCM sharing. Disallow permissions to be upgraded via federated sharing\nDo not allow setting higher permissions on a federated share for a resource which was shared with limited permissions. However, in version 2.13.0 the accounts.google.com authorization URI has been updated. #40531\nSupport for Login Policies\nSupport for login policies has been added in order to block the login of users under some circumstances. By default, there isn’t any restriction, so any user can login normally (assuming the password is correct). A group login policy has been added. This policy allows or denies users to log in based on the login type being used (username + password, openID Connect, etc.) and whether they belong to specific groups. This can be used to ensure a group of users is always authenticated using a determined authentication mechanism. This wasn’t a problem because for local groups the group ID matches the group display name, and for ldap groups the group ID was the \"cn\" attribute. Due to recent changes, the ldap group will now use the \"objectuid\" attribute (or a similar attribute) as group ID by default. Now, the \"available for\" selection will show the group display name, which for ldap is the \"cn\" attribute by default. #40497\nAllow to Temporarily Ignore Invalid Federated Shares\nThis change is targeted mostly at tightly federated setups. Currently, if a federated share is invalid or the API endpoint returns \"not found\", an availability check would validate whether this is a problem with a server, and that given share is removed. However, in some cases these checks might not be enough (e.g., complex migrations in tightly federated setups). When the config entry \"sharing.remoteShareesSearch\" is set to the name of a class that is registered in the server container and that implements \"IRemoteShareesSearch\" (for instance the \"ScienceMeshSearchPlugin\" that the \"sciencemesh\" app registers) it will be used instead of the federatedfilesharing app to find sharee matches for OCM sharing. #40444\nAdded account creation time in the oc_accounts table so that this info can be displayed over the Users page. Also extended the users provisioning API and the \"user:list\" occ command to display this info. #40509\nThe username as well as the full name of a user is now shown on his personal general settings page. #40584\nTwo-factor authentication can now be enabled using the provisioning API. #40514\nBackend class aliases have been added to improve usability of the occ user:sync command. Developers of apps that use lib/private/Http/Client/IClient.php\nshould check any calls to ensure that arrays of items are not passed in the body option. #40652\nIn some cases mail notifications related to sharing activities are blocked by mail filters as they are flagged as email impersonation. This is now possible by setting the config.php parameter \"remove_sender_display_name ⇒ true\". #40264\nSharing with Multiple Users at once\nServer 10.11 introduces the ability to share with multiple users at once by entering their identifiers (e.g., display name, user ID, email address, federated cloud ID) as a comma-separated list in the sharing dialog (e.g.,\nalice,\nbob@example.org\n,carol\n. This way, users can easily invite many recipients at once to their files and folders. With Custom Groups version 0.7.0 onwards the same behavior also applies to adding users to Custom Groups. #40155\ncustomgroups#522\nguests#506\nInviting New Guests to Custom Groups\nServer 10.11 in combination with Custom Groups 0.7.0 and Guests 0.12.0 allows inviting new guest users directly into a Custom Group. Previously this was only possible by sharing files with new guests first and creating their user account thereby. It is recommended to provide the official user documentation to users instead. Notable Changes\nThe default app on login can now be set per individual user. This way, users are always redirected to their preferred UI after logging in. #40240\nGuest users will no longer see settings sections which they are not allowed to use. #40152\nApp passwords now work with case-insensitive user names. #40281\nThe SAML/SSO login flow is now more stable, making features like the Microsoft Office Online / WOPI integration work better in combination with SAML. If the session keepalive config option (\nsession_keepalive\nin\nconfig.php\n) is set to\ntrue\n, a periodic \"heartbeat\" request will be made automatically regardless of any activity going on. This will reset the session lifetime preventing its expiration. If the session_keepalive config option (\nsession_keepalive\nin\nconfig.php\n) is set to\nfalse\n, a \"heartbeat\" request will be sent based on activity in order to extend the session lifetime. If there’s no activity, the session might expire, and the user will need to login again. A new config option\nsession_forced_logout_timeout\nhas been introduced in\nconfig.php\n. This option is disabled by default. Notable Changes\nThe feature\nResend invitation mail\nin user management does not apply to guest users anymore as those have a different invitation flow than regular users (user-based vs. admin-based). #40032\nGroup administrators will now only see the groups they are an administrator of in user management (previously they also saw other groups but were unable to manage them). Migrations\nTo improve the performance of address book search queries (e.g., when looking for federated users to share with), a migration step adds an index in the\ncards_properties\ntable. Version 10.9 introduces a new subfeature that allows administrators to define groups of users that are entitled to unlock locked files, independent of whether they have set the lock initially or not (\n#38222\n). Users in such groups can regain control over files, e.g., if a lock owner is unavailable and a long timeout for file locks is used. The feature is disabled by default as it is not compatible with all use cases. Existing public links will continue to work after introducing a restriction policy. The policy only applies to the creation of new public links. Ability to move a user’s home folder\nIn some cases it is necessary to manage storage locations of users, e.g., if you want to distribute them across multiple storages. To facilitate this process, Server 10.9 introduces a new\nocc\ncommand (\nocc user:move-home\n) that allows moving user home folders to a new location (\n#39136\n). In addition, new commands like the\nocc user:home:list-dirs\nwhich lists the available storage locations of users and\nocc user:home:list-users\nwhich lists users belonging to a storage location have been added. Media Viewer\n1.0.5\nPDF Viewer\n1.0.1\nText Editor\n2.4.1\nGuests\n0.9.3\nOAuth2\n0.5.2\nOpenID Connect\n2.1.0\nWeb\n4.6.0\nWindows Network Drive\n2.1.0\nMicrosoft Office Online\n1.5.1\nLDAP Integration\n0.16.0\nOther Notable Changes\nThe handling of inaccessible federated shares has been improved to avoid removing temporarily unavailable shares. #38474\nGroup admins can now add users who are in at least one of their administered groups to their other groups via the HTTP Provisioning API (previously this was only possible via the web-based user management). #39367\nThe\nocc user:list\ncommand now supports the option\nshow-all-attributes\nto provide a user list including all available information at once. #39233\n#39221\nThe\nShared by link\nview has been improved for mobile devices. #39056\nThe group listing of the user management in the web interface has been improved with regard to usability. #39157\nThe\nocc transfer:ownership\ncommand now has a new option\n--destination-use-user-folder\nto transfer entire user accounts. #39361\nThe setting\nallow_user_to_change_mail_address\nhas been introduced and decoupled from the setting\nallow_user_to_change_display_name\n. #39238\nFor developers\nIt is now possible to register multiple default actions for a certain mimetype. Modernized Login Page\nThe login page has received several improvements regarding design and usability (\n#38506\n). A login button and labels for the input fields have been added and the \"Alternative login\" buttons (e.g., for authentication with OpenID Connect) have been redesigned to give a more modern look and feel. With the next release of the Windows Network Drive app, these can also be used to set up the WND Listener. For such cases, administrators can now conveniently re-send invitation emails to new users using the mail icon in the user management. Before, these events appeared as if the user would have done them manually. Other Notable Changes\nThe auto-removal of inaccessible federated shares has been made more robust\n#38474\nInteroperability in federation with other OCM providers has been improved\n#38738\n#38751\nThumbnail previews for file versions work again\n#38778\nReceived shared files/folders can be renamed again without permission checks (only affecting the mount point for the user themselves)\n#38794\nAn issue that caused the sharing autocomplete dropdown menu not appearing in the Safari browser has been fixed\n#38831\nMOVE operations from encrypted storage to unencrypted storage have been fixed\n#38567\nThe performance of MOVE operations has been improved\n#38649\nAn issue related to CORS that prevented users from accepting shares has been fixed\n#38639\nDesign improvements for the tabs in the right sidebar have been made\n#38653\nImprovements on the files list allow a better readability of file names on small screens\n#38748\nThe button to share a user’s federation ID to Google+ has been removed from personal settings since it’s obsolete\n#38705\nThe config report and the\nocc user:report\ncommand now provide the number of guest users\n#38742\n#146\nFor more control over Deleted Files, administrators can now decide if a resource should be deleted immediately instead of moving it to the trash bin. If a video cannot be played, users will now see a hint with guidance. Tag management (assign/unassign, etc.) can now be conducted in a dedicated tab \"Tags\" below. Sharing via Email Address\nBased on user feedback, some further usability improvements have been made in the user sharing dialog. In most cases users actually want to share with an internal or a guest user. Therefore, when sharing data by entering an email address, the suggestion to create a federated share will now only be shown when the internal user lookup has finished and did not return any results. As federated user IDs have the same syntax like email addresses (e.g.,\nuserid@cloud.tld\n) this measure has been taken to guide users better by only suggesting federated users when no other known users have been found. While master-key encryption is based on a general encryption key that is used to decrypt all user data, user-key encryption relies in essence on user passwords to decrypt individual user data. Both follow the goal to prevent malicious administrators from being able to read user data. Due to the nature of user-key storage encryption, this encryption mode comes with a list of\nlimitations\nand can cause challenges for administrators, e.g., when users forget their password. Server 10.7 still supports user-key encryption but the feature will be removed in later versions. Master-key storage encryption is still supported and has received improvements with Server 10.7 (see above). This encryption mode can be used with dedicated\nHSM products\nfor additional security. In certain scenarios (e.g., integrations) this behavior is not desired. To be able to flexibly adapt the intended behavior, the\nsame-site cookie handling\ncan now be configured. #38190\nPerformance improvements for the \"Shared with you\" view list have been made. #38385\nExisting guest users are now correctly labeled as 'Guest' in the sharing sidebar tab (before they were labeled as regular 'User'). #38288\nThere are user groups which cannot be edited manually in user management (e.g., the\nguests_app\ngroup). These groups will not allow adding users anymore to prevent confusion. We strive to make it as easy as\npossible to make the new frontend available to users. Migrations\nTo improve the performance of addressbook search queries (e.g., when looking for federated users to share with), a\nmigration step\nadds indices for the columns\naddressbookid\n,\nname\nand\nvalue\non the\noc_cards_properties\ntable. To prepare for the new background job for change detection in federated shares (\nsee below\n), a\nmigration step\nadds a new column (\nlastscan\n) to the\noc_share_external\ntable. The expiration time is bound to the individual locks and can’t be changed after locking. The maximum lock time by default is one day. Usually you will only need to change the default timeout as that applies to locks set in the web interface. In addition to discovering changes (\"check\"), the new background job also synchronizes meta-data changes between involved servers (\"scan\") making them available without requiring users to actively browse them. The new background job provides some configuration options to optimize its performance, especially for larger environments:\n- Minimum number of hours since the last login of a user that a scan is triggered (limits the execution of discovery & metadata sync to active users which have logged in during the configured time frame) (default: 24h)\nocc config:app:set files_sharing cronjob_scan_external_min_login --value <integer-seconds>\nMinimum number of hours since the last scan of a federated share for the next scan to be triggered (avoids frequently scanning the same federated share when it is in active use) (default: 3h)\nocc config:app:set files_sharing cronjob_scan_external_min_scan --value <integer-seconds>\nMaximum number of federated shares scanned per execution (scan is only performed if changes in federated shares are discovered) (default: 100)\nocc config:app:set files_sharing cronjob_scan_external_batch --value <integer-number>\nThe new background job is disabled by default and can be enabled/disabled in the\nSettings\nAdmin\nSharing\nsettings (\nPeriodically synchronize outdated federated shares for active users\n) or using\nocc config:app:set files_sharing cronjob_scan_external_enabled --value yes\n. If your instance provides federated sharing, activate the new background job as explained above. Notable changes\nThe\n10.4.0 known issue\nbetween Password Policy and user/group share expiration is fixed. #36978\nPending federated shares are now also shown in the \"\nShared with you\n\" tab and can be accepted/declined there. #37022\nThe\nfiles:transfer-ownership\nocc command can now also be executed for users who have never logged in. #37053\nE-mail notifications (e.g., for sharing) now respect the\ndefault_language\nconfig.php option. Expiration Date for User and Group Shares\nTo give users and administrators more control of access to resources, Server 10.4 introduces an expiration date for user and group shares, just like in public links. With this new feature, users can control the lifetime of shares with other users or groups. Administrators can choose to set a default maximum lifetime and to enforce it. To integrate this change, the UI in the user/group sharing tab of the sidebar has been adapted. When a resource is shared, the user and group entries are expandable and collapsible using the cogwheel next to the trash bin icon to show/hide the permissions and the expiration date field to maintain an overview. Additionally, to allow users to recognize expiring shares at a glance, a new clock indicator will be shown next to the cogwheel. Administrators can configure the feature in the '\nSharing\n' section of the admin settings. The indicators are also applied to resources that are not directly shared but are part of a share (when working in a shared folder). Apart from that, the sharing sidebar panels have been improved to also show users/groups and public links which have access through shares on parent folders. These will be shown as static entries with a \"\nvia\n\" indicator that allows users to jump to the parent folder and to change the share properties, if desired. This sharing information is only shown to share owners (users that created shares) as other share recipients are not entitled to get detailed information about who else has access. #36520\nSupport for Oracle DB connection strings has been added to be able to use Oracle-specific configuration settings like failover. This has been changed to be more user-friendly. #36722\nUser creation now allows \"\" characters in the user id (e.g., to invite guests with mail addresses containing \"\"). For the change to take effect, you also need to upgrade the\nguests\nand/or\nuser_ldap\napps to the latest version. #36464\nThe \"\nNotify by email\n\" button in users/groups sharing now also works when the initiator does not have an email address set. #36494\nThe command to sync single users from external user backends like LDAP (\nocc user:sync -u 'username'\n) does not abort anymore if multiple users matching the search term are returned (e.g., 'alice' could return 'alice' and 'alice1'). #36815\nA new\nOCS User Sync API\nto trigger user sync from external user backends has been added. #36428\nKnown Issues\nPassword Policy App\nIf the public link expiration policy \"\ndays maximum until link expires if password is not set\n\" is enabled, sharing with users and groups will not work. Sharing with Numeric UIDs\nWith Server 10.4.0 and 10.4.1, sharing resources with users that have numeric user ids (e.g., \"123\") does not work in some cases. To make use of it, you have to change the entry in\ncrontab\n. See the\nocc documentation\nfor more information. OAuth2 and session handling improvements\nServer 10.3 comes with improvements for session handling with Redis. Please note that Redis Session Locking is not supported in clustered Redis environments. Restructured user/group sharing autocompletion\nTo cope with long user names or additional user information and to provide a better overview for users, the user/group sharing autocompletion dropdown has been restructured. OCS API for public link share email notifications\nWebDAV endpoint for public links\n. #35131\nAn Activity entry is now shown when a share receiver unshares a share. #35919\n#35813\n#35347\n#34803\nThe config.php options\nproxy\nand\nproxyuserpwd\nwill now be respected to enable federation when an instance needs to go through an authenticated proxy to reach a federated instance. #35819\nThe performance when loading groups of users has been improved. #35998\nThe\nshare_folder\nconfig.php\noption now also respects federated shares. #35396\nThe\nuser.min_search_length\nconfig.php option now also respects federated users. #35294\nUser/group sharing permission handling\nWhen a share recipient shared a resource with a group the resource owner was a member of (reshare), the resource owner was unable to increase the permissions of the initial share. #35884\nWhen a user shared a resource with a group, share recipients (members of the group) were able to remove the share altogether (instead of just unsharing from themselves). #35716\n#35879\nTech preview for OCS API for public link share email notifications (disabled by default). #34848\nThe theming capabilities have been improved by allowing HTML for\nName\nand\nLogoClaim\n. #35273\nA new Roles API has been added to allow clients to query the server for available permissions/roles for user/group sharing and public links. In future client releases, this endpoint will be used to dynamically display roles/permissions depending on the server’s capabilities. You can find out more about it in\nthe Roles API documentation\n. Either a central master key pair or individual user key pairs are used to encrypt/decrypt data. Previously both modes used the same mechanisms which resulted in potentially significant overhead when master key encryption was used as user key encryption relies on so-called\nshare keys\nwhich are necessary to allow share recipients to decrypt shared files. Added -y option to\nocc encryption:encrypt-all\ncommand\nThe occ command\nencryption:encrypt-all\nnow offers a\n-y\noption that can be used to automatically answer potential questions with \"yes\" which is particularly important for automated deployments with Ansible or similar tools. Specifically:\nThe\noc_share\ntable has a new column. The\noc_authtoken\ntable’s login name column size has been increased. Advanced Sharing Permissions\nThe new server version\nintroduces the means\nfor extensions to implement additional, advanced permissions for user and group sharing. This feature increases sharing flexibility and opens the doors for extension developers to introduce new functionality based on sharing permissions. Especially, considering collaborative editing solutions, this addition provides the foundation for mode-based document sharing, such as \"view-only\", \"comments-only\" or \"enforce change tracking\". In the future, such advanced permissions should significantly improve the security as well as the usability of review processes, working on Office documents collaboratively, or exchanging information securely. Based on the new capabilities a set of features has been developed together with Collabora Online, called\nSecure View\n. Secure View is designed to enable information distribution processes for sensitive data, meaning that information can be provided securely yet can —\nunder no circumstances\n— leave the platform. Practically, it enables users to share documents (such as docx, xlsx, pptx, and PDF files) in such a way that the recipient can’t edit, download, copy and paste, nor print them. Additional protection for screenshots and photos is provided by watermarks which display user information. To get started with storage encryption and HSM,\nplease get in touch with us\n. It can be executed regularly as a background job to discover federated shares (\nocc incoming-shares:poll\n). This is aimed at handling this issue while providing the means for administrators to control resource usage. When using federation, it is recommended to execute\nocc incoming-shares:poll\nregularly\nusing Cron jobs\n. The time interval to choose between executions is a trade-off between the availability of changes in federated shares and resource consumption, which naturally depends a lot on the number of federated shares and the frequency of changes within those shares. Executing the command once per 12 hours should be safe enough for any instance. However, the interval could be reduced to once per 2 hours for instances with a low number of federated shares. Depending on the desired resource consumption this value should be lowered or increased based on individual expectations. In contrast, Federated shares always had to be accepted as they can originate from external, potentially untrusted, sources. This option enables providers of several instances (e.g., an external and an internal instance) to facilitate or automate data exchange between them, not requiring users to accept shares. For security reasons, federated shares from untrusted servers will never be accepted automatically. To give users more control over the sharing behavior in the scope of their account, user-based override options were introduced that allow users to enable/disable\nPending Shares\nfor themselves if the instance’s global setting is disabled (when \"\nAutomatically accept new incoming local user shares\n\" is enabled). The two new checkboxes can be found in the 'Sharing' settings panel of personal settings. In addition to the option \"\nAllow username autocompletion in share dialog\n\" in the global 'Sharing' settings, users can now autonomously decide to opt-out of autocompletion to protect their privacy. When enabled, other users need to enter a user’s full identifier to be able to share with them. This option is not a general override but an opt-out, meaning it can only be used when \"\nAllow username autocompletion in share dialog\n\" is enabled. The new checkbox is available in the 'Sharing' settings panel of personal settings. Other Notable Changes\nAdded email footer with motto in email for changing passwords. If you use customized email templates, it is necessary to adapt those to incorporate the footer. To save time when only specific steps need to be taken, administrators can now individually execute them using\nocc maintenance:repair --list\nand\nocc maintenance:repair --single \"<repair step>\"\n. Command for the first run wizard to reset for all users. In some cases, administrators customize the First Run Wizard in order to distribute information to users. Using\nocc firstrunwizard:reset-all\nyou can reset the popup so that it will appear for each user upon their next login. Added checkboxes to hide quota and password in user management. The columns in user management have been made more flexible. Using the bottom left cog wheel you can now show/hide the columns for\nQuota\nand\nPassword\n. While previously it could only be used for all or single users and groups of users, you can now also execute it for groups where the group name contains a comma. Allow administrators to enable/disable medial search for users and groups. Medial search is used to get search results when typing keys within a search term in autocomplete fields (e.g. Depending on the configuration of available search terms (e.g., attributes from LDAP), search results can deliver better results without medial search. For these reasons medial search can now be enabled/disabled for user (\n'accounts.enable_medial_search'\n) and group (\n'groups.enable_medial_search'\n) search. Previously, when a default expiration date for public links had been set by an administrator (without enforcement option), the default value has been applied upon link creation even when a user removed it. If you sync accounts from LDAP and have a quota attribute specified in LDAP, each\nuser:sync\nrun will set the quota values to the ones from LDAP, no matter if they were changed manually. The HTML email that confirms a successful password change is rendered in plain text. It allows users to share data across installations building a worldwide collaboration network of decentralized nodes - each under the full control of it’s provider. In addition to the\nother tag scopes\n, these tags are intended to be supplied by administrators and linked with policies in the\nFile Firewall\n,\nDocument Classification\nor\nWorkflows\n, for example. This makes it possible to equip certain users with the means to impose pre-defined policies upon files. To create such tags administrators need to use the\nCollaborative Tags Management\nextension. Other notable changes\nThe user/group deletion in the users page now has a confirmation dialog to prevent unintentional user deletion\nThe default public link share name has been changed to be \"Public link\" instead of formerly the file or folder’s name\nAllow loading JSON files in setups with pretty URLs. New Local User Creation Flow\nIn previous versions, administrators created local users by entering a username and a password. In many cases this is undesirable, as administrators set the password for new users and need to provide it via a\nsecond communication channel. For this reason the local user creation flow has been changed to expect a username\nand an email address, which will be used to send an activation link to new users. This way user creation is easier and more secure as new users are informed automatically and can choose a password\nin self-service. For cases where administrators want to set the initial password, it’s possible to deviate from\nthe default by setting the option \"\nSet a password for new users\n\" on the bottom left settings cog. The former option \"\nSend email to new users\n\" has been removed, as this change made it obsolete. It enables the use of search terms to query the server and the delivery of search results via HTTP (WebDAV). For example, they will be able to search through all the content which they store in their account and quickly\nfind files on their smartphones. Native Brute-Force Protection\nTogether with the new server version, another security-enhancing extension is available,\nBrute Force Protection\n. This extension is tasked with preventing attackers from guessing user passwords (brute-force attack)\nby delaying subsequent failed login attempts for a user account from the same IP address. However, individual support can be obtained on request. They can be used for sharing with many users at once, for feature and access restrictions, or for storage mounts to specific users - just to name a few. In some cases, especially in larger deployments, it’s undesirable that groups which are used for other purposes are also available for sharing. To prevent users from sharing with such groups, administrators can now blacklist the respective system groups using the option \"\nExclude groups from receiving shares\n\" in the administration settings \"\nSharing\n\" section. New Options for the occ Command to Reset User Passwords\nThe occ command\nuser:resetpassword\nallows system administrators to reset or change user passwords. It has been extended to provide the additional options\n--send-email\nand\n--output-link\n, which can be used to send a password reset link to the user via mail and output the password reset link to the command line, respectively. This change is in line with the new local user creation flow, which is explained above, and can also be used for further processing with scripts. For the\nrecently improved feature\nto send public links with a personal note directly from the user interface, the recipients' language can’t be\ndetermined automatically, it just knows the recipients' mail addresses. This is still the default behavior but administrators can now change it via a dropdown menu\n\"Language used for public mail notifications for shared files\"\nin the settings\n\"Sharing\"\nsection. Theming Changes\nMail templates for share notifications do not strip line breaks from the personal note anymore. \", [$\n['personal_note']]));\nwith\nprint_unescaped($l→t(\"Personal note from the sender: <br> %s. \", $\n['personal_note']));\n. \", [$\n['personal_note']]));\nwith\nprint_unescaped($l→t(\"Personal note from the sender: \\n %s. \", $\n['personal_note']));\n. Other Notable Changes\nAllow automated SSL certificate verifications for CAs other than Let’s Encrypt. New audit events for login action with token or Apache. The occ command to deactivate storage encryption (\nocc encryption:decrypt-all\n) has received stability\nimprovements and can now read the required recovery key from an environment variable which is very helpful\nfor a scripted per-user decryption process. E-mail addresses with subdomains with hyphens are now also accepted for public link emails. Add information whether user can share to capabilities API. Hook\nloadAdditionalScripts\nnow also available for public link page. Incoming shares can now have a pending state, offering the ability to accept or decline (as known from federated sharing). In addition, the\nrecently introduced notifications framework\nis being used to inform users via mail. To switch to the new behavior administrators need to disable the configuration option\nAutomatically accept new incoming local user shares\nin the\nSharing\nsettings section. By default the option will be enabled to preserve the known behavior. Mail notifications do not, currently, support asynchronous batch\nprocessing. Due to this limitation,\nsharing with large groups (> 50 users) can take some time and might\ncause load peaks. Leveraging the \"\nShared with you\n\"\nfilter in the left sidebar of the files view users can now list all\nincoming shares, their respective states and have the ability to switch\nbetween the states easily. This improvement not only empowers users to accept rejected shares\nsubsequently but also to restore shares that have been unshared before\nwithout requiring the owner to share it again. The Authentication Middleware\nIt:\nOffers a defined way of inserting mandatory functionality between user authentication and user account access. For example, forcing users to accept legal agreements. Affords the ability to interact with the user during the login process, such as retrieving user details like their email address. The authentication middleware is currently focused on offering new features for the Password Policy extension. The Password Policy Extension\nThe\nPassword Policy Extension\nhas got a new major release and has been relicensed (OCL ⇒ GPLv2) to be available for community and standard\nsubscription users as well. It now supports password expiration and history policies for user accounts. These features don’t apply to users imported from LDAP or other backends but only for local users created by administrators or the\nGuests extension\n. Imposing password expiration and history policies enhances security for a number of reasons. For example, by forcing users to choose a new password, they can be prevented from using one or more of their previous passwords. In doing this, it encourages them to not use a previous password, which may be known to attackers. Two further examples are manually expiring passwords and configuring the number of days that have to pass since the last change before the password expires. These help ensure that users change their passwords on a semi-regular basis, making them harder to crack. However, we encourage administrators to always consider the implication of their password policies, so that they strike an appropriate balance between security and usability. For example, a high frequency of password changes, for instance, might increase security but could also decrease user satisfaction. To help ensure a good user experience it is possible to configure:\nEmail notifications. Internal notifications (they appear on the web interface and clients). The password history count. The days before reminder notification are sent. Users will always be informed when passwords have expired. When users employ tokens for client authentication, which can be configured on the user settings page (\"App passwords\"), those are not affected from password policies. When imposing password expiration policies on an existing installation it is necessary to take some further actions. For customized themes or mail templates, actions are required to include\nthe links. These are:\nAdd the following at the end of each HTML template to add the footer:\n<?php print_unescaped($this→inc('html.mail.footer', ['app' ⇒ 'core'])); ?>\nAdd the following at the end of each plain text template to add the footer:\n<?php print_unescaped($this→inc('plain.mail.footer', ['app' ⇒ 'core'])); ?>\nIn a custom theme, change\ngetShortFooter\nand\ngetLongFooter\nin\ndefaults.php\nwithout links\nto\ninclude the links\nChanged behavior of \"Exclude groups from sharing\" option\nThe option \"\nExclude groups from sharing\n\", in the administration\nsettings \"\nSharing\n\" section, enables administrators to exclude\ngroups of users from the ability to initiate file shares. In previous\nversions this restriction only applied to users who were members of\nexactly these groups (membership of one or more non-excluded groups\nbypassed the restriction). This behavior has been changed to be both more restrictive and to better\ncover the expectations of administrators. For increased security requirements, the\nconfig.php\noption\n'user.search_min_length' ⇒ 2\ncan be adjusted. Improvements for\nocc user:list\nTo improve the usability of the\nocc user:list\ncommand, the output has\nbeen made configurable by using the\n-a\noption, for including certain\nattributes. Additional events for audit logging\nNew events are available for audit logging, among others. These include:\nChanges in user-specific settings\nSending public links via mail; and\nAccepting and rejecting shares\nWhen logs are forwarded to external analyzers, like Splunk,\nadministrators can check to add the new events. Theming Improvements and Changes\nHTML templates for\nlost password\nmails have been added. To support this, mail template wording and structure have been updated. Please review the templates in\napps/notifications/templates/mail/\nto align them with your needs. For customized mail templates, it is necessary to manually add the references. Previously, shares might have been lost during the encryption process. Issues with public link dialog when collaborative tags app is disabled has been resolved. Known Issues\nThe new Password Policy feature \"Password Expiration\"\n:\nDoes not work together with Multi-Factor Authentication (e.g. twofactor_totp\n,\ntwofactor_privacyidea\n). Please do not deploy expiration policies yet when having Two- or Multi-Factor Authentication extensions in place. The new Password Policy feature \"Password Expiration\"\nincludes an\nocc\ncommand to manually force password expiration. Please run it directly after imposing\nexpiration policies on an instance with existing users. Currently the command will only work when the\npolicy\nX days until user password expires\nhas been enabled. When using customized mail templates it is necessary to either\nadapt the shipped original template to the customizations or to add the\ncode block\nfor the personal note to customized templates in order to display the personal note in the mail notifications. Apart from technical changes under the hood the Notifications\napp can now also send mails for all notifications that previously were\nonly displayed within the web interfaces (notification bell) or on the\nDesktop client (notifications API) like incoming federated share or\nCustom Group notifications, for example. In the\n\"General\"\nsettings\nsection users can configure whether they want to receive mails for all\nnotifications, only for those that require an action or decide not to\nget notifications via mail (by default users will only receive\nnotifications when an action is required). When this behavior\nis desired administrators just need to add the\n-r, --re-enable\noption\nto their cron jobs or when manually executing\nocc user:sync\n. Furthermore it is now possible to execute\nocc user:sync\nonly for\nsingle\n(\n-u, --uid=UID\n) or\nseen\n(\n-s, --seenOnly\n) users (users that are present in the database and have logged in at least once). These new options provide more granularity for administrators in terms of managing\nocc user:sync\nperformance. Another notable change in behavior of\nocc user:sync\nis that\nadministrators now have to explicitly specify the option\n-c, --showCount\nto display the number of users to be synchronized. New events for audit logging\nNew events have been added to be used for audit logging, among others. These include\nconfiguration changes\nby administrators and users,\nfile\ncomments\n(\nadd/edit/delete\n) and\nupdating existing public links\n. When\nlogs are forwarded to external analyzers like Splunk, administrators can\ncheck to add the new events. This is to prevent people from easily downloading\nlots of email addresses or user names by requesting their first letters\nthrough the API. As it is a trade-off between security and usability for\nsome scenarios this high security level might not be desirable. As a result, it might not always be desirable to enforce\npassword protection for such shares. Given that, passwords for public\nlinks can now be enforced based on permissions (\nread-only, read &\nwrite, upload only/File Drop\n). Please check the administration settings\n`Sharing`\nsection and configure as desired. New occ command to modify user details\nIt is now possible to modify user details like display names or mail\naddresses via the command\nocc user:modify\n. occ files:scan can now be executed for groups\nApart from using the\nocc files:scan\ncommand for\nsingle users\nand\nwhole instances\nit can now be executed for\ngroups\nusing\n-g, --groups=GROUPS\n. Changed behavior of e-mail autocomplete for public link share dialog\nWhen the\n\"Sharing\"\nsettings option\nAllow users to send mail notifications for shared files\nfor public\nlinks is enabled, users can send public links via mail from within the\nweb interface. The behavior of the autocomplete when entering mail\naddresses in the public link share dialog has been changed. Previously\nthe autocomplete queried for local users, users from federated address\nbooks and contacts from CardDAV/Contacts App. Contacts synchronized via CardDAV or created in the\nContacts app will still appear as suggestions. Notifications sent by\nocc\ncan now include links\nThe command\nocc notifications:generate\ncan be used to send notifications to individual users or groups. With 10.0.8 it is also capable of including links to such notifications using the\n-l, --link=LINK\noption. There is also\nAnnouncement center\nto conduct such tasks from the web interface but it is currently limited to send notifications to all users. For now administrators can use the\nocc\ncommand if more granularity is required. If this is not possible (e.g. However, when also having the Mail Template Editor enabled in\nthis scenario the administrator’s\n\"General\"\nsettings section\nwill be displayed incorrectly\n. Please use the public method\nOC.getCurrentUser()\ninstead. Lots of new Symfony events have been added for various user actions, see changelog for details, or the\ndocumentation ticket\n. More granular sharing restrictions\nThe \"\nRestrict users to only share with users in their groups\n\"\noption, in the Sharing settings, restricts users to only share with\ngroups which they are a member of, while simultaneously prohibiting\nsharing with single users that do not belong to any of the users’\ngroups. To make this more granular, we split this option into two parts and\nadded \"\nRestrict users to only share with groups they are member\nof\n\", which differentiates between users and groups. Doing so makes it\npossible to restrict users from sharing with all users of an\ninstallation, limiting them to only being able to share with groups\nwhich they are a member of, and vice versa. As users can choose their display name in self-service (which can\nbe disabled in config.php) and display names are not unique, it is\npossible that a user can’t distinguish sharing results. To cover this case the displayed user identifiers are now configurable. In the Sharing settings administrators can now configure the display of either mail addresses or user ids. Detailed mode for\nocc security:routes\nAdministrators can use the output of this command when using a network\nfirewall, to check the appropriateness of configured rules or to get\nassistance when setting up. It can take one of two values:\nsingle-instance\nand\nclustered-instance\n. For example:\n'operation.mode' ⇒ 'clustered-instance',\n. When operating in a clustered setup, it is mandatory to set this option. The default expiry time is two days, but it can be specified as a parameter to the command. Added occ command to list routes which can help administrators setting up network firewall rules. The administrator must select the mode they had\nselected before. https://github.com/owncloud/core/issues/28844\nFederated shares cannot be accepted in WebUI for SAML/Shibboleth users\nFor\nMariaDB users\n: Currently, Doctrine has no support for the\nbreaking changes introduced in MariaDB 10.2.7, and above. Settings\nSettings design:\nAdmin, personal pages, and app management are now\nmerged together into a single \"Settings\" entry. Disable users:\nThe ability to disable users in the user management\npanel has been added. Password Policy:\nRules now apply not only to link passwords but also\nto user passwords. Cron jobs:\nThe user account table has been reworked. As a result the Cron job for\nsyncing user backends\n,\ne.g., LDAP, needs to be configured. SAML authentication only works for users synced with\nocc user:sync\nWe will re-enable SSO for LDAP users with an update of the app in the\nmarket after completing internal testing. Password checks are yet to be accounted\nfor. LDAP user metadata in the account table will be updated when users\nlog in or when the administrator runs\nocc user:sync \"OCA\\User_LDAP\\User_Proxy\"\n. We recommend setting up\na nightly Cron job\nto keep metadata of users not actively logging in up to date. SAML/Shibboleth with device-specific app passwords: No migration\npossible; Users need to regenerate device-specific app passwords in the\nWebUI and enter those in their clients. The\nnotifications are made available via the notifications API. Authentication\nPluggable authentication: plugin system that supports different\nauthentication schemes\nToken-based authentication\nAbility to invalidate sessions\nList connected browsers/devices in the personal settings page. Allows\nthe user to disconnect browsers/devices. Device-specific passwords/tokens can be generated in the personal\npage and revoked\nDisable users and automatically revoke their sessions\nDetect disabled LDAP users or password changes and revoke their\nsessions\nLog in with email address\nConfiguration option to enforce token-based login outside the web UI\nTwo Factor authentication plug-in system\nOCC command added to (temporarily) disable/enable two-factor\nauthentication for single users\nThe current desktop and mobile client versions do not support two-factor yet, this will be added later. It is already possible to generate a device-specific password and enter that in the current client versions. The\nOC_User_HTTP\nbackend has been removed. Administrators are\nencouraged to use the\nuser_webdavauth\napplication instead. It is planned to\nre-add this feature to the command line client for a future release. This now needs to be configured like described in\nHardening and Security Guidance\n. No Federated Cloud Sharing with Shibboleth\nFederated Cloud Sharing (formerly Server-to-Server file sharing) does not\nwork with Shibboleth. Using the Encryption application on a SWIFT object store\nincurs twice as many HTTP requests and increases latency significantly. For example,\nif your search attributes are\ngivenName\nand\nsn\nyou can find users by\nfirst name + last name very quickly. We recommend using one of the daemon modes, as they are the most\nreliable. However, when you select specific groups they do not get\naccess to the app. Now you can set an expiration date only on\npublic link shares, and local shares do not expire when public link shares expire. Enterprise 7.0\nNo Federated Cloud Sharing with Shibboleth\nFederated Cloud Sharing (formerly Server-to-Server file sharing) does\nnot work with Shibboleth. LDAP Home Connector Linux Only\nThe LDAP Home Connector application requires Linux (with MySQL, MariaDB,\nor PostgreSQL) to operate correctly."
        },
        {
            "cluster": 0,
            "chunk_content": "configreport/#197\nFix Wrong Logic When 'allow_user_mounting' is Initially Undefined\nOn a freshly installed system, the checkbox '[ ] Allow users to mount external storage' is not set, implying 'no'. #41271\nAllow Users to Only Update Own External Storage Configurations\nPrevent users from changing external storage configurations not belonging to them. #41214\nSanitize SVG\nFor the purpose of hardening SVG support,\nxlink:href\nas well as other\nìmage\ntags will now be completely blocked. #41210\n#41237\nHandle no Longer Existing Users in Preview Cleanup\nA deleted user can still have previews in the database (mainly because the final delete job did not complete yet). #41107\nDefault Value of\npreview_max_dimensions\nIs Now 6016x6016\nThe config.php option\npreview_max_dimensions\nwhich is being used to define the maximum dimensions of the original image for preview generation now defaults to 6016x6016. #41263\nDisallow HTTP API Requests for User External Storages When Disabled\nThe admin UI setting 'Allow users to mount external storage' now also controls if requests into the files_external API are allowed. #41168\nA migration step takes care of setting oc_file_locks.id to bigint (see below). #41158\nLog.conditions With\nshared_secret\nShall not Break File Uploads\nAny file upload (or PUT request in general) could have caused a 500/Internal Server Error due to wrong usage of the request object. #41044\nCreate Previews from First Page\nOn multi-page documents (doc, odt, pdf, etc.) #41045\nFix Expiration Date and Eliminate Duplicate Entries in File List\nWe have addressed two visual issues in the Web UI file list. Firstly, the problem where the start of the epoch was mistakenly displayed as an expiration date in the shared file list has been resolved. Secondly, we have tackled the bug causing duplicate entries to appear when switching between shared tabs and clicking on a file list entry. #41067\nLimit Performance Impact when Version Metadata is Enabled\nNegative performance impact when\nfile_storage.save_version_metadata\nis enabled has been resolved. #41120\nAdd Compatibility for richdocuments.document.index Route\nBecause of a change first introduced in richdocuments 4.1.0, it was necessary to add compatibility for the richdocuments.document.index route. #41125\nSet oc_file_locks.id to bigint\nIn rare cases, the id column in the file_locks table could hit its limit (defined as int(10) unsigned) as it is set as autoincrement. #41175\nMax Image Dimensions for Preview Generation are Now Configurable\nFor preview generation it is now possible to define the maximum dimensions of the original image by using config.php options. Note that images bigger than the defined dimensions will not be processed. #41171\nFix Log Exceptions for mp3 Previews\nLog exceptions for mp3 files previews are no longer generated. #41123\nKnown Issues\nSince we reverted\n#41014\n, upon removing a mountpoint configuration from the web UI, the occ command\nfiles:remove-storage\nis currently not able to properly find the candidates to delete in case shares have been created for files/folders located on those mountpoints. #41059\nUsers Can Only Delete Their Own External Storage Configurations\nEnsure that users can only delete their own external storage configurations. Custom Groups\n: 0.8.0\nKerberos Integration\n: 1.0.1\nS3 Primary Object Storage\n: 1.6.0\nText Editor\n: 2.6.1\nPassword Policy\n: 2.2.1\nExternal Storage: Windows Network Drives\n: 2.3.2\nKnown Issues\nSince we reverted\n#41014\n, upon removing a mount point configuration from the web UI, the occ command\nfiles:remove-storage\nis currently not able to properly find the candidates to delete in case shares have been created for files/folders located on those mountpoints. #40961\nDelete All Files from Object Storage When User Is Deleted\nIn previous versions when a user was deleted, files belonging to this user were not correctly removed from the object storage (s3) and were therefore left as remnants, unnecessarily using up space. #40996\nAllow Media Viewer App to Work with HEIC and HEIF Formats\nWe removed the regular expression related to HEIC and HEIF files from the preview manager list as this was preventing the files_mediaviewer app from correctly interpreting these mime types. The app is now able to open such files. #40990\nPrevent mounting of shares with failed underlying storages\nSome mounts use a shared storage which is pointing to a different storage. In case the underlying storage was removed (removal of the external mount from the web UI), the share mount was still being present as if the underlying storage could still be accessed. This was causing problems with the \"files:remove-storage --show-candidates\" occ command because the removed storage wasn’t shown as a possible candidate. Now that shared storage won’t be mounted and the underlying storage will be detected as a candidate to be removed with the mentioned command. Open in Web Improvements\nThe \"Open in Web\" feature for direct editing of office documents now properly works on iOS and Desktop clients with Collabora. #40958\nAvoid Loading 3rd-party Resources\nThe \"Open in Web\" configuration offers icons to be shown in the clients. #40702\nAdded occ Command to Remove Obsolete Storages\nMetadata coming from storages is stored in the database. The new occ command allows removing that stored metadata, reducing the amount of space used by the DB as well as slightly improving the performance since there will be fewer entries. #40885\nClean up Storage and Database After Failed File Uploads\nStorage and database are now cleaned up of any remaining items if a file upload fails. #40892\nBump Files App Version\nThe files app version was not properly increased when the\nOCA\\Files\\BackgroundJob\\CleanupPersistentFileLock\nand\nOCA\\Files\\BackgroundJob\\PreviewCleanupJob\nbackground jobs were originally added. #40878\nExplicitly Set Open Mode in the Checksum Wrapper\nUploading files to some external storages via the desktop client was causing issues due to the checksum wrapper. #40844\nThere have been rare cases where deleting a file from a Google Drive mount could have thrown an undefined variable error. #40793\nDo not correct parent folders if the target isn’t fully scanned. #40730\nTrying to connect an external WebDAV storage to a non-WebDAV server will now fail when trying to initiate the first connection. #40861\nWe have added an\nif-statement\nin the ShareesController code of the files_sharing app that searches for remote sharees. Fix Permission Bits when Enforcing Passwords on Public Links\nPasswords on public link files with read + write permission were not correctly enforced. The usage of the permissions bits has been now fixed so that, when selecting \"Enforce password protection for read + write + delete links\", passwords are correctly enforced. #40729\nPackage firebase/php-jwt in files_texteditor\nSince version 2.5.0 of the files_texteditor app we use Firebase\\JWT\\JWT, but this dependency was not directly shipped with files_texteditor. This was not an issue if the files_external or WOPI app(s) were enabled as they include the same dependency. However, if both apps were disabled the functionality of the files_texteditor app broke. We now ship this dependency in files_texteditor as well. files_texteditor#389\nSolved Known Issues\nAdd RewriteBase to .htaccess\nReferencing\nKnown Issues of 10.12.0\n. The use of a more hardened .htaccess file in version 10.12.0, introduced by\n#40584\n, caused the files view in the web UI to be empty in setups described in the referenced known issue. Respect User Home Folder Naming Rule for Chunks Uploads\nWhen using the User Home Folder Naming Rule (configurable in the Advanced tab of the LDAP wizard), which allows to specify the home folder by means of an LDAP attribute, chunks of users' uploads were wrongly created under the default data directory rather than inside the configured home directory. We are now using the getHome() method for getting the user’s home so that chunks uploads respect the configured home directory. Text Editor\n2.5.1\nMetrics\n1.2.0\nKnown Issues\nGoogle Drive external storage integration\nCore 10.12.1 brought an update of the google/apiclient from version 2.12.6 to 2.13.1. As a result, Google Drive external storage integration is currently broken. #40563\nAn index is going to be added on the oc_filecache table which should speed up bulk file operations. Consider that this migration step may take several hours in case of installations where the oc_filecache table contains a significantly large number of entries. Now restore creates a new current version of the file from one of the past noncurrent versions of the file. The current version also receives incremented mtime for the file, and author of the file is the user who restored it. Each new edit of the file creates noncurrent versions - the ones tagged with major version due to publishing will persist long term and won’t be subject to any retention policies. #40574\nProperly Remove File Versions from the Trashbin\nPreviously, restoring or removing a file from a deleted folder (the folder and the contents were in the trashbin) didn’t remove the versions of the file. #40291\n\"available for\" Selection in the Mount Point Configuration Now Shows the Display Names\nThe \"available for\" selection of the mount configuration of external storages was using the group ID. #40412\nSkip Public Links When Updating Permissions of a Share’s Children\nUpdates to permissions of a share were wrongly propagated to public links' children. #40420\nChecksums Only Stored if the Whole Stream Has Been Read\nPreviously, range downloads (or downloads requesting a specific byte range) would store a checksum, if needed, based only on the requested range. This caused problems because the checksum is expected to be for the whole file. Now those range downloads won’t store a checksum because only a part of the file has been read, so the checksum would be incomplete. This was causing problems because the upload folder where the chunks were expected was a mount point, and due to the partial file system initialization such a mount point was missing, so we were checking a different folder (the default one). #40571\nCopy the Encryption Keys First and Then Rename the Files\nWith encryption enabled when a file was renamed, first the actual file was renamed, and then the encryption keys were moved to the new location. This caused the file to become inaccessible because we couldn’t decrypt the file due to the missing keys (which weren’t in the right place). Now, when a file is renamed, the encryption keys will be copied first, and then the file will be renamed. After the encryption keys are copied, the file could still fail to be renamed. In this case, the copies of the keys will be removed, but the file will still be accessible because we still keep the old keys. The original keys (not the copy) will be removed if the file is successfully renamed. #40433\nDelete Action Is Removed from Sharing Sections\nIn the files apps, the \"shared with others\" and \"shared by link\" sections allowed people to use a delete action on a file or folder present in that list. This was causing problems because people accidentally removed the folder when, in fact, they wanted to unshare it. You can revoke shares by accessing the file or folder’s details. If you want to delete the file or folder, you can do it from the regular \"all files\" section. In that case the invalidation behavior can be disabled by using the app setting: \"occ config:app:set files_sharing enable_cleanup_invalid_external_shares --value no\". Images with small EXIF data didn’t have this problem. By making the chunk size of the stream bigger, the native function is now able to load the EXIF data properly and return the information, and with such information we can fix the orientation of the image. #40600\nRemove Empty Directories from the files_versions\nEmpty directories were left when the contained versions were deleted or moved. Now, when a version is deleted, the containing directory will also be deleted if there aren’t any more versions inside. #40612\nPrevent Creation of Empty Files and Folders When No Quota Is Available\nUntil now it was possible for users with 0 quota or who already reached the limit of their assigned quota to still create empty files/folders, which was confusing. #40567\nDrag & Drop Folders into Public File Upload\nPreviously only files were accepted via drag & drop. Users can now also drag folders into a public link that has the filedrop flag. When adding a folder, the hierarchy is flattened out and all files are added without any subfolders. #40643\nAdd Support for OCM via ScienceMesh\nWe have added an if-statement in the files_sharing ShareesController code that searches for remote sharees. #40577\nAllow Specifying Available Space for Object Storages\nObject storages are reporting only unknown storage space. This causes problems for other apps that rely on this storage method, e.g., metrics app that monitors the available space. A new configuration at the storage level has been added which allows apps or further extensions of the storage class for object storage to use it. #40406\nMime types of hidden files are now properly detected. #40588\nFor easy access of files through WebDAV the URL is now displayed right under the app password section. #40617\nDetecting unused thumbnails is now using a better optimized SQL statement which consumes less database and web server resources. If users wanted to share a file and enable recipients to change it, they had to put that file into a folder and share that with permissions for editing (\nDownload / View / Edit\n). Server 10.11 introduces the\nDownload / View / Edit\nrole for public link shares on single files to make a user’s life easier. New guests will not have access to any files nor will they be able to create/upload their own files unless there is a share with the respective Custom Group or with the guest user. #521\nguests#506\nNew Skeleton Files for Users\nFor new user accounts, the default skeleton files have been changed a bit in version 10.11. #40113\nQuota handling has been improved (e.g., when copying or uploading files into shared folders). #39895\nThe context menu for multiple file actions in public links (e.g., \"Open with PDF Viewer\") works again. #40016\nStorage encryption: Restoring a received shared file now also restores its versions correctly. #39822\nStorage encryption: Moving a file out of a share now also takes care of versions correctly (previously they were corrupted under certain circumstances). #39829\nThe external storage administration user interface has been improved to avoid unnecessary credential exposure\n#39841\n#39935\nThe mail server configuration user interface has been improved to avoid unnecessary credential exposure\n#39833\nThe 'External Storage' feature (\nfiles_external\n) can now be disabled. #39847\n#40031\nThe File Drop view for Upload-only public links has been visually improved to provide a better user experience. Solved Known Issues\nAll\nknown issues\nin Server 10.9.0 have been fixed:\nPrevent encrypted files from being corrupted when overwriting them\n#39623\nMarketplace not working after upgrade from 10.8 to 10.9\n#39616\nFixes for the newly introduced\nfeature to store the author of versions\n#39670\n#39673\nUpdated App Versions\nFind below a list of updated apps in comparison with the 10.9.0 complete bundle. Instead, the server will compose a full content listing and provide it to the client (\"Streaming PROPFIND with depth=infinity\",\n#38583\n). Additionally, to prevent memory issues on the server side, this content listing will be streamed to the client while it is being created. The feature works in a way that it only allows the user who locked a file to unlock it again (\nexclusive file locking\n) and it provides a configurable timeout for file locks. Administrators can configure this in the\nManual File Locking\nsection of the\nGeneral\nadmin settings. File Versions: Store and Display the Author of File Versions\nTo improve usability, Server 10.9 provides a new feature for file versioning. When working on documents with multiple people, it can be important to know who created a certain version, e.g., to roll back to a specific state or to understand who made which changes to a file. For this, you can enable storing and displaying the author of file versions. When enabled, users will see the author of file versions in the 'Versions' tab of the right sidebar in the web interface. To avoid time-consuming database migrations, the author metadata will be stored in files on the storage. To enable it, administrators can set\n'file_storage.save_version_author' ⇒ true\nin\nconfig.php\n. This feature is incompatible with S3 object storage. Do not enable it if you’re using S3 as primary storage. The command takes care of moving the physical data and of updating all other related information. #39129\nImage orientation information from EXIF data will now be processed correctly so that images will be displayed with the correct orientation, e.g., in the Media Viewer. Additionally, folders outside of the data directory will also be taken into account (e.g., symlinks). #39223\n#39254\nThe \"Home\" icon in the breadcrumb of the Files app has been replaced with the icon and text of the respective view (e.g., All Files, Deleted Files) so that its functionality is clearer to the user. #39366\nThe \"Open with\" menu which is shown when a user can choose between multiple applications/actions for a certain file type (e.g., ONLYOFFICE, Collabora Online, PDF Viewer) has been improved to only show relevant actions. If there’s only one relevant action available, clicking on the file name will directly conduct this action. #39594\nThumbnails for WEBP files can now be generated. #39358\nThe quality of preview images (e.g., in the Media Viewer) can now be configured. #39349\nStarting and trailing spaces in file names will now be trimmed when uploading, creating and renaming files in order to maintain cross-platform compatibility (e.g., Windows does not support such file names). #39310\nEmpty folders can now be uploaded via the web interface. #39285\nThe file list has received improvements for mobile devices. #39232\nThe\nDeleted files\nview has been improved for mobile devices. #39236\nThe file creation menu (\"+\" menu) now provides buttons to confirm and cancel file creation. #39262\nIt is now possible to disable the upload time estimation in the web interface using\nocc config:app:set files hide_upload_estimation --value=\"yes\"\n. #39017\nFile actions in the web interface will now only be triggered when clicking on the file name. A bug has been fixed that caused clicking on the file row to have the same behavior. If there is only a single action available, this action will be conducted when the user clicks on the file name. If there are multiple actions available for a certain mimetype, the user will see an \"Open with\" menu when clicking on the file name. The following issue can occur: If you have an encrypted file which is shared, the file gets corrupted if the share recipient overwrites that file. If\nFiles Versions\nhas been enabled, you can restore the previous version. Improvements for External Storages\nPerformance and caching improvements for external storages (e.g., Windows Network Drives) have been added\n#38804\nRenaming or deleting a Windows Network Drive mount point from the files list is now properly prevented\n#38709\n#38819\nPasswords in the external storage configuration can now be stored encrypted in the database (e.g., for Windows Network Drive mount points). The behavior can be configured based on file extensions, directory names and size using the\ntrashbin_skip\noptions in config.php. Usability Improvements for the Classic Web Interface\nTagging\nBased on user feedback, the user interface for file/folder tagging has been improved. Research has shown that some users misinterpret the tagging input field in the right sidebar as the location to share files/folders. Improvements for Opening Files with Multiple Applications\nServer 10.7 brings improvements for users when there are files that have multiple editor or viewer applications associated. For example, this could be a PDF file that can be opened with the integrated PDF viewer or with a third party application like Collabora Online or OnlyOffice. If there is only a single application available that is capable of opening the file, the behavior stays as before. Improvements for Storage Encryption\nVersion 10.7 brings improvements for storage encryption in order to reduce storage usage. By changing from\nbase64\nto\nbinary\nencoding for encrypted files, a reduction of about 35% in storage usage can be achieved. For existing installations that use storage encryption, this process is seamless. Files that have been stored before upgrading to 10.7 will stay with the previous encoding until they are rewritten which will store them with the new encoding. #38458\nLoading the \"Shared with you\" list when shares originate from files on unavailable storages (e.g., Windows Network Drives) has been fixed. #38440\nIssues with multiple files with the same name e.g., in the \"Shared by link\" view, have been fixed\n#38415\nError messages when uploading files are more specific again (e.g., when a virus has been found or when an upload was blocked due to a File Firewall rule)\n#38416\nThe\nocc command\nmaintenance:mimetype:update-db --repair-filecache\nhas been fixed. It can be used to bring changed mimetype associations for files into operation. #38425\nSubfolders from Google Drive can now be mounted. #38183\nThe user experience when adding external storages has been improved by clearly indicating success or errors. #38246\nKnown Issues\nWhen having storage encryption (master key encryption) enabled, there is an issue that prevents Collabora Online (\nrichdocuments\n) from working. Migrations\nTo allow sharing files with very long names (> 64 characters) via federation, a migration step will run. Other Notable Changes\nFederated shares can now also have an expiration date (including default and enforcement options)\n#37548\nSGI images can now be displayed and have thumbnails\n#37758\nWhen sharing public links via mail, the subject will now be translated\n#37321\nStability improvements for file checksums with versioning\n#37934\nManual file locking on the web UI can now be enabled/disabled in the admin settings section \"Additional\"\n#37720\nFixes and library updates for the Google Drive external storage integration\n#25826\n#37739\n#37912\nWhen disabling storage encryption, the configuration is now properly cleaned up\n#35980\nMany issues around unavailable federated shares have been fixed (e.g., not being able to remove them)\n#38042\n#37956\nPerformance improvements for the \"Shared by link\" view\n#38000\n#38053\nFiles with names up to 255 characters can now be shared via federation (was limited to 64 before)\n#36730\nA user’s language preference will not be overridden by locales sent by browsers anymore\n#38073\nFixed display of public links and user/group shares in case avatars are disabled\n#37945\n#37964\nFixed some translations not working with themes\n#38072\nImproved output on errors for LDAP user sync\n#37951\nA new occ command\nfiles:troubleshoot-transfer-ownership\nhas been added to help finding issues with\nfiles:transfer-ownership\n#37950\nAdded values to the invalid uid list to prevent creating users with reserved UIDs\n#37766\nThe log level of \"file locked\" exceptions has been reduced to \"debug\"\n#37907\nBundle and Delivery\nSince ownCloud Server 10.5\nall supported apps are shipped in\nthe ownCloud Server Complete bundles\n. To enable storing complex WebDAV properties, a\nmigration step\nadds a new column (\npropertytype\n) to the\noc_properties\nand\noc_dav_properties\ntables. Manual file locking allows users to lock files in shared areas while working on them in order to prevent concurrent changes from other users (check-in/check-out). Using the context menu of files, every user who has access can lock them. Users can recognize locked files by the means of a new lock indicator. While a file is locked, other users can still access it but they cannot make any changes. Locked files can manually be unlocked by the lock owner (the user who locked the file; exclusive locking) using the \"Locks\" tab in the file details view (right sidebar). If there are conflicting local changes and the respective file becomes unlocked, there will be a conflict file that allows to resolve the concurrent changes. To prevent files being locked infinitely, there is a mechanism that automatically expires locks after a certain time. The expiration time of locks can be configured via the \"Manual File Locking\" section in the\nSettings\nAdmin\nAdditional\nsettings or using\nocc\ncommands:\nDefault timeout for the locks if not specified (in seconds)\n: Maximum lifetime of a lock set\nvia the web interface\n(or by not specifying a timeout value when calling the WebDAV Locks API)\nocc config:app:set core lock_timeout_default --value 1800\nMaximum timeout for the locks (in seconds)\n: Maximum lifetime of locks which is allowed to be set by calling the WebDAV Locks API\nocc config:app:set core lock_timeout_max --value 86400\nBy default locks set in the web interface will expire after 30 minutes. #37135\nReshared public links are now shown to the share owner. #36865\nExternally encrypted files can now be downloaded. #37038\nFile download for files without a file extension from Google Drive external storages now works. #37044\nThe calculation of the remaining upload time in public links has been improved. #37039\nA new occ command (\nfiles:check-cache\n) is now available. Practically, users are better able to recognize shared resources using a new share overlay indicator on file and folder icons. Other Notable Changes\nExternal storages can now be mounted in read-only mode. #36565\nSolved Known Issues\nFolder download via the web interface now works in macOS Catalina. #36613\nFile locking actions are not available for public link endpoints anymore. #36402\nocc files:transfer-ownership\nnow works in S3 multi-bucket setups. #36505\nRemaining\n.part\nfiles from unfinished uploads via public links will now be cleaned up. Previously, it mistakenly counted the space usage of incoming shares toward the user’s quota usage leading to undesired behavior, e.g., when\ntrashbin_retention_obligation\nwas set to\nauto\n, the user had a quota set and incoming shares exceeded 50% of this quota. #36813\nFor Developers\nThe\nWebDAV Trash bin API\nand the\nWebDAV endpoint for public links\n(introduced with 10.3.0) have left the tech preview state. Notable changes\nGuest sharing works now even when the sharing restriction\nRestrict users to only share with users in their groups\nis enabled\n#36384\nWhen creating a public link on a received shared resource (reshare), users can now send the public link via mail using the web interface if the feature is enabled\n#36386\nocc system:cron\nnow only shows output when errors occur or when the\n--progress\noption is added\n#36298\nocc files:transfer-ownership\ndoes not collect shares outside of the given path anymore preventing errors\n#36222\nThe\naccounts.enable_medial_search\nconfig.php setting now also respects federated user search\n#36225\nWhen using multi-bucket object storage, versioning information is now stored on the object storage instead of the database\n#36329\nWhen using the\nshare_folder\nconfig.php option, the defined folder and its parents can’t be shared anymore\n#36241\nFiles/folders can again be shared when a user and a group have the same name\n#35488\nocc files_external:list\ncan now list mount options by adding\n--mount-options\n#36420\nApart from this patch release, please consider the ownCloud Server 10.3.0 release notes, below. A housekeeping\nrepair step\nfor the\noc_properties\ntable removes existing entries which have\nfileid\nwith value\nnull\nand restrict the further creation of such. Instead, it bundles\nfiles_mediaviewer\n. With this change, support and maintenance for\ngallery\nand\nfiles_videoplayer\nare discontinued. After the upgrade, enable the Media Viewer app via the admin panel or\nocc app:enable files_mediaviewer\n. Please do not enable\ngallery\n/\nfiles_videoplayer\nand\nfiles_mediaviewer\nsimultaneously, as these apps are mutually exclusive. If users were allowed to configure personal mount points before the upgrade, switch from maintenance mode into single user mode (\nocc maintenance:singleuser --on\n) and enable the option again by ticking the respective checkbox (\nAmazon S3\n) below \"\nAllow users to mount external storage\n\" (in Admin settings ⇒ Storage). Existing storage mount points will remain and do not have to be touched. The following new HTTP APIs have been added with Server 10.3:\nWebDAV Trash bin API\n. Other Notable Changes\nThe\npreviews_path\nconfig option has been added to allow customization of the thumbnail storage path (by default those reside in the user storage). This originated from a security measure to avoid that encrypted files with the same content look identical. In some cases, users get a\nBad Signature\nerror when trying to access files. The new command corrects this behavior, making files accessible again. #115\nIf an instance uses the\nshare_folder\nconfig.php option to gather incoming user shares in a specific folder, this folder cannot be deleted by users anymore. #35390\nFile integrity checking has been improved to prevent issues: If a checksum mismatch occurs after uploading a file, the uploaded file and its checksum is deleted to prepare for a clean re-upload. #36120\nExternal storages now return\nStorageNotAvailable\ncorrectly on temporary network failures to prevent associated issues (e.g., Desktop clients will not delete local folders anymore when the storage is temporarily not available). #35707\nExternal storage: Multiple Google Drive external storages can be added again. #128\nFor developers\nTech preview for WebDAV Trash bin API (disabled by default). #36063\nTech preview DAV endpoint for public shares (disabled by default). WebDAV Locks:\nWhen a file in a folder is locked, exclusively locking the parent folder currently still works (\"conflicting lock\"; divergent from\nRFC 4918\n)\nChanges in 10.2.1\nownCloud Server 10.2.1 is a bug fix and maintenance release taking care of several bugs and known issues. With master key encryption,\nshare keys\nare redundant as you have one central key that can be used to decrypt all files. Version 10.2.1 corrects this behavior by dropping\nshare keys\nfor master key encryption, thereby increasing the performance dramatically, especially when sharing folders with many files as said keys do not have to be generated anymore for each file. Solved Known Issues\nFixed reshare permission issue\nAn issue in the Sharing API allowed users to increase sharing permissions beyond their own permissions in a reshare scenario: When user A shares a folder \"\nProject\n\" with user B, granting only read and share permission, then the Sharing API allowed user B to reshare a subfolder of \"\nProject\n\" with user C granting full permissions or to create a public link on the shared folder, respectively. Fixed known issue with user avatar paths\nVersion 10.2.0\naccidentally changed the location of user avatars\nmaking them unavailable and storing uploaded avatar images in the wrong location. What’s more, users can decide to allow printing and exporting of documents protected by watermarks as well. Additionally, a new permission (\"Download / View / Upload\") has been introduced which allows recipients to view, download, and upload contents but not to make any changes to existing content (e.g., rename, move, delete, update). Another way of looking at it is as a public file drop folder for distributing and gathering information with a single link, yet which prevents recipients from altering the existing content. Also, the size of such folders can’t be calculated, showing \"Pending\" instead, until the discovery is manually triggered. The only way to create a link without expiration date was to subsequently edit it and remove the expiration date. Server 10.2\naccidentally changes the location of user avatars\non the storage from\ndata/avatars/..\nto\ndata/..\n, making existing avatars unavailable and storing uploaded avatar images in the wrong location. WebDAV Locks: When a file in a folder is locked, exclusively locking the parent folder currently still works (\"conflicting lock\"; divergent from\nRFC 4918\n)\nFor Developers\nIt is now possible for apps to specify extra permissions for shares\n#34951\nAdd before-after share link auth events\n#34399\nAdd events for user preference changes\n#34820\nAdded CORS headers for many existing API calls, required for Phoenix\n#34476\nRemove classes that were deprecated since OC 8.0.0: OCP\\Config, OCP\\PERMISSION_XXX, OCP\\Template\n#34927\nA capability has been added to the Capabilities API to allow clients to check whether the server supports the details parameter for private links, e.g., as a direct link to a resource’s sharing or versions tab in the web interface\n#35104\nChanges in 10.1.1\nownCloud Server 10.1.1 is a hotfix follow-up release that takes care of\nan issue with loading updated apps\n. The feature has been implemented as a prerequisite for manual file locking and MS Office Online Server compatibility. In the current state, file locking is only available via API. Users can recognize locked files via the \"lock\" icon in the file list. Additionally a lock owner (the user who locked the file) can manually unlock them via the \"Locks\" tab in the right sidebar. The \"Locks\" tab will only appear for files that have active locks. Foreign Keys in Database\nPlease note that foreign keys have been added with the :\nWebDAV Locks\nfeature. Every user will be able to see these tags assigned to files but only users in specified groups have the permission to assign or unassign them. When uploading larger amounts of data on unreliable connections (e.g., on the train or with mobile data) you have to deal with interruptions and timeouts, which in the past required users to restart stalled uploads from the beginning in the worst case. With this, uploads can now continue from the point they froze when a connection becomes available again. Allow null in \"Origin\" header for third party clients that send it with WebDAV. Deleting a user now also properly deletes their external storages and storage assignations. Lockout issues with wrong passwords for Windows Network Drives are mitigated: Fixed mount config in front-end to only load once to avoid side effects. Fixed missing migrations in files_sharing app and add indices to improve performance. For Developers\nSearch API for files using WebDAV REPORT and an underlying search provider. Added URL parameter to files app which opens a specific sidebar tab. Allow slashes in generated resource routes in app framework. Previously, shared contents would appear, unannounced, in the receiving user’s file hierarchy, and clients would start synchronizing. However, there is no out-of-the-box migration from the current\nObjectstore\nto\nfiles_primary_s3\nas this will require individual guidance. To do this, it will be a necessity to deprecate object\nstorage via\nthe OpenStack SWIFT protocol\n. Previously, public link shares were not transferred. Files larger than 10 MB can now properly be uploaded by guest users. Issues with file upload using Microsoft EDGE are now circumvented\n(hard memory limit of 5 GB causing uploads to fail randomly as garbage collection for file chunks did not\nwork properly). The command recalculates checksums either for all files of a\nuser or for files within a specified path, and compares them with the\nvalues in the database. Note: Executing this command might take some time depending on the file\ncount. This kind of public link does not give recipients\naccess to any content, but it gives them the possibility to\ndrop\nfiles\n. occ transfer:ownership\ndoes not transfer public link shares if they were created by the target user (reshare)\n. When requesting a private link there is a new HTTP response header\nWebdav-Location\nthat contains the\nWebDAV path to the requested file while the\nLocation\nstill points at the frontend URL for viewing the file. Removed old Dropbox external storage backend (Dropbox API v1)\nPlease switch to\nthe new\nExternal Storage: Dropbox\napp\nwith Dropbox API v2 support to continue providing Dropbox external storages to your users. Added\nocc files:scan\nrepair mode to repair filecache inconsistencies\nWe recommend using this command when directed to do so in the upgrade process. Added occ dav:cleanup-chunks command to clean up expired uploads\nWhen file uploads are interrupted for any reason, already uploaded file\nparts (chunks) remain in the underlying storage so that the file upload\ncan resume in a future upload attempt. However, resuming an upload is only possible until the partial upload is expired and deleted, respectively. To clean up chunks (expire and delete) originating from unfinished uploads, administrators can use this newly introduced command. Please check\nconfig.sample.php\nfor the usage of\n'integrity.excluded.files'\n. Modification time value of files is now 64 bits long\nWhen upgrading to 10.0.4 migrations may increase update duration\ndependent on the number of files. All database columns that use the fileid have been changed to bigint\n(64-bits). Since migrations are not possible you will have to reconfigure your\ndrop folders (in the `Public Link' section of the sharing dialog of the\nrespective folders). Multi-bucket support for primary objectstore integration\nSupport for Internet Explorer below version 11 was dropped\nSymlinks pointing outside of the data directory are disallowed. Please\nuse the configuration/files/external_storage_configuration_gui with the\nconfiguration/files/external_storage/local storage backend instead. Files app\nAbility to toggle displaying hidden files\nRemember sort order\nPermalinks for internal shares\nVisual cue when dragging in files app\nAutoscroll file list when dragging files\nUpload progress estimate\nFederated sharing\nAbility to create federated shares with CRUDS permissions\nResharing a federated share does not create a chain of shares any more\nbut connects the share owner’s server to the reshare recipient\nExternal storage\nUTF-8 NFD encoding compatibility support for NFD file names stored\ndirectly on external storages (new mount option in external storage\nadmin page)\nDirect links to the configuration pages for setting up a GDrive or\nDropbox application for use with ownCloud\nSome performance and memory usage improvements for GDrive, stream\ndownload and chunk upload\nPerformance and memory usage improvements for Dropbox with stream\ndownload\nGDrive library update provides exponential backoff which will reduce\nrate limit errors\nShibboleth\nThe WebDAV endpoint was changed from\n/remote.php/webdav\nto\n/remote.php/dav\n. You need to check your Apache configuration if you\nhave exceptions or rules for WebDAV configured. This will change in 9.1, which\nwill use .svg files. Sharing on such mount points is disabled by default. filesystem_check_changes\nin\nconfig.php\nis set to 0 by default. Download from link\nfeature has been removed. The\n.htaccess\nand\nindex.html\nfiles in the\ndata/\ndirectory are now\nupdated after every update. If you make any modifications to these files\nthey will be lost after updates. The SabreDAV browser at\n/remote.php/webdav\nhas been removed. The persistent file-based cache (e.g., used by LDAP integration) has been\ndropped and replaced with a memory-only cache, which must be explicitly\nconfigured. Previews are now generated at a maximum size of 2048 x 2048 pixels. No Preview Icon on Text Files\nThere is no preview icon displayed for text files when the file contains\nfewer than six characters. Hebrew File Names Too Large on Windows\nOn Windows servers Hebrew file names grow to five times their original\nsize after being translated to Unicode. Google Drive Large Files Fail with 500 Error\nGoogle Drive tries to download the entire file into memory, then write\nit to a temp file, and then stream it to the client, so very large file\ndownloads from Google Drive may fail with a 500 internal server error. Encrypting Large Numbers of Files\nWhen you activate the Encryption application on a running server that\nhas large numbers of files, it is possible that you will experience\ntimeouts. Set the\nconfig.php\nfile to read-only. Changes to File Previews\nFor security and performance reasons, file previews are available only\nfor image files, covers of MP3 files, and text files, and have been\ndisabled for all other filetypes. Files without previews are represented\nby generic icons according to their file types. 4GB Limit on SFTP Transfers\nBecause of limitations in\nphpseclib\n, you cannot upload files larger\nthan 4GB over SFTP. A workaround is to set file quotas for all users\ninstead of\nunlimited\n. Zero Quota Not Read-Only\nSetting a user’s storage quota should be the equivalent of read-only,\nhowever, users can still create empty files. Windows Network Drive\nWindows Network Drive runs only on Linux servers because it requires the\nSamba client, which is included in all Linux distributions. php5-libsmbclient\nis also required, and there may be issues with older\nversions of\nlibsmbclient\n; see Using External Storage > Installing and\nConfiguring the Windows Network Drive application in the Enterprise\nAdmin manual for more information. This will cause problems with curl,\nLDAP and samba libraries. Again, see Using External Storage > Installing\nand Configuring the Windows Network Drive application in the Enterprise\nAdmin manual for instructions."
        },
        {
            "cluster": 2,
            "chunk_content": "This change adds some hardening and validates that the URL is pointing to one of the configured trusted domains. #41260\nFail Fast on Unresponsive Remote Servers\nIf a remote/federated server is not responding the share will not be added and any request will now fail faster. Such users are no longer being processed so that no exceptions will be generated by the preview cleanup job. This section will be updated if issues are discovered. This is now fixed. the preview will now be generated from the first page and no longer from the last page. #41063\nDisallow Browsers to Translate the Frontend\nWeb frontend offers a lot of proper translations. #41069\nProper Error Handling when Deleting Users or Groups\nIn case of an error when deleting a user or a group no proper feedback was given to the user. This is now fixed. #41077\nAccount Terms Can be Removed if They Differ From the Ones Stored\nSearch terms for the account can now be removed from the DB if they differ from the ones stored in the DB. This can happen with the user_ldap app, when user search attributes are removed from the connection configuration in the LDAP wizard. #41168\nThe\nuser:list -a\nocc Command now Correctly Displays the User’s Creation Time\nPreviously, the\nuser:list -a\nocc command was not correctly returning the user’s creation time but rather the path to the user’s home directory. This has been now fixed. This is now set to bigint. In some rare cases browsers seemed to loose data stored in the global object. This is fixed now. #41054\nNo Activities on Rejected Shares\nAs soon as a user has rejected a share no activities within this share are now reported via the activity app. #41078\nCalDAV Query Where the Time Range Is not Given\nOutlook CalDAV plugin is sending\nfalse\nas time range which no longer results in a crash. #41050\nImage Dimension Validation on Avatar Upload\nFor avatar generation we now do not accept images exceeding specific dimensions (4k - 4096×2160). Please refer to\npreview_max_dimensions\nin config.sample.php for more details. #41153\nNotable Changes\nFix: User input validation of comment verb. #40965\nFix: Input validation when setting the displayname of a user or self. #41172\nFix: Sanitize title in dialogs. This section will be updated if issues are discovered. In such situations the 2FA handling was bypassed because of the @PublicPage annotation. Fix Potential Issue with the Preview Cleanup Job in PostgreSQL\nOne of the filters of the preview cleanup job requires casting a filename, which is supposed to contain only digits, to an integer. The expected execution of the DB query should filter the results so the condition above should be true, but the DB’s query planner might choose to apply the filters in a different way, so we could potentially cast random strings to integer. In the case of PostgreSQL, the cast function will cause an error if the string can’t be cast to an integer (because it has non-digit chars, for example). This situation is fixed for all the supported DBs, so we don’t require the query planner to execute the query in any particular way. #41051\nRevert [#41014] for Performance\nThe\n#41014\nPR introduced performance problems for large installations. We are therefore reverting that change. Fix View on Users Page for Subadmins\nPreviously, subadmins couldn’t read app config values. This caused problems in the users page because some of the functionalities were depending on the config values that subadmins couldn’t read. These problems are now solved. This has been corrected and files are now properly removed. #40959\nRemove \"Fill ETags\" Repair Step\nThe legacy \"OC\\Repair\\FillETags\" repair step, executed during upgrades, had prolonged execution times without delivering any further repairs. For this reason, the repair step has now been removed. #41014\nCheck if Account Creation Time Exists for Migrations\nIn some rare scenarios it could have happened that the migration responsible for adding the creation time in the oc_accounts table was not correctly inserted into the oc_migrations one with the consequence that it was reattempted i.e., when upgrading apps, even if the column was already present. This has been fixed. #40991\nSolved Known Issues\nAll\nknown issues\nin Server 10.13.1 have been fixed:\nThe database query used to identify the previews that need cleaning up has been enhanced for optimal performance. #40953\nNotable Changes\nFix: disallow pre-signed url access if the signing key is not initialized. #40962\nNew code was added to dismiss invalid settings of the redirection endpoint URI as seen in the OAuth2 protocol, according to RFC#7636. In 10.13.0 the code was fixed, and the jobs started running. We propose to temporarily disable the offending job until we have a fix. We now explicitly set the format to be json so that the exchange is correctly done. As a result, those two jobs were not correctly inserted into the\noc_jobs\ntable upon a core upgrade. We are using additional wrappers and the mode wasn’t being detected correctly in some cases. Using the right mode in the checksum wrapper was required in order to decide whether we should have discarded the final checksum or not; in this case, the checksum was being discarded so it was causing a checksum mismatch. Now the open mode in the checksum wrapper is set explicitly. #40832\nAlign to New accounts.google.com Authorization URI\nCore 10.12.1 brought an update of the google/apiclient from version 2.12.6 to 2.13.1. This change broke old code that uses the\nsetApprovalPrompt('force')\ninstead of the newer\nsetPrompt('consent')\nmethod, as this endpoint does not support the legacy approval prompt parameter. This has been now fixed. #40783\nFix for Query Unnecessarily Deleting Thumbnails\nFixed query that detects unused thumbnails to prevent unnecessary deletes and potential recreations. #40841\nVersions Expire Job No Longer Reports an Error with Federated Shares\nThe versions expire job does not report errors anymore with federated shares when versioning metadata is enabled. #40847\nDisplay and delete invalid background jobs\nBackground jobs can be no longer valid because they are from an old version of an app, or from an app that has been disabled. These jobs can now be listed with the command\nocc background:queue:status --display-invalid-jobs\nand can be deleted with the command\nocc background:queue:delete <Job ID>\n. This was causing confusion because the sorting happened without taking into account all the items, so there were some weird effects. There is no sorting in the browser now. The server is expected to return the list of users already sorted, so the browser just needs to show the list. #40876\nNotable Changes\nSetup checks now allow values other than\nnone\nfor X-Robots-Tag header. Previously a header value with\nnoindex\nand\nnofollow\nwasn’t allowed even though it was valid. #40771\nUser input is validated now in UserController. #40769\nA system tag with a too long name resulted in potentially inaccessible data. #40804\nA federated share with a too long name resulted in inaccessible data. #40726\nDue to Apache rewrite rules originally not existing headers could hold an empty string. #40856\nVerbose command output of\nbackground:queue:execute\nis now displayed. Since the process completed without further issues, no errors should have been thrown. This fix initializes the variables for these cases properly, making the error go away. #40822\nSome occ commands could have returned an invalid exit status when executed. This has been corrected and occ commands will now always return an integer exit status. Zero (0) is success, any other value indicates a problem. #40886\nChanged the share dropdown to expand to the page bottom if there are more entries. This section will be updated if issues are discovered. #40803\nFilter sensitive data in log for Session::loginInOwnCloud\nThe\nloginInOwnCloud\nmethod contains sensitive data in the argument list and needed therefore to be added to the list of methods where sensitive parameters are being obfuscated. We added an additional check for 32-bit systems in QuotaPlugin.php. #40709\nFix quota for 32-Bit Systems\nQuota calculation on 32 bit systems suffered from an inconsistent use of float and integer data types. The fix now correctly supports that the size could be either an integer or a float. In previous core versions, the setting of the\nhtaccess.RewriteBase\nconfig.php option was not added to the generated .htaccess file. Additionally, the desktop app was not able to sync and an error 405 (Method not allowed) was returned. The\nhtaccess.RewriteBase\nis now correctly added to the .htaccess file, see the fix at\n#40697\n. This change breaks old code that uses the\nsetApprovalPrompt('force')\ninstead of the newer\nsetPrompt('consent')\nmethod, as this endpoint does not support the legacy approval prompt parameter. Also, restore operation logic changed. This was causing the \"available for\" selection to show that \"objectuid\", so identifying the right group was problematic. Note that this happens on new installations. This has now been fixed and public links are being skipped. Some additional cases have been taken into account, mostly based on actions that could happen on the data stream, but they shouldn’t happen normally. If something went wrong, it was possible that the keys weren’t moved. If copying the encryption keys fails, renaming will fail. This delete action isn’t present any longer. #40503\nFix Orientation of Images with EXIF Data\nSome images with large EXIF data had problems with the orientation when they were shown. This was caused by the native function failing to retrieve the EXIF data. This happened due to the assumption that app paths always start with the server root path. #40607\nFix Share-into-Share Move Scenario\nPublic links were lost upon moving a share into another share as the share owner was not correctly set. This has now been partially fixed. This behavior has been fixed. Name collisions are avoided as usual. #40674\nOther Notable Changes\nThe suggested host name and port syntax for the database host on the installation has been corrected. We now correctly handle redirect_url. #40470\n#40161\nWe now expect a not found error instead of a permission denied error for some trash interactions. #40510\nThe RewriteCond rules in the .htaccess file have been changed to match the expected paths. #40640\nIn Guzzle major version 7, the body option of a request must be a string or similar. Requests that send arrays of items have been adjusted to use the form_params option. The problem is fixed in 10.12.1. #40087\nThe command\nocc background:queue:status\nwill now output more information about background jobs. #40143\nStorage encryption has received stability improvements. #40257\nThe process for the first login of a new user is now more stable. #40091\nApp passwords now continue to work even when an LDAP connection is temporarily not available. #40161\nThe comments feature now works better on small screens. #40142\nA new setting\nproxy_ignore\nhas been introduced to exclude requests to certain domains from using the configured\nproxy\n. This section will be updated if issues are discovered. #39017\nA migration step takes care of setting the new option\nallow_user_to_change_mail_address\naccording to what has been set in\nallow_user_to_change_display_name\nto make sure that there’s no unintentional behavior change after upgrading. #39013\nIssues with updating apps via the Market app occurring under certain circumstances have been resolved. #39108\nThe logo on the login screen will be displayed correctly again, independent of its size. #39140\nThe\nocc user:report\ncommand has been fixed so that only real user folders will be counted (instead of counting system folders like, e.g., avatars). #39358\nSupport for Collabora Online Draw has been added. #39183\nDeleting a tag now requires confirmation to prevent mistakes. #39118\nThe performance of address book search queries has been improved. The expiration date in the\nShared by link\nview will now be correctly displayed. #39541\nSolved Known Issues\nAll\nknown issues in Server 10.8\nhave been fixed. If you have this issue, see the following link for details and a\nprocedure how to solve\nthis. The issue has been resolved already and will be available with the next patch release. This means that bugs and other undesired behavior are expected. If you’re using a custom theme, it is recommended to check the login page and make sure that all elements appear as desired. #38774\nSystem Events in the Activity Stream\nEvents in the activity stream that have been issued by the system (e.g., expired shares or workflow automations like file retention or auto-tagging) are now indicated properly. #38643\nSolved Known Issues\nAll\nknown issues from Server 10.7\nhave been fixed. Known Issues\nIf\nopen_basedir\nis configured within your\nphp.ini\nfile and you update PHP to 7.4.21 or later then unnecessary entries will be logged to the log file about \"open_basedir restriction in effect.\" See issue\n#39034\n. This issue will also happen on all other 10. To prevent this, the functionality to manage tags has been separated from the location where tags are displayed. #38298\nSome unnecessary errors in the logs have been removed for cleanliness. #38390\nSolved Known Issues\nBoth\nknown issues from Server 10.6\nhave been fixed. #38376\nTheming issues have been resolved. This section will be updated when more issues are discovered. Server 10.7 will fix this issue. #38376\nThere is an issue with themes which causes some themed icons and logos not to be replaced (the original icon/image will be displayed). The issue will be fixed in the next release. #38246\nThis section will be updated when other issues are discovered. Please change the lock expiration settings according to your needs. Keys added this way will be stored in the database, not in\nconfig.php\nas before. It replaces the former occ command which is now\ndeprecated\nand should not be used anymore after upgrading to 10.5. TIP: Remove the\nocc incoming-shares:poll\ncommand from crontab if you have set it. This section will be updated when issues are discovered. Server 10.4.1 and Password Policy 2.1.2 are required to resolve it. #37067\nKnown issues\nSharing with Numeric UIDs\nWith Server 10.4.0 and 10.4.1, sharing resources with users that have numeric user ids (e.g., \"123\") does not work in some cases. #36360\nPreviously, when a settings section did not have any panels to display, an \"Error\" was shown. #36776\nThe memory consumption of the\nocc files:checksums:verify\ncommand has been optimized, and the command will now show progress information. #36787\nThe memory consumption of the trash bin expiration background job has been optimized. #36761\nThe quota usage calculation of the trash bin retention has been fixed. It will only abort if none of the results matches the search term (e.g., 'alice' returns 'alice1' and 'alice2'). #36576\nWhen sharing with both a user and a group with the same name, adjusting the permissions of the second entry works again. A fix for this issue is currently being developed. A\nrepair step\nhas been added that drops the deprecated\ncontacts_cards_properties\ntable. The following changes require manual interaction in your installation:\nIf you’re using\nSystem cron\nto trigger background job execution, there is a new\nocc\ncommand (\nocc system:cron\n) which executes the background jobs. If you’re using\nWebcron\nto trigger background job execution you now have to call the new route\n../cron\ninstead of\n../cron.php\n. Please apply the changes to ensure that background jobs continue to work. If Redis is used for session handling, it is necessary to enable Session Locking to ensure that the mentioned issues no longer occur. You will find the value\nsession.save_handler\nset to\nredis\n. Make sure that everything works and disable maintenance/single-user mode to put the installation back into normal operations (\nocc maintance:mode --off\n/\nocc maintenance:singleuser --off\n). The\nocc files:scan\ncommand is now case-insensitive for the userid. #35822\nMemory handling for the trashbin expiry background job has been improved. #35708\nSolved Known Issues\nA new occ command,\nencryption:fix-encrypted-version\n, has been introduced to address issues related to encrypted files no longer being accessible. The command only needs to be run if users report the mentioned error. #35977\nIssues with database conversions using the\ndb:convert-type\nocc command (e.g., SQLite to MySQL) have been fixed. This is still in an experimental state and should be tested thoroughly. Please provide feedback if you encounter issues. This has now been fixed. This has been fixed. #34987\nThe input fields in user administration are not captured by password manager autocompletion anymore. #35931\nStorage encryption with a master key in an HSM: Recreating a master key works again. #35932\nTwo-factor providers may now display custom challenge messages. #35863\nKnown Issues\nThis section will be updated if further issues become known. This undesired behavior is fixed with 10.2.1. This is now solved. Fixed\nknown issue\nwith \"Password changed\" HTML emails rendered in plain text\nFixed use of invalid token on password reset\nPassword reset links sent to a user were invalid, if the user attempted to login using their e-mail address and an invalid password prior to filling out and submitting the Reset Password form. Fixed issue when removing a user from a group\nRemoving a user from a group using the user management UI resulted in an error that required the page to be refreshed to show the changes. This has been corrected. To help alleviate this problem, a new\nocc\ncommand has been introduced. To find a value that fits a specific setup, it is recommended to execute the command once, measure the execution time and set the interval so that the background job can finish before the next execution is triggered. Please compare the original templates with your custom templates (\ncore/templates/lostpassword/notify.php\nand\ncore/templates/lostpassword/altnotify.php\n). Repair steps can now be executed individually in case one would need to be run again. Update the\nocc files:scan\n--group\nand\n--groups\noptions. when typing \"\nter\n\" you’ll find \"Peter\"). Added a new occ command,\nbackground:queue:execute\n, for running cron jobs manually. Added two new\nocc background:queue\ncommands:\nstatus\nand\ndelete\n. status\nlists the current background job queue status\ndelete\nremoves a single background job, identified by its id. Solved Known Issues\nFixed public link share default expiration behavior\n#34971\n. This has been fixed to work as expected. Better support for international email addresses after Swiftmailer update\n#34759\nImproved speed of apps list settings page by caching integrity check results\n#34584\nImproved upgrade speed when migrating avatars from oC < 10\n#34592\nImproved performance and memory usage of account sync service\n#34546\nStore quota overrides in the\noc_preferences\ntable\n#34467\n. This functionality works again properly. Images are again properly rotated now based on EXIF rotation, also affects gallery app\n#34356\nAn exception is logged when a background job class is not found -\n34723\nKnown Issues\nThis section will be updated if further issues become known. The next release will correct the behavior. Please apply this\npatch\nto fix the issue. Instead of updating the app versions to their new values in the database, the old version value is written causing the process to repeat with every request. This issue can cause high load on the database, especially in large installations. SQLite\nForeign keys are, by default, disabled in SQLite. You must ensure that foreign keys are enabled in your SQLite installation. The PRAGMA foreign_keys command is a no-op in this configuration. If\nSQLITE_OMIT_FOREIGN_KEY\nis defined, then foreign key definitions cannot even be parsed (attempting to specify a foreign key definition is a syntax error). Please check that the .htaccess file has updated automatically. See\n#30337\nfor more information. This affects the HTML (\ncore/templates/mail.php\n) and plain text (\ncore/templates/altmail.php\n) mail templates. If your custom theme overrides these templates, you have to follow up with the changes:\nReplace the following line of the HTML template\np($l→t(\"Personal note from the sender: %s. Replace the following line of the plain text template\nprint_unescaped($l→t(\"Personal note from the sender: %s. See\n#31858\nfor further details. \"/\" and \"%\" are now valid characters in group names. See\n#31109\nfor further details. See\n#31985\nfor further details. Log entries for exceeding user quota: Loglevel changed to \"debug\" (Insufficient storage exception is now logged with \"debug\" log level). See\n#32058\nfor further details. See\n#32208\nfor further details. See\n#32281\nfor further details. See\n#32189\nfor further details. Properly log failed message when token based authentication is enforced (Fail2Ban). See\n#31948\nfor further details. See\n#32069\nfor further details. See\n#32095\nfor further details. See\n#32573\nfor further details. See\n#32562\nfor further details. Fixed issue with spam filters when sending public link emails. See\n#32542\nfor further details. This section will be updated in the case that issues become known. See\n#31946\nand\n#32328\nfor further details. See\n#31824\nfor further details. See\n#31944\nfor further details. See\n#32202\nfor further details. See\n#31939\nfor further details. It has received extensive testing and is in very good shape. As this\nsecurity-enhancing change came at the expense of usability, and might\nonly be required in special scenarios, the default value has been\nreverted to 2. To further improve\nusability, a hint has been added to inform users about the required\ncharacter count, to get suggestions. Check the\n--help\noption for more information. See\n#31176\nfor further details. OCC commands to encrypt (\nocc encryption:encrypt-all\n) and decrypt (\nocc encryption:decrypt-all\n) user data\nwork correctly again. See\n#31600\nand\n#31590\nfor further details. See\n#31596\nfor further details. See\n#31581\nfor further details. Enabling/disabling of users by group administrators in the web UI works again. See\n#31489\nfor further details. See\n#31884\nfor further details. See\n#32059\nfor more information. This might be confusing and will be solved\nwith the next release of the extension. See\n#66\nfor more information. In some rare cases\nwrong checksums can be written to the database leading to\nsynchronization issues with e.g. To mitigate such\nsituations a new command\nocc files:checksums:verify\nhas been\nintroduced. Naturally the command also offers an option to\nrepair incorrect checksum values (\n-r, --repair\n). Please check the\navailable options by executing\nocc files:checksums:verify --help\n. New config setting to specify minimum characters for sharing autocomplete\nFor security reasons the default value for minimum characters to trigger\nthe sharing autocomplete mechanism has been set to \"4\" (previously it\nwas set to \"2\"). Therefore the value now is configurable via the\nconfig.php\noption\n'user.search_min_length' ⇒ 4,\n. Please check which value fits your\nneeds best. Please append\n--help\nfor\nmore information. Please append\n--help\nfor more information. New configurable default format for syslog\nWhen using syslog as the log type (\n'log_type' ⇒ 'syslog',\nin\nconfig.php\n) the default format has been changed to include\nrequest\nIDs\nfor easier debugging. Additionally the log format has been made\nconfigurable using\n'log.syslog.format'\nin\nconfig.php\n. If you require\na certain log format, please check the new format and\nconfig.sample.php\non how to change it. When this\nbehavior is undesired the insecure fallback to HTTP needs to be enabled\nexplicitly by setting\n'sharing.federation.allowHttpFallback' ⇒ false,\nto\ntrue\nin\nconfig.php\n. Please append\n--help\nfor more information. For developers\nThe global JS variable\noc_current_user\nwas removed. Known issues\nWhen using application passwords,\nlog entries related to\nLogin Failed\nwill appear\nand can be ignored. For people using fail2ban or other account locking tools based on log parsing, please apply\nthis patch\nwith\npatch -p1 < 50c78a4bf4c2ab4194f40111b8a34b7e9cc17a14.patch\n(\noriginal pull request here\n). Fixes and improvements for the Mail Template Editor\nKnown issues are resolved: Mail Template Editor works again, got\nsupport for app themes and additional templates were added for customization. Please refer to\nthe occ command’s files:scan --repair documentation\nfor more information. The new config setting prevents this and other actions that are undesired in cluster mode. It is recommended to configure CRON to execute this background job regularly\n. Please check\nthe background jobs configuration documentation\nfor more information. Known Issues\nWhen using application passwords,\nlog entries related to\nLogin Failed\nwill appear\n,\nplease upgrade to 10.0.7 and check the fix mentioned in its release notes. Please check the setting. You need to disable it explicitly if the functionality is undesired. Known Issues\nAdded quotes in boolean result values of\nyourdomain/status.php\noutput\nSetting up SFTP external storages with keypairs does not work. If you are on\nMariaDB 10.2.7 or above, and have encountered the message\n1067 Invalid\ndefault value for `lastmodified\n,\nplease\napply this patch\nto Doctrine. For more information on the bug,\ncheck out the related issue\n. This can happen in a variety of places during the upgrade and\nis to be expected. Please be patient as the update is performed and the\noutput will continue as normal. Known Issues\nConverting the Database Type doesn’t work\nConverting a Database from e.g. SQLite\nto\nMySQL\nor\nPostgreSQL\nwith\nthe\nocc db:convert-type\ncurrently doesn’t work. Installing the LDAP user backend will trigger the installation twice\nThis causes an SQL error such as the following:\nsudo -u www-data ./occ market:install user_ldap\nuser_ldap: Installing new app ...\nuser_ldap: An exception occurred while executing 'CREATE TABLE `ldap_user_mapping` (`ldap_dn` VARCHAR(255) DEFAULT '' NOT NULL, `owncloud_name` VARCHAR(255) DEFAULT '' NOT NULL, `directory_uuid` VARCHAR(255) DEFAULT '' NOT NULL, UNIQUE INDEX ldap_dn_users (`ldap_dn`), PRIMARY KEY(`owncloud_name`)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_bin ENGINE = InnoDB ROW_FORMAT = compressed':\nSQLSTATE[42S01]: Base table or view already exists: 1050 Table 'ldap_user_mapping' already exists\nThis can be safely ignored. If it does please use the same workaround. Removed\ndav:migrate-calendars\nand\ndav:migrate-addressbooks\ncommands for\nocc\n. Especially when using the\nIMAP user backend\n(other user backends might be also affected) you need to manually run the mentioned\nocc\nmigration commands\ndescribed above. See maintenance/upgrade\nPHP 5.6.11+ breaks the LDAP wizard with a `Could not connect to LDAP'\nerror. LDAP issue: 8.2 uses the\nmemberof\nattribute by default. The logging format for failed logins has changed and considers now the\nproxy configuration in\nconfig.php\n. More strict SSL certificate checking improves security but can result in\ncURL error 60: SSL certificate problem: unable to get local issuer\ncertificate\nerrors with certain broken PHP versions. Please verify\nyour SSL setup, update your PHP or contact your vendor if you receive\nthese errors. The\nforcessl\noption within the\nconfig.php\nand the\nEnforce SSL\noption within the Admin-Backend was removed. Disable Apache Multiviews\nIf Multiviews are enabled in your Apache configuration, this may cause\nproblems with content negotiation, so disable Multiviews by removing it\nfrom your Apache configuration. LDAP Search Performance Improved\nPrior to 7.0.4, LDAP searches were substring-based and would match\nsearch attributes if the substring occurred anywhere in the attribute\nvalue. Rather, searches are performed on beginning attributes. With\n7.0.4, searches will match at the beginning of the attribute value only. Substring searches can still be performed by prepending the search term\nwith\n*\n. For example, a search for\nte\nwill find Terri, but not Nate:\nocc ldap:search \"te\"\nIf you want to broaden the search to include Nate, then search for\n*te\n:\nocc ldap:search \"*te\"\nRefine searches by adjusting the\nUser Search Attributes\nfield of the\nAdvanced tab in your LDAP configuration on the Admin page. For example, you’ll find Terri\nHanson by searching for\nte ha\n. Trailing whitespaces are ignored. To prevent this, follow these steps. By default CentOS has activated SELinux, and the\nhttpd\nprocess cannot\nmake outgoing network connections."
        }
    ]
}