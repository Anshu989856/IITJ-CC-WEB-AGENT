{
    "file_name": "server_next_developer_manual_webdav_api_search.html",
    "file_path": "./owncloud_docs\\server_next_developer_manual_webdav_api_search.html",
    "chunks": [
        {
            "cluster": 1,
            "chunk_content": "Documentation for ownCloud (A Kiteworks Company)\nownCloud Server\nIntroduction\nAdmin Manual\nIntroduction\nUseful Pages\nFAQ\nGDPR\nInstallation\nDeployment Considerations\nDeployment Recommendations\nNFS\nSystem Requirements\nConfiguration Notes and Tips\nInstallation Options\nInstalling With Docker\nManual Installation on Linux\nDetailed Installation Guide\nDetailed Installation on Ubuntu (various versions)\nQuick Installation Guide\nOn Ubuntu 20.04\nOn Ubuntu 22.04\nLinux Package Manager\nLinux Package Manager Installation\nThe Installation Wizard\nTroubleshooting\nChanging Your ownCloud URL\nInstalling and Managing Apps\nSupported Apps\nMedia Viewer\nSELinux Configuration\nUsing Let’s Encrypt SSL Certificates\nUsing Letsencrypt\nApache\nConfiguration\nDatabase\nDatabase Conversion\nDatabase Configuration\nEncryption\nEncryption Configuration\nEncryption Configuration Quick Guide\nExternal Storage\nExternal Storage Configuration\nExternal Storage Authentication Mechanisms\nAmazonS3\nDropbox\nFTP\nGoogle\nLocal\nownCloud\nS3 as Primary\nSFTP\nSMB\nWebDAV\nFiles and Sharing\nBig File Upload Configuration\nManual File Locking\nDefault Files Configuration\nFederated Cloud Sharing Configuration\nFile Sharing Configuration\nFile Versioning\nTransactional File Locking\nPreview Configuration\nMimetypes\nManaging the Trashbin\nIntegration\nMicrosoft Teams\nownCloud App for Splunk\nGeneral Topics\nCode Signing\nImpersonate Users\nFull Text Search\nServer\nActivity Configuration\nBackground Jobs Configuration\nCaching Configuration\nConfig Sample PHP Parameters\nConfig Apps Sample PHP Parameters\nCustom Client Repos\nEmail Configuration\nExcluded Blacklisted Files\nExternal Sites\nHarden Server\nImport SSL Cert\nIndex PHP Less URLs\nOCC Command\nLanguage Configuration\nLegal Settings Configuration\nLogging\nLogging Configuration\nRequest Tracing\nReverse Proxy Configuration\nSecurity\nBrute-Force Protection\nOAuth2\nPassword policy\nSecurity Setup Warnings\nThe HSM (Hardware Security Module) Daemon\nDependency Notes\nServer Tuning\nThird Party PHP Configuration\nVirus Scanner Support\nUI Configuration\nUser\nUser Management\nUser Roles\nReset Admin Password\nReset User Password\nUser Auth FTP SMB IMAP\nUser Auth LDAP\nUser Auth Two-Factor\nUser Auth OAuth2\nUser Provisioning API\nCustom Groups App\nGuests App\nOpenID Connect (OIDC)\nLogin Policies\nMaintenance\nUpgrading\nManual Upgrade\nDatabase Upgrade\nUpgrading from Package\nUsing the Updater App\nUpgrading PHP\nMarketplace Apps\nBackup and Restore\nBackup\nRestore\nMaintenance Mode\nExport and Import Instance Data\nManually Moving Data Folders\nEncryption\nMigrating from User Key to Master Key Encryption\nMigrating to a Different Server\nMigrating to Kiteworks PCN\nEnterprise\nAuthentication\nEnterprise Only Authentication\nKerberos Authentication\nClients\nCustom Client Repos\nCollaboration\nCollabora Online / Secure View\nMicrosoft Office Online / WOPI Integration\nDocument Classification\nClassify Documents and Enforce Policies\nExternal Storage\nLDAP Home Connector Configuration\nSharepoint integration Configuration\nWindows Network Drive Configuration\nWND Configuration Quick Guide\nFile Management\nFile Tagging\nFile Lifecycle Management\nFirewall\nFile Firewall\nInstallation\nInstalling & Upgrading ownCloud Enterprise Edition\nOracle DB Setup & Configuration\nLogging\nAuditing\nReporting\nMetrics\nGenerate a Config Report\nSecurity\nRansomware Protection\nUser Management\nShibboleth Integration\nSAML 2.0 Based SSO\nTroubleshooting\nGeneral Troubleshooting\nPath and Filename Length Limitations\nRetrieve Log Files and Configuration Settings\nRemove Non-Existent Background Jobs\nFound a Mistake? Developer Manual\nIntroduction\nGeneral Contributor Guidelines\nCommunity Code of Conduct\nCoding Style & General Guidelines\nDebugging\nPerformance Considerations\nSecurity Guidelines\nBackporting\nHelp and Communication\nDeveloping ownCloud Core\nIntroduction\nSetup Your Development Environment\nApplication Configuration\nTheming\nTranslation\nCode Standards Compliance\nTesting\nownCloud Test Pilots\nDrone Testing\nUnit Testing\nAcceptance Tests\nUser Interface Testing\nAvailable APIs\nThe External API\nThe Provisioning API\nOCS\nThe OCS Notifications API (v1)\nThe OCS REST API\nThe OCS Recipient API\nThe OCS Share API\nThe OCS TOTP Validation API\nThe OCS User Sync API\nNotify Public Link By Email\nThe Roles API\nWebDAV APIs\nThe Comments API\nThe Custom Groups Management API\nThe Files Versions API\nThe Meta API\nThe Search API\nThe Tags API\nThe Trash Bin API\nThe Public Files API\nApplication Development\nFundamental Concepts\nApplication Metadata\nThe Classloader\nConfiguration\nRouting\nControllers\nTemplates\nJavaScript\nCSS\nMiddleware\nDatabase Connectivity\nBackground Jobs\nLogging\nTesting\nThe DI Container\nFilesystem\nRESTful API\nHooks\nPublishing in the ownCloud Marketplace\nChangelog\nMarket App\nAdvanced Concepts\nCustom Filesystem Caches\nCustom Storage Backends\nNotifications\nStorage Backends\nExternal Storage Backends\nTranslation\nTwo-Factor Providers\nUser Management\nCode Signing\nTutorial\nMinimum Requirements\nThe Request Life Cycle\nThe Core Application Files\nRoutes and Controllers\nDatabase Connectivity\nCreate Template Content\nCreate a Navigation Menu\nAdd JavaScript and CSS\nWiring it Up\nApply the Finishing Touches\nAdd a RESTful API\nWriting Tests\nMobile Development\nAndroid\nLibrary Installation\nExamples\niOS\nLibrary Installation\nExamples\nBugtracker\nCode Reviews\nBug Triaging\nFound a Mistake? ownCloud Server UI\nIntroduction\nThe WebUI\nWeb Interface\nNavigating the WebUI\nPersonal Settings\nGeneral\nStorage\nSharing\nSecurity\nCustom Groups\nFiles\nAccess WebDAV\nSharing Files\nSearch & Full Text Search\nTagging Files\nComments\nVersion Control\nEncrypting Files\nManaging Deleted Files\nLarge File Uploads\nManual File Locking\nFile Lifecycle Management\nPublic Link Shares\nFederated Cloud Sharing\nManaging Connected Browsers and Devices\nOnline Collaboration\nStorage Quotas\nExternal Storage\nConnecting to SharePoint\nDesktop Mobile Sync\nApps\nActivity\nCalendar\nContacts\nMarket\nMedia Viewer App\nIntegration\nMicrosoft Teams\nSynchronization Clients\nSync iOS\nSync KDE\nSync OSX\nSync Thunderbird\nTroubleshooting\nFound a Mistake? ownCloud Server\nnext\nDesktop App\nnext\n5.3\n5.2\nInfinite Scale Documentation\nnext\n7.1\n7.0\nMobile App for Android\nnext\n4.5\n4.4\nMobile App for iOS\nnext\n12.4\n12.3\nownCloud Main Page\nownCloud Server\nnext\n10.15\n10.14\nownCloud Web User Interfaces\nnext\nownCloud Server\nDeveloper Manual\nDeveloping ownCloud Core\nAvailable APIs\nWebDAV APIs\nThe Search API\nnext\n10.15\n10.14\nEdit this Page\nSearch API\nTable of Contents\nIntroduction\nSearch Files\nCore Details\nThe Request\nThe Response\nFilter Files\nCore Details\nThe Request\nThe Response\nIntroduction\nIf you need to search for files, then you can use the WebDAV search API. The search API exposes two endpoints for finding files in a user’s filesystem. Search Files\nThe\nsearch-files\nreport search through the available files in an ownCloud user’s filesystem, based on a rudimentary filename pattern match. By default, the report uses ownCloud’s default search provider to power the search functionality. However, other search providers, such as\nsearch_elastic\nand\nsearch_lucene\ngreatly enrich the ability to search, such as being able to search through file content, as well as by a file’s name. When installed, they replace ownCloud’s default search provider and the search API will automatically use them. When using the default search provider, if you use the search string \"\nownCloud\n\", files whose filename has \"ownCloud\" in it will be matched. However, if installed\nthe search_elastic app\n, the report also retrieves files that have \"\nownCloud\n\" in the file’s contents. http://owncloud.org/ns\nfavorite\nIndicates whether the file has been favorited or not\nhttp://owncloud.org/ns\nfileid\nThe id of the file\nhttp://owncloud.org/ns\nowner-display-name\nThe display name of the file owner\nhttp://owncloud.org/ns\nowner-id\nThe id of the file owner\nhttp://owncloud.org/ns\npermissions\nThe permissions set on the file\nhttp://owncloud.org/ns\nshare-types\nIt is an OC-specific property which summarizes what outgoing share types are applied to the current item. The share type values are:\n0\n: user share\n1\n: group share\n3\n: link shares\nhttp://owncloud.org/ns\nsize\nThe size of a folder or collection. http://owncloud.org/ns\ntags\nA collection of tags that have been added to the file. These can be retrieved by using\nthe Tags API\n. http://owncloud.org/ns\nfavorite\nIndicates whether the file has been favorited or not\nhttp://owncloud.org/ns\nfileid\nThe id of the file\nhttp://owncloud.org/ns\nowner-display-name\nThe display name of the file owner\nhttp://owncloud.org/ns\nowner-id\nThe id of the file owner\nhttp://owncloud.org/ns\npermissions\nThe permissions set on the file\nhttp://owncloud.org/ns\nshare-types\nIt is an OC-specific property which summarizes what outgoing share types are applied to the current item. The share type values are:\n0\n: user share\n1\n: group share\n3\n: link shares\nhttp://owncloud.org/ns\nsize\nThe size of a folder or collection. http://owncloud.org/ns\ntags\nA collection of tags that have been added to the file. Tag ids can be retrieved by using\nthe Tags API\n. <d:status>HTTP/1.1 200 OK</d:status>\n</d:propstat>\n<d:propstat>\n<d:prop>\n<oc:downloadUR/>\n</d:prop>\n<d:status>HTTP/1.1 404 Not Found</d:status>\nThe Meta API\nThe Tags API\nAbout ownCloud\nThe Secure Collaboration Platform\nNews\nPrivacy statement\nImprint\nResources\nFAQ\nHelp\nSecurity\nChangelog\nGet started\nInteract\nRocket.Chat\nForum\nContribute\nCustomer support\n© Copyright 2011-2025, The ownCloud developers."
        },
        {
            "cluster": 4,
            "chunk_content": "Core Details\nRequest Path\nMethod\nContent Type\nremote.php/dav/files/<user>\nREPORT\ntext/xml\nThe Request\nAn authenticated\nREPORT request\nneeds to be made to search for all files stored in a user’s ownCloud filesystem\nExample Request\ncurl --silent \\\n-X REPORT \\\n--data \"@supported.xml\" \\\n-u admin:admin \\\n'http://localhost/remote.php/dav/files/admin' | xmllint --format -\nThe request must include a request body that includes the search pattern, and can also include a list of properties to return. Searching For Records\nIn the\nsearch\nelement, specify the search pattern to filter the list of files to return. <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<oc:search-files\nxmlns:a=\"DAV:\"\nxmlns:oc=\"http://owncloud.org/ns\">\n<oc:search>\n<oc:pattern>web</oc:pattern>\n</oc:search>\n</oc:search-files>\nFiltering Records\nThe\nfilter-rules\nelement provides the ability to filter records based on a range of properties. In the example below, you can see how to filter out any file that has not been favorited. <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<oc:filter-files xmlns:a=\"DAV:\" xmlns:oc=\"http://owncloud.org/ns\">\n<oc:filter-rules>\n<oc:favorite>1</oc:favorite>\n</oc:filter-rules>\n</oc:filter-files>\nLimiting The Number Of Results Returned\nTo limit the number of results returned, use a combination of the\nsearch\nelement’s\nlimit\n, and\noffset\nelements, as in the following example. In the example below, at most one hundred records, starting from record 200, will be returned. <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<oc:search-files\nxmlns:a=\"DAV:\"\nxmlns:oc=\"http://owncloud.org/ns\">\n<oc:search>\n<!-- The number of results to retrieve -->\n<oc:limit>100</oc:limit>\n<!-- The offset to retrieve (here, 200 would be indicate the second page) -->\n<oc:offset>200</oc:offset>\n</oc:search>\n</oc:search-files>\nReducing The File Properties Returned\nHowever, if a specific list of properties is required for each file, then a\nprop\nelement needs to be included in the response body, such as in the example below. http://owncloud.org/ns\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<oc:search-files\nxmlns:a=\"DAV:\"\nxmlns:oc=\"http://owncloud.org/ns\">\n<a:prop>\n<a:getcontentlength />\n<a:getcontenttype />\n<a:getetag />\n<a:getlastmodified />\n<a:lockdiscovery />\n<a:resourcetype />\n<oc:comments-unread />\n<oc:favorites />\n<oc:fileid />\n<oc:owner-display-name />\n<oc:permissions />\n<oc:share-types />\n<oc:size />\n<oc:tags />\n</a:prop>\n<oc:search>\n<oc:pattern>site</oc:pattern>\n</oc:search>\n</oc:search-files>\nThe example uses\nxmllint\nto make the response more readable. Search Response\n<?xml version=\"1.0\"?>\n<d:multistatus\nxmlns:d=\"DAV:\"\nxmlns:s=\"http://sabredav.org/ns\"\nxmlns:oc=\"http://owncloud.org/ns\">\n<d:response>\n<d:href>/remote.php/dav/files/admin/Test/Sub-test/Site-Plan.md</d:href>\n<d:propstat>\n<d:prop>\n<oc:id>00000065oc21s4c9iej2</oc:id>\n<oc:downloadURL/>\n<oc:fileid>65</oc:fileid>\n<oc:permissions>RDNVW</oc:permissions>\n<oc:size>423</oc:size>\n<oc:owner-id>admin</oc:owner-id>\n<oc:owner-display-name>admin</oc:owner-display-name>\n<d:getlastmodified>Fri, 28 Jul 2017 05:51:07 GMT</d:getlastmodified>\n<d:getetag>\"0286fcdabf5b4f5ef84788d86c37e245\"</d:getetag>\n<d:getcontenttype>text/markdown</d:getcontenttype>\n</d:prop>\n<d:status>HTTP/1.1 200 OK</d:status>\n</d:propstat>\n</d:response>\n</d:multistatus>\nFailure\nIf The Payload File Cannot Be Read Or Is Invalid XML\nIf the payload file cannot be read or is invalid XML, then the following XML response is sent, along with an\nHTTP/1.1 500 Internal Server Error\nstatus code. <d:status>HTTP/1.1 200 OK</d:status>\n</d:propstat>\n<d:propstat>\n<d:prop>\n<oc:downloadUR/>\n</d:prop>\n<d:status>HTTP/1.1 404 Not Found</d:status>\nFilter Files\nThe\nfilter-files\nreport allows for retrieving a list of files in an ownCloud user’s filesystem, based on two criteria:\nCore Details\nRequest Path\nMethod\nContent Type\nremote.php/dav/files/<user>\nREPORT\ntext/xml\nThe Request\nAn authenticated\nREPORT request\nneeds to be made to retrieve a list of all files stored in a user’s ownCloud filesystem. Example Request\ncurl --silent \\\n-X REPORT \\\n--data \"@filter-files-criteria.xml\" \\\n-u admin:admin \\\n'http://localhost/remote.php/dav/files/admin' | xmllint --format -\nThe request must include a request body that includes the rules to filter by. There are two filter rules which can be supplied; these are:\nRule\nDescription\nType\nAccepted Values\nMandatory\nfavorite\nWhether they’ve been marked as a favorite or not (mandatory)\ninteger\n0\n,\n1\nYes\nsystemtag\nThe tags that have been assigned to them\ninteger\nAny valid system tag. Minimal Request Body\nIn the\nsearch\nelement, it specifies the search pattern to filter down the list of files to return in a successful resultset. <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<oc:filter-files xmlns:a=\"DAV:\" xmlns:oc=\"http://owncloud.org/ns\">\n<oc:filter-rules>\n<oc:favorite>1</oc:favorite>\n</oc:filter-rules>\n</oc:filter-files>\nLimiting Returned File Properties\nIf only a specific list of properties is required for each file, then a\nprop\nelement needs to be included in the response body, such as in the example below. http://owncloud.org/ns\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<oc:filter-files xmlns:a=\"DAV:\" xmlns:oc=\"http://owncloud.org/ns\">\n<a:prop>\n<oc:fileid/>\n<oc:permissions/>\n<oc:size/>\n<oc:owner-id/>\n<oc:owner-display-name/>\n<a:getlastmodified/>\n<a:getetag/>\n<a:getcontenttype/>\n</a:prop>\n<oc:filter-rules>\n<oc:favorite>1</oc:favorite>\n</oc:filter-rules>\n</oc:filter-files>\nFiltering By Tag\nFiles can be filtered by those assigned specific tags. If this is required, then the\nsystemtag\nelement needs to be supplied, which contains a space-separated list of tag\nids\nto filter by. <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<oc:filter-files xmlns:a=\"DAV:\" xmlns:oc=\"http://owncloud.org/ns\">\n<a:prop>\n<oc:fileid/>\n<oc:permissions/>\n<oc:size/>\n<oc:owner-id/>\n<oc:owner-display-name/>\n<a:getlastmodified/>\n<a:getetag/>\n<a:getcontenttype/>\n</a:prop>\n<oc:filter-rules>\n<oc:favorite>1</oc:favorite>\n<oc:systemtag>1</oc:systemtag>\n</oc:filter-rules>\n</oc:filter-files>\nThe example uses\nxmllint\nto make the response more readable. Example of a successful search response\n<?xml version=\"1.0\"?>\n<d:multistatus\nxmlns:d=\"DAV:\"\nxmlns:s=\"http://sabredav.org/ns\"\nxmlns:oc=\"http://owncloud.org/ns\">\n<d:response>\n<d:href>/remote.php/dav/files/admin/welcome.txt</d:href>\n<d:propstat>\n<d:prop>\n<oc:fileid>28</oc:fileid>\n<oc:permissions>RDNVW</oc:permissions>\n<oc:size>163</oc:size>\n<oc:owner-id>admin</oc:owner-id>\n<oc:owner-display-name>admin</oc:owner-display-name>\n<d:getlastmodified>Mon, 05 Nov 2018 10:52:58 GMT</d:getlastmodified>\n<d:getetag>\"91b08390250f5294390c4fc92b6b0138\"</d:getetag>\n<d:getcontenttype>text/plain</d:getcontenttype>\n</d:prop>\n<d:status>HTTP/1.1 200 OK</d:status>\n</d:propstat>\n</d:response>\n</d:multistatus>\nFailure\nIf The Payload File Cannot Be Read Or Is Invalid XML\nIf the payload file cannot be read or is invalid XML, then the following XML response is sent, along with an\nHTTP/1.1 500 Internal Server Error\nstatus code."
        },
        {
            "cluster": 0,
            "chunk_content": "Example Request Bodies\nBelow, are several examples of XML response bodies. Xmllint is available in the\nlibxml2 package\n. The Response\nSuccess\nSuccessful requests return two things:\nAn XML payload. A status of\nHTTP/1.1 207 Multi-Status\n. You can see an example of the XML payload below. The XML payload contains a\nresponse\nelement for each file. And each\nresponse\nelement contains three items:\nA link to the file (\nhref\n). <?xml version=\"1.0\" encoding=\"utf-8\"?>\n<d:error\nxmlns:d=\"DAV:\"\nxmlns:s=\"http://sabredav.org/ns\">\n<s:exception>Sabre\\Xml\\ParseException</s:exception>\n<s:message>This should never happen (famous last words)</s:message>\n</d:error>\nIf a Non-Existent Property Is Requested\nIf a non-existent property is requested, then an additional\npropstat\nelement is returned, as in the example below, which contains a list of the properties which were not available. No\nExample Request Bodies\nBelow, are several examples of the XML response bodies that can be sent with the request. Xmllint is available in the\nlibxml2 package\n. The Response\nSuccess\nSuccessful requests return two things:\nAn XML payload. A status of\nHTTP/1.1 207 Multi-Status\n. You can see an example of the XML payload below. The XML payload contains a\nresponse\nelement for each file. And each\nresponse\nelement contains three items:\nA link to the file (\nhref\n). <?xml version=\"1.0\" encoding=\"utf-8\"?>\n<d:error\nxmlns:d=\"DAV:\"\nxmlns:s=\"http://sabredav.org/ns\">\n<s:exception>Sabre\\Xml\\ParseException</s:exception>\n<s:message>This should never happen (famous last words)</s:message>\n</d:error>\nIf a Non-Existent Property Is Requested\nIf a non-existent property is requested, then an additional\npropstat\nelement is returned, as in the example below, which contains a list of the properties which were not available."
        },
        {
            "cluster": 2,
            "chunk_content": "Available File Properties\nProperty\nDescription\nNamespace\ngetcontentlength\nThe file’s content length. DAV\ngetcontenttype\nThe file’s content type. DAV\ngetetag\nThe file’s ETag\nDAV\ngetlastmodified\nThe last modified date of the file\nDAV\nlockdiscovery\nSupports the \"\npersistent file locking\n\" backend feature. DAV\nresourcetype\nThe resource’s type. DAV\ncomments-unread\nThe number of comments on the item that have yet to be read. The file’s status (\nstatus\n). Available File Properties\nProperty\nDescription\nNamespace\ngetcontentlength\nThe file’s content length. DAV\ngetcontenttype\nThe file’s content type. DAV\ngetetag\nThe file’s ETag\nDAV\ngetlastmodified\nThe last modified date of the file\nDAV\nlockdiscovery\nSupports the \"\npersistent file locking\n\" backend feature. DAV\nresourcetype\nThe resource’s type. DAV\ncomments-unread\nThe number of comments on the item that have yet to be read. The file’s status (\nstatus\n)."
        },
        {
            "cluster": 3,
            "chunk_content": "This is only sent for files, not for folders and collections. Refer to the\nsize\nproperty for folders and collections. For more information on this property, please refer to\nthe W3C spec\n. If the resource is a folder, then the value is set to\ncollection\n, otherwise, no value is returned. This property is not returned for files. Refer to the\ngetcontentlength\nproperty for folders and collections. The requested properties, along with their respective values (\npropstat\n). This is only sent for files, not for folders and collections. Refer to the\nsize\nproperty for folders and collections. For more information on this property, please refer to\nthe W3C spec\n. If the resource is a folder, then the value is set to\ncollection\n, otherwise, no value is returned. This property is not returned for files. Refer to the\ngetcontentlength\nproperty for folders and collections. The requested properties, along with their respective values (\npropstat\n)."
        }
    ]
}