{
    "file_name": "server_admin_manual_configuration_server_config_apps_sample_php_parameters.html",
    "file_path": "./owncloud_docs\\server_admin_manual_configuration_server_config_apps_sample_php_parameters.html",
    "chunks": [
        {
            "cluster": 2,
            "chunk_content": "Documentation for ownCloud (A Kiteworks Company)\nownCloud Server\nIntroduction\nAdmin Manual\nIntroduction\nUseful Pages\nFAQ\nGDPR\nInstallation\nDeployment Considerations\nDeployment Recommendations\nNFS\nSystem Requirements\nConfiguration Notes and Tips\nInstallation Options\nInstalling With Docker\nManual Installation on Linux\nDetailed Installation Guide\nDetailed Installation on Ubuntu (various versions)\nQuick Installation Guide\nOn Ubuntu 20.04\nOn Ubuntu 22.04\nLinux Package Manager\nLinux Package Manager Installation\nThe Installation Wizard\nTroubleshooting\nChanging Your ownCloud URL\nInstalling and Managing Apps\nSupported Apps\nMedia Viewer\nSELinux Configuration\nUsing Let’s Encrypt SSL Certificates\nUsing Letsencrypt\nApache\nConfiguration\nDatabase\nDatabase Conversion\nDatabase Configuration\nEncryption\nEncryption Configuration\nEncryption Configuration Quick Guide\nExternal Storage\nExternal Storage Configuration\nExternal Storage Authentication Mechanisms\nAmazonS3\nDropbox\nFTP\nGoogle\nLocal\nownCloud\nS3 as Primary\nSFTP\nSMB\nWebDAV\nFiles and Sharing\nBig File Upload Configuration\nManual File Locking\nDefault Files Configuration\nFederated Cloud Sharing Configuration\nFile Sharing Configuration\nFile Versioning\nTransactional File Locking\nPreview Configuration\nMimetypes\nManaging the Trashbin\nIntegration\nMicrosoft Teams\nownCloud App for Splunk\nGeneral Topics\nCode Signing\nImpersonate Users\nFull Text Search\nServer\nActivity Configuration\nBackground Jobs Configuration\nCaching Configuration\nConfig Sample PHP Parameters\nConfig Apps Sample PHP Parameters\nCustom Client Repos\nEmail Configuration\nExcluded Blacklisted Files\nExternal Sites\nHarden Server\nImport SSL Cert\nIndex PHP Less URLs\nOCC Command\nLanguage Configuration\nLegal Settings Configuration\nLogging\nLogging Configuration\nRequest Tracing\nReverse Proxy Configuration\nSecurity\nBrute-Force Protection\nOAuth2\nPassword policy\nSecurity Setup Warnings\nThe HSM (Hardware Security Module) Daemon\nDependency Notes\nServer Tuning\nThird Party PHP Configuration\nVirus Scanner Support\nUI Configuration\nUser\nUser Management\nUser Roles\nReset Admin Password\nReset User Password\nUser Auth FTP SMB IMAP\nUser Auth LDAP\nUser Auth Two-Factor\nUser Auth OAuth2\nUser Provisioning API\nCustom Groups App\nGuests App\nOpenID Connect (OIDC)\nLogin Policies\nMaintenance\nUpgrading\nManual Upgrade\nDatabase Upgrade\nUpgrading from Package\nUsing the Updater App\nUpgrading PHP\nMarketplace Apps\nBackup and Restore\nBackup\nRestore\nMaintenance Mode\nExport and Import Instance Data\nManually Moving Data Folders\nEncryption\nMigrating from User Key to Master Key Encryption\nMigrating to a Different Server\nMigrating to Kiteworks PCN\nEnterprise\nAuthentication\nEnterprise Only Authentication\nKerberos Authentication\nClients\nCustom Client Repos\nCollaboration\nCollabora Online / Secure View\nMicrosoft Office Online / WOPI Integration\nDocument Classification\nClassify Documents and Enforce Policies\nExternal Storage\nLDAP Home Connector Configuration\nSharepoint integration Configuration\nWindows Network Drive Configuration\nWND Configuration Quick Guide\nFile Management\nFile Tagging\nFile Lifecycle Management\nFirewall\nFile Firewall\nInstallation\nInstalling & Upgrading ownCloud Enterprise Edition\nOracle DB Setup & Configuration\nLogging\nAuditing\nReporting\nMetrics\nGenerate a Config Report\nSecurity\nRansomware Protection\nUser Management\nShibboleth Integration\nSAML 2.0 Based SSO\nTroubleshooting\nGeneral Troubleshooting\nPath and Filename Length Limitations\nRetrieve Log Files and Configuration Settings\nRemove Non-Existent Background Jobs\nFound a Mistake? Developer Manual\nIntroduction\nGeneral Contributor Guidelines\nCommunity Code of Conduct\nCoding Style & General Guidelines\nDebugging\nPerformance Considerations\nSecurity Guidelines\nBackporting\nHelp and Communication\nDeveloping ownCloud Core\nIntroduction\nSetup Your Development Environment\nApplication Configuration\nTheming\nTranslation\nCode Standards Compliance\nTesting\nownCloud Test Pilots\nDrone Testing\nUnit Testing\nAcceptance Tests\nUser Interface Testing\nAvailable APIs\nThe External API\nThe Provisioning API\nOCS\nThe OCS Notifications API (v1)\nThe OCS REST API\nThe OCS Recipient API\nThe OCS Share API\nThe OCS TOTP Validation API\nThe OCS User Sync API\nNotify Public Link By Email\nThe Roles API\nWebDAV APIs\nThe Comments API\nThe Custom Groups Management API\nThe Files Versions API\nThe Meta API\nThe Search API\nThe Tags API\nThe Trash Bin API\nThe Public Files API\nApplication Development\nFundamental Concepts\nApplication Metadata\nThe Classloader\nConfiguration\nRouting\nControllers\nTemplates\nJavaScript\nCSS\nMiddleware\nDatabase Connectivity\nBackground Jobs\nLogging\nTesting\nThe DI Container\nFilesystem\nRESTful API\nHooks\nPublishing in the ownCloud Marketplace\nChangelog\nMarket App\nAdvanced Concepts\nCustom Filesystem Caches\nCustom Storage Backends\nNotifications\nStorage Backends\nExternal Storage Backends\nTranslation\nTwo-Factor Providers\nUser Management\nCode Signing\nTutorial\nMinimum Requirements\nThe Request Life Cycle\nThe Core Application Files\nRoutes and Controllers\nDatabase Connectivity\nCreate Template Content\nCreate a Navigation Menu\nAdd JavaScript and CSS\nWiring it Up\nApply the Finishing Touches\nAdd a RESTful API\nWriting Tests\nMobile Development\nAndroid\nLibrary Installation\nExamples\niOS\nLibrary Installation\nExamples\nBugtracker\nCode Reviews\nBug Triaging\nFound a Mistake? ownCloud Server UI\nIntroduction\nThe WebUI\nWeb Interface\nNavigating the WebUI\nPersonal Settings\nGeneral\nStorage\nSharing\nSecurity\nCustom Groups\nFiles\nAccess WebDAV\nSharing Files\nSearch & Full Text Search\nTagging Files\nComments\nVersion Control\nEncrypting Files\nManaging Deleted Files\nLarge File Uploads\nManual File Locking\nFile Lifecycle Management\nPublic Link Shares\nFederated Cloud Sharing\nManaging Connected Browsers and Devices\nOnline Collaboration\nStorage Quotas\nExternal Storage\nConnecting to SharePoint\nDesktop Mobile Sync\nApps\nActivity\nCalendar\nContacts\nMarket\nMedia Viewer App\nIntegration\nMicrosoft Teams\nSynchronization Clients\nSync iOS\nSync KDE\nSync OSX\nSync Thunderbird\nTroubleshooting\nFound a Mistake? ownCloud Server\n10.15\nDesktop App\nnext\n5.3\n5.2\nInfinite Scale Documentation\nnext\n7.1\n7.0\nMobile App for Android\nnext\n4.5\n4.4\nMobile App for iOS\nnext\n12.4\n12.3\nownCloud Main Page\nownCloud Server\nnext\n10.15\n10.14\nownCloud Web User Interfaces\nnext\nownCloud Server\nAdmin Manual\nConfiguration\nServer\nConfig Apps Sample PHP Parameters\nnext\n10.15\n10.14\nEdit this Page\nApps Config.php Parameters\nTable of Contents\nIntroduction\nMultiple configuration files\nApp: Activity\nApp: Admin Audit\nApp: Files Antivirus\nApp: Files PDF Viewer\nApp: Files Versions\nApp: Firstrunwizard\nApp: Kerberos\nApp: LDAP\nApp: Market\nApp: Metrics\nApp: Microsoft Office Online (WOPI)\nApp: Microsoft Teams Bridge\nApp: OpenID Connect (OIDC)\nApp: Richdocuments\nApp: S3 Primary Object Storage\nApp: Windows Network Drive (WND)\nApp: Workflow / Tagging\nIntroduction\nThis document describes parameters for apps maintained by ownCloud that are not part of the core system. Multiple configuration files\nownCloud supports loading configuration parameters from multiple files. These custom files are not overwritten by ownCloud, and the values in these files take precedence over\nconfig.php\n. ownCloud may write configurations into\nconfig.php\n. App: Activity\nPossible key:\nactivity_expire_days\nDAYS\nDefine the retention for activities of the activity app\nCode Sample\n'activity_expire_days' => 365,\nApp: Admin Audit\nPossible key:\nlog.conditions\nARRAY\nPossible key:\nadmin_audit.groups\nARRAY\nConfigure the path to the log file\nCode Sample\n'log.conditions' => [\n[\n'apps' => ['admin_audit'],\n// Adjust the path below, to match your setup\n'logfile' => '/var/www/owncloud/data/admin_audit.log'\n],\n],\nFilter the groups that messages are logged for\nCode Sample\n'admin_audit.groups' => ['group1', 'group2'],\nApp: Files Antivirus\nPossible key:\nfiles_antivirus.av_path\nSTRING\nPossible key:\nfiles_antivirus.av_cmd_options\nSTRING\nDefault path to the\nclamscan\ncommand line anti-virus scanner. Code Sample\n'versions_retention_obligation' => 'auto',\nApp: Firstrunwizard\nPossible key:\ncustomclient_desktop\nURL\nPossible key:\ncustomclient_android\nURL\nPossible key:\ncustomclient_ios\nURL\nDefine the download links for ownCloud clients\nConfiguring the download links for ownCloud clients,\nas seen in the first-run wizard and on Personal pages\nCode Sample\n'customclient_desktop' =>\n'https://owncloud.com/desktop-app/',\n'customclient_android' =>\n'https://play.google.com/store/apps/details?id=com.owncloud.android',\n'customclient_ios' =>\n'https://apps.apple.com/app/id1359583808',\nApp: Kerberos\nPossible key:\nkerberos.keytab\nSTRING\nPossible key:\nkerberos.suppress.timeout\nINTEGER\nPossible key:\nkerberos.domain\nSTRING\nPossible key:\nkerberos.login.buttonName\nSTRING\nPossible key:\nkerberos.login.autoRedirect\nBOOL\nKerberos keytab File Location\nPath to the 'keytab' file to use, defaults to '/etc/krb5.keytab'. Code Sample\n'kerberos.login.autoRedirect' => false,\nApp: LDAP\nPossible key:\nldapIgnoreNamingRules\ndoSet\nor\nfalse\nPossible key:\nuser_ldap.enable_medial_search\nBOOL\nDefine parameters for the LDAP app\nCode Sample\n'ldapIgnoreNamingRules' => false,\n'user_ldap.enable_medial_search' => false,\nApp: Market\nPossible key:\nappstoreurl\nURL\nDefine the download URL for apps\nCode Sample\n'appstoreurl' => 'https://marketplace.owncloud.com',\nApp: Metrics\nNote: This app is for Enterprise customers only. Possible key:\nwopi.token.key\nSTRING\nPossible key:\nwopi.proxy.key\nSTRING\nPossible key:\nwopi.office-online.server\nURL\nPossible key:\nwopi_group\nSTRING\nPossible key:\nwopi.proxy.url\nURL\nPossible key:\nwopi.business-flow.enabled\nSTRING\nRandom Keys Created by the ownCloud Admin\nBoth,\nwopi.token.key\nand\nwopi.proxy.key\nare random keys created by the ownCloud admin. The keys are used by ownCloud to create encrypted JWT tokens for the communication with your\nMicrosoft Office Online instance. You can use the following example command to generate a random key:\necho $(tr -dc 'a-z0-9' < /dev/urandom | head -c 32)\nCode Sample\n'wopi.token.key' => 'replace-with-your-own-very-long-random-string',\nMicrosoft Office Online instance URL\nThis is the URL of the Microsoft Office Online instance ownCloud communicates with. Keep\nin mind that you need to grant communication access at your Microsoft Office\nOnline instance with this ownCloud instance. For further information, read the\nownCloud documentation. Note that you will get a working URL from ownCloud Support after you provide a written\ndeclaration that your company has an eligible Microsoft Business contract. To use this option, you need at least ownCloud’s Microsoft Office Online app version 1.6.0. Users will be asked to click a login\nbutton each time when accessing the ownCloud app after a fresh start of their\nMicrosoft Teams app or after idle time. Code Sample\n'msteamsbridge' => [\n\"loginButtonName\" => \"Login to ownCloud with Azure AD\",\n],\nApp: OpenID Connect (OIDC)\nPossible key:\nopenid-connect\nARRAY\nConfigure OpenID Connect - all possible sub-keys\nYou have to use the main key\nopenid-connect\ntogether with sub keys listed below, see code samples. LDAP\n(\n'allowed-user-backends' ⇒ ['LDAP']\n)\nauth-params\nAdditional parameters which are sent to the IdP during the auth requests\nautoRedirectOnLoginPage\nIf\ntrue\n, the ownCloud login page will redirect directly to the Identity Provider\nlogin without requiring the user to click a button. auto-provision\nIf\nauto-provision\nis setup, an ownCloud user will be created if not exists, after successful\nlogin using openid connect. mode\nThis is the attribute in the owncloud accounts table to search for users. redirect-url\nThe full URL under which the ownCloud OpenId Connect redirect URL is reachable - only\nneeded in special setups. Easy setup\nCode Sample\n'openid-connect' => [\n// it is expected that the user already exists in ownCloud\n'auto-provision' => ['enabled' => false],\n'provider-url' => 'https://idp.example.net',\n'client-id' => 'fc9b5c78-ec73-47bf-befc-59d4fe780f6f',\n'client-secret' => 'e3e5b04a-3c3c-4f4d-b16c-2a6e9fdd3cd1',\n'loginButtonName' => 'OpenId Connect'\n],\nSetup auto provisioning mode\nCode Sample\n'openid-connect' => [\n// explicit enable the auto provisioning mode,\n// if not exists, the user will be created in ownCloud\n'auto-provision' => [\n'enabled' => true,\n// documentation about standard claims:\n// https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims\n// only relevant in userid mode, defines the claim which holds the email of the user\n'email-claim' => 'email',\n// defines the claim which holds the display name of the user\n'display-name-claim' => 'given_name',\n// defines the claim which holds the picture of the user - must be a URL\n'picture-claim' => 'picture',\n// defines a list of groups to which the newly created user will be added automatically\n'groups' => ['admin', 'guests', 'employees'],\n// sets a claim which is defined at the IDP. // the IDP will return a single value or an array like:\n// \"allowed_applications\": [\"erp\", \"owncloud\"],\n'provisioning-claim' => 'allowed_applications',\n// defines the matching case for the provisioning. the attribute can only be a\n// single value in case no match is found against the IDP response,\n// no provisioning will be made, \"User not found\" will be returned\n'provisioning-attribute' => 'owncloud',\n// auto-update user account info with current information provided by the\n// OpenID Connect provider account attributes, that will be updated,\n// can be specified in `attributes` config option\n'update' => ['enabled' => true],\n// enable the user info auto-update mode\n],\n// `mode` and `search-attribute` will be used to create a unique user in ownCloud\n'mode' => 'email',\n'search-attribute' => 'email',\n],\nManual setup\nCode Sample\n'openid-connect' => [\n// it is expected that the user already exists in ownCloud\n'auto-provision' => ['enabled' => false],\n'autoRedirectOnLoginPage' => false,\n'client-id' => 'fc9b5c78-ec73-47bf-befc-59d4fe780f6f',\n'client-secret' => 'e3e5b04a-3c3c-4f4d-b16c-2a6e9fdd3cd1',\n'loginButtonName' => 'OpenId Connect',\n'mode' => 'userid',\n'search-attribute' => 'sub',\n// only required if the OpenID Connect Provider does not support service discovery\n// replace the dots with your values\n'provider-params' => [\n'authorization_endpoint' => '...',\n'end_session_endpoint' => '...',\n'jwks_uri' => '...',\n'registration_endpoint' => '...',\n'token_endpoint' => '',\n'token_endpoint_auth_methods_supported' => '...',\n'userinfo_endpoint' => '...'\n],\n'provider-url' => '...',\n],\nTest setup\nCode Sample\n'openid-connect' => [\n// it is expected that the user already exists in ownCloud\n'auto-provision' => ['enabled' => false],\n'provider-url' => 'http://localhost:3000',\n'client-id' => 'ownCloud',\n'client-secret' => 'ownCloud',\n'loginButtonName' => 'node-oidc-provider',\n'mode' => 'userid',\n'search-attribute' => 'sub',\n// do not verify tls host or peer\n'insecure' => true\n],\nApp: Richdocuments\nPossible key:\ncollabora_group\nSTRING\nDefine the group name for users allowed to use Collabora\nPlease note, only one group can be defined. Both\nhidden files and folders will be shown, and you can write on read-only files\n(the action is available in ownCloud, but it will fail in the SMB server). However, due to\nproblems in recent libsmbclient versions (4.11+, it might be earlier) it will cause\nmalfunctions in ownCloud; permissions are wrongly evaluated. This option\nmakes the group membership component assume the ACL contains a user and checks whether\nthere is a user in ownCloud with such a name first. The data contained in each key is as follows:\nockeytab\n(required): The location of the keytab file that ownCloud\nwill use to access to the mounts using that server ID. usermapping\n(optional): The ownCloud-to-windows user mapping to be used. ccachettl\n(optional): The time (in seconds) that the credential cache\nwill be considered as valid from the ownCloud’s side. The ownCloud user ID will be\nreturned without changes, so it’s expected that the ownCloud user ID\nmatches the Windows / Samba user ID. RemoveDomain\n: Remove the domain (if any) from the ownCloud user ID. EALdapAttr\n: Use ownCloud’s user extended attributes to map the ownCloud\nuser to the target LDAP attribute. nomap\n(optional): a list of uids not registered in ownCloud that\nwon’t be mapped and be returned without any change. The following scenarios will cause errors:\nIf ownCloud can’t map the user and he isn’t in the\nnomap\nlist. If the user is registered in ownCloud and is in the\nnomap\nlist. By default, ownCloud usually normalizes names to NFC. Data will remain in the cache and won’t\nbe removed by ownCloud. Code Sample\n'workflow.retention_engine' => 'tagbased',\nConfig Sample PHP Parameters\nCustom Client Repos\nAbout ownCloud\nThe Secure Collaboration Platform\nNews\nPrivacy statement\nImprint\nResources\nFAQ\nHelp\nSecurity\nChangelog\nGet started\nInteract\nRocket.Chat\nForum\nContribute\nCustomer support\n© Copyright 2011-2025, The ownCloud developers."
        },
        {
            "cluster": 3,
            "chunk_content": "All keys are only valid if the corresponding app is installed and enabled. You must copy the keys needed to the active\nconfig.php\nfile. You can add arbitrary files ending with .config.php in the config/ directory. This allows you to easily create and manage custom configurations or to divide a large complex configuration file into a set of smaller files. These configurations may conflict with identical keys already set in additional config files. This setting only applies when the operating mode of the\nfiles_antivirus\napp is set to executable mode. See the documentation for more details. Code Sample\n'files_antivirus.av_path' => '/usr/bin/clamscan',\nCommand line options for the\nclamscan\ncommand line anti-virus scanner. This setting only applies when the operating mode of the\nfiles_antivirus\napp is set to executable mode. See the documentation for more details. Code Sample\n'files_antivirus.av_cmd_options' => '',\nApp: Files PDF Viewer\nPossible key:\nfiles_pdfviewer.enableScripting\nSTRING\nPDF files may contain JavaScript which for example can be necessary to process editable fields. Under normal circumstances and for security reasons, scripts are not allowed to be processed. To allow\nprocessing these scripts, the following config key can be set. Note that enabling scripting can be\na major security issue and should be considered as possible thread vector. Enable Scripting in PDF files. To enable scripting in PDF files, set the value to 'yes'. Any other value will be treated\nas disable scripting. Code Sample\n'files_pdfviewer.enableScripting' => '',\nApp: Files Versions\nPossible key:\nversions_retention_obligation\nSTRING\nUse following values to configure the retention behaviour. auto\nDefault value if nothing is set\nD, auto\nKeep versions at least for D days, apply expiration rules to all versions that are older than D days\nauto, D\nDelete all versions that are older than D days automatically, delete other versions according to expiration rules\nD1, D2\nKeep versions for at least D1 days and delete when they exceed D2 days\ndisabled\nDisable Versions; no files will be deleted. Pattern to define the expiration date for each backup version created. Please see the occ command documentation for more information. The keys must be distinct. Default = empty = no restriction. Use yes to enable it and no to disable it or remove the key completely. The button\nname can be freely set based on your requirements. The default is\nfalse\n. auto-provision\nholds several sub keys, see the example setup with the explanations below. This parameter allows the button text to be modified. Default = empty = no restriction. The detailed configuration of that array depends on the S3 provider. This example can therefore only show the general construct. See the \"S3 Compatible Object Storage as Primary Storage Location\" documentation for more details. Code Sample\n'objectstore' => [\n'class' => 'OCA\\Files_Primary_S3\\S3Storage',\n'arguments' => [\n// ...\n],\n],\nApp: Windows Network Drive (WND)\nNote: This app is for Enterprise customers only. Some examples:\n'wnd.errorCodes.passwordReset' ⇒ [13],\n'wnd.errorCodes.passwordReset' ⇒ [13, 1],\nThe password reset feature can be disabled by providing an empty list\n'wnd.errorCodes.passwordReset' ⇒ [],\nNote that disabling the password reset feature can lead to an account lockout\nif such feature is enabled in the target windows / samba machine. Code Sample\n'wnd.errorCodes.passwordReset' => [13],\nThe Way File Attributes for Folders and Files will be Handled\nThere are 3 possible values:\nnone\n,\nstat\nand\ngetxattr\n:\nstat\n. This is the default if the option is missing or has an invalid value. This means that the file attributes will be evaluated only for files, NOT for folders. Folders will be shown even if the \"hidden\" file attribute is set. This means that the file attributes won’t be evaluated in any case. This means that file attributes will always be evaluated. Alternatively, you can disable this feature completely. See below\nfor available options. The mapping data contains the type of mapping and the parameters, if any. Available mapping types:\nNoop\n: Do not perform any mapping. The most used normalization forms are NFC and NFD. With macOS and HFS+ as filesystem, NFD is required. As a result, the file will not be shown. As a mandatory prerequisite, the mount point setting\nCompatibility with Mac NFD encoding\nmust be checked. Possible key:\nworkflow.retention_engine\nSTRING\nProvide Advanced Management of File Tagging\nEnables admins to specify rules and conditions (file size, file mimetype, group membership and more)\nto automatically assign tags to uploaded files. Values:\ntagbased\n(default) or\nuserbased\n."
        },
        {
            "cluster": 1,
            "chunk_content": "Example:\nYou could place your email server configuration in\nemail.config.php\n. Code Sample\n'kerberos.keytab' => '/etc/apache2/www-data.keytab',\nKerberos SPNEGO Timeout\nTimeout before re-enabling SPNEGO based authentication after logout, defaults to 60 seconds. Code Sample\n'kerberos.suppress.timeout' => 60,\nKerberos Domain\nThe domain name - remove from principals to match the pure user name. Example: '\nalice@corp.dir\n' will look for the user 'alice' in LDAP if 'kerberos.domain' is set to 'corp.dir'. Code Sample\n'kerberos.domain' => '',\nLogin Name Button\nThe name of the login button shown on the login page. Code Sample\n'kerberos.login.buttonName' => 'Windows Domain Login',\nImmediate Login\nIf set to true, the login page will immediately try to log in via Kerberos. Possible key:\nmetrics_shared_secret\nSTRING\nSecret to use the Metrics dashboard\nYou have to set a Metrics secret to use the dashboard. You cannot use the dashboard\nwithout defining a secret. You can use any secret you like. In case you want to generate\na random secret, use the following example command:\necho $(tr -dc 'a-z0-9' < /dev/urandom | head -c 20)\nIt is also possible to set this secret via an occ command which writes key and data to the\nconfig.php file. Code Sample\n'metrics_shared_secret' => 'replace-with-your-own-random-string',\nApp: Microsoft Office Online (WOPI)\nNote: This app is for Enterprise customers only. Note that\nwopi.token.key\nmust be at least 32 bytes long. Code Sample\n'wopi.office-online.server' => 'https://your.office.online.server.tld',\nDefine the group name for users allowed to use Microsoft Office Online\nRestrict access to Microsoft Office Online to a defined group. Please note, only one group can be defined. Code Sample\n'wopi_group' => '',\nDefine the Proxy URL\nThis global option defines the proxy URL if you are a Microsoft Business user. Code Sample\n'wopi.proxy.url' => 'https://o365.example.com',\nDefine if Business Flow Is Enabled\nThis global option defines if Office users are business users. In that case, Office Online will check if the user logged in has an Office 365 business account. If not, the user must sign in and Office Online will check if the subscription is valid. Code Sample\n'wopi.business-flow.enabled' => 'no',\nApp: Microsoft Teams Bridge\nPossible key:\nmsteamsbridge\nARRAY\nSub key:\nloginButtonName\nSTRING\nLogin Button Label\nThis key is necessary for security reasons. allowed-user-backends\nLimit the users which are allowed to login to a specific user backend - e.g. The config parameters\nmode\nand\nsearch-attribute\nwill be used\nto create a unique user so that the lookup mechanism can find the user again. This is where\nan LDAP setup is usually required. The profile picture will only be transferred upon account\ncreation, but will not be updated afterwards if it changes in the connected IdP. If\nauto-provision\nis not setup or required, it is expected that the user exists and you\nMUST declare this with\n['enabled' ⇒ false]\nlike shown in the Easy Setup example. auto-update\nWhen using the provisioning mode\nauto-update\n, user account info will update with the current\ninformation provided by the OpenID Connect provider upon each user log in. insecure\nBoolean value (\ntrue\n/\nfalse\n), no SSL verification will take place when talking to the\nIdP -\nDO NOT use in production! jwt-self-signed-jwk-header-supported\nIf set to true, JWK (JSON Web Token) will be taken from the JWT header instead of the IdP’s jwks_uri. Should only be enabled in exceptional cases as this could lead to vulnerabilities\nhttps://portswigger.net/kb/issues/00200902_jwt-self-signed-jwk-header-supported\nloginButtonName\nThe name as displayed on the login screen which is used to redirect to the IdP. By default, the OpenID Connect App will add a button on the login page that will\nredirect the user to the Identity Provider and allow authentication via OIDC. The default value is\nemail\n. The alternative value is:\nuserid\n. post_logout_redirect_uri\nA given URL where the IdP should redirect to after logout. provider-params\nAdditional config array depending on the IdP to be entered here - usually only necessary if\nthe IdP does not support service discovery. provider-url, client-id and client-secret\nVariables are to be taken from the OpenID Connect Provider’s setup. For the\nprovider-url\n, the URL where the IdP is living. In some cases (KeyCloak, Azure AD) this holds more than just a domain but also a path. scopes\nEnter the list of required scopes depending on the IdP setup. search-attribute\nThe attribute which is taken from the access token JWT or user info endpoint to identify\nthe user. This is the claim from the OpenID Connect user information which shall be\nused for searching in the accounts table. The default value is\nemail\n. For\nmore information about the claim, see\nhttps://openid.net/specs/openid-connect-core-1_0.html#Claims\n. token-introspection-endpoint-client-id\nClient ID to be used with the token introspection endpoint. token-introspection-endpoint-client-secret\nClient secret to be used with the token introspection endpoint. use-access-token-payload-for-user-info\nIf set to\ntrue\nany user information will be read from the access token. If set to\nfalse\nthe userinfo endpoint is used (starting app version 1.1.0). Code Sample\n'collabora_group' => '',\nApp: S3 Primary Object Storage\nPossible key:\nobjectstore\nARRAY\nConfigure the access parameters for a particular S3 provider. Code Sample\n'wnd.connector.opts.timeout' => 20000,  // 20 seconds\nReset the Password When Receiving Any of the Following Error Codes. By default, we will reset the password with error code 13, which means\naccess denied. Depending on circumstances, you might want to add the\nerror code 1, which means an operation not permitted (although there could\nbe cases where this \"operation not permitted\" might not be caused by a wrong\npassword). Note that the ACLs (if active) will be evaluated and applied on top of this mechanism. Code Sample\n'wnd.fileInfo.parseAttrs.mode' => 'stat',\nMake the Group Membership Component Assume that the ACL Contains a User\nThe WND app doesn’t know about the users or groups associated with ACLs. This\nmeans that an ACL containing \"admin\" might refer to a user called \"admin\" or a\ngroup called \"admin\". By default, the group membership component considers the ACLs to\ntarget groups, and as such, it will try to get the information for such a group. This\nworks fine if the majority of the ACLs target groups. If the majority of the ACLs\ncontain users, this might be problematic. If the name doesn’t refer to a user,\nit will get the group information. It is\nrecommended to enable this option only if there are a high number of ACLs targeting users. Code Sample\n'wnd.groupmembership.checkUserFirst' => false,\nEnable or Disable the WND In-Memory Notifier for Password Changes\nHaving this feature enabled implies that whenever a WND process detects a\nwrong password in the storage - maybe the password has changed in the\nbackend - all WND storages that are in-memory will be notified in order to reset\ntheir passwords if applicable and not to requery again. The intention is to prevent a potential password lockout for the user in the backend. Code Sample\n'wnd.in_memory_notifier.enable' => true,\nA Map of Servers With the Required Kerberos Data\nA map of servers with the required data to get the Kerberos credentials\nin order to access them. Each key of the map must be unique and identifies a server. This ID will\nbe used in the web UI to configure the mount points to use the Kerberos\nauthentication. You can use any ID (choose one meaningful and easy to remember). The keytab must\nbe for a service account with special privileges, in particular, it must\nbe able to impersonate the users. It is highly recommended that the password\nfor this service account doesn’t expire, otherwise you will have to replace\nthe file manually before the expiration. See the Kerberos documentation for details. ocservice\n(required): The name of the service of the account. This matches\nthe SPN of the Windows / Samba account. It usually is in the form \"HTTP/<hostname>\",\nbut it might be different. See the Kerberos documentation for details. If no user mapping is provided, the\nNoop\nmapping will\nbe used. Once the TTL is over, new credentials will be\nrequested automatically. This means that \"\nuser001@my.dom.com\n\" will map to \"user001\". Note that\nit’s assumed that all users belong to the same domain, otherwise\n\"\nuser001@my.dom.com\n\" will be mapped to the same windows user as\n\"\nuser001@not.mine.eu\n\". The mapping has 2 parameters:\nattr\n: in order to select the LDAP attribute you want to use. Note\nthat it’s required that the user_ldap app exposes the chosen attribute which\nrequires user_ldap 0.19.0+. If it isn’t a LDAP user. Code Sample\n'wnd.kerberos.servers' => [\n'server_ID1' => [\n'ockeytab' => '<keytab-file-location>/<user-name>.keytab',\n'ocservice' => 'HTTP/<hostname_or_FQDN>',\n'usermapping' => ['type' => 'Noop'],\n'ccachettl' => 60 * 60 * 9,\n],\n'server_ID2' => [\n'ockeytab' => '<keytab-file-location>/<user-name>.keytab',\n'ocservice' => 'HTTP/<hostname_or_FQDN>',\n'usermapping' => ['type' => 'RemoveDomain'],\n'ccachettl' => 60 * 60 * 9,\n],\n'server_ID3' => [\n'ockeytab' => '<keytab-file-location>/<user-name>.keytab',\n'ocservice' => 'HTTP/<hostname_or_FQDN>',\n'usermapping' => [\n'type' => 'EALdapAttr',\n'params' => [\n'attr' => 'userPrincipalName',\n'nomap' => ['ocService@example.prv', 'secondaryAccount@company.com'],\n]\n],\n'cachettl' => 3600,\n],\n],\nListen to the Events Triggered by the smb_acl App\nThe current use is to update the WND storages (with \"login credentials,\nsaved in DB\" authentication) when an ACL changes via the smb_acl app\nCode Sample\n'wnd.listen_events.smb_acl' => false,\nMandatory Listener Reconnect to the Database\nThe listener will reconnect to the DB after given seconds."
        },
        {
            "cluster": 0,
            "chunk_content": "Be careful when using this capability! Replace\nD\nwith the number of days. This behavior is by design. Please consider\nthat this can have a performance impact when changes are sent to many users. Increase it if requests to the server sometimes time out. This can happen when SMB3\nencryption is selected and smbclient is overwhelming the server with requests. So far, this mode works\nwith libsmbclient 4.7 but not with 4.11+ (not tested with any version in between). The cost of getting information on a\ngroup is usually higher than getting information on a user. Note that this will have performance implications\nif the group membership component can’t discard users in a large number of cases. As with PHP lower than 7.4, this feature can take a lot of memory resources. This is because WND keeps the storage access and its caches in-memory. With PHP 7.4 or above, the memory usage has been reduced significantly. This TTL MUST be\nlower than the actual TTL. The default TTL is 9 hours, which is less than\nthe 10 hours set by Windows by default. Real memory usage per item varies because it depends on the path being cached. Note that this is an in-memory cache used per request. Multiple mounts using the same permission manager will share the same\ncache, limiting the maximum memory that will be used. Code Sample\n'wnd.permissionmanager.cache.size' => 512,\nManage UTF-8 Glyph Normalization on macOS\nA glyph is a character like\nñ\nas used in the spanish word\nseñorita\nwhich can be composed by two different byte sequences. With\nUTF-8\n, glyphs can have two valid representations of these sequences in filesystems. Normalization\nmakes it possible to determine whether any two Unicode strings are equivalent. The value will be used by all WND2 storages. Although the\ncache isn’t exactly per user but per storage id, consider the cache to be per user, because\nit will be like that for common use cases. Aim for a low TTL value in order to not fill the memcache\ncompletely. In order to properly disable caching, use -1 or any negative value. 0 (zero)\nisn’t considered a valid TTL value and will also disable caching."
        },
        {
            "cluster": 4,
            "chunk_content": "Possible key:\nwnd.activity.registerExtension\nBOOL\nPossible key:\nwnd.activity.sendToSharees\nBOOL\nPossible key:\nwnd.connector.opts.timeout\nINTEGER\nPossible key:\nwnd.errorCodes.passwordReset\nARRAY\nPossible key:\nwnd.fileInfo.parseAttrs.mode\nSTRING\nPossible key:\nwnd.groupmembership.checkUserFirst\nBOOL\nPossible key:\nwnd.in_memory_notifier.enable\nBOOL\nPossible key:\nwnd.kerberos.servers\nARRAY\nPossible key:\nwnd.listen_events.smb_acl\nBOOL\nPossible key:\nwnd.listen.reconnectAfterTime\nINTEGER\nPossible key:\nwnd.logging.enable\nBOOL\nPossible key:\nwnd.permissionmanager.cache.size\nINTEGER\nPossible key:\nwnd2.cachewrapper.normalize\nBOOL\nPossible key:\nwnd2.cachewrapper.ttl\nINTEGER\nNote\nWith WND 2.1.0, key\nwnd.storage.testForHiddenMount\nis obsolete and has been removed completely. Enable to Push WND Events to the Activity App\nRegister WND as extension into the Activity app in order to send information about what\nthe\nwnd:process-queue\ncommand is doing. The activity sent will be based on what\nthe\nwnd:process-queue\ndetects, and the activity will be sent to each affected user. There\nwon’t be any activity being sent outside of the\nwnd:process-queue\ncommand. wnd:listen\n+\nwnd:process-queue\n+\nactivity app\nare required for this to work properly. See\nwnd.activity.sendToSharees\nbelow for information on how to send activities for shared resources. Code Sample\n'wnd.activity.registerExtension' => false,\nEnable to Send WND Activity Notifications to Sharees\nThe\nwnd:process-queue\ncommand will also send activity notifications to the sharees\nif a WND file or folder is shared (or accessible via a share). It’s REQUIRED that the\nwnd.activity.registerExtension\nflag is set to true (see above), otherwise this flag will\nbe ignored. This flag depends on the\nwnd.activity.registerExtension\nand has the same restrictions. Code Sample\n'wnd.activity.sendToSharees' => false,\nThe Timeout (in ms) for All the Operations Against the Backend\nThe same timeout will be applied for all the connections. This will\nprevent the listener to crash if the connection to the DB is closed after\nbeing idle for a long time. Code Sample\n'wnd.listen.reconnectAfterTime' => 28800,\nEnable Additional Debug Logging for the WND App\nCode Sample\n'wnd.logging.enable' => false,\nMaximum Number of Items for the Cache Used by the WND Permission Managers\nA higher number implies that more items are allowed, increasing the memory usage. When using WND collaborative mount points connecting to macOS with HFS+, or any other filesystem using NFD, probing both forms can be enforced by setting the config variable\nwnd2.cachewrapper.normalize\nto true. This is necessary because if a file accessed via collaborative WND contains NFD characters, WND will not find the file and the WND app will assume user doesn’t have access to it. Code Sample\n'wnd2.cachewrapper.normalize' => false,\nTTL for the WND2 Caching Wrapper\nTime to Live (TTL) in seconds to be used to cache information for the WND2 (collaborative)\ncache wrapper implementation. Code Sample\n'wnd2.cachewrapper.ttl' => 1800,  // 30 minutes\nApp: Workflow / Tagging\nNote: This app is for Enterprise customers only."
        }
    ]
}